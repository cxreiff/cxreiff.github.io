{"mappings":"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","sources":["node_modules/.pnpm/@parcel+runtime-js@2.8.3_@parcel+core@2.8.3/node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/jsx-runtime/src/index.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/src/util.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/src/options.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/src/create-element.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/src/component.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/src/create-context.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/src/constants.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/src/diff/children.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/src/diff/props.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/src/diff/index.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/src/render.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/src/clone-element.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/src/diff/catch-error.js","node_modules/.pnpm/use-sync-external-store@1.2.0_@preact+compat@17.1.2/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/compat/src/util.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/compat/src/PureComponent.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/compat/src/memo.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/compat/src/forwardRef.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/compat/src/Children.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/compat/src/suspense.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/compat/src/suspense-list.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/compat/src/portals.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/compat/src/render.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/compat/src/index.js","node_modules/.pnpm/preact@10.13.0/node_modules/preact/hooks/src/index.js","node_modules/.pnpm/use-sync-external-store@1.2.0_@preact+compat@17.1.2/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.min.js","node_modules/.pnpm/use-sync-external-store@1.2.0_@preact+compat@17.1.2/node_modules/use-sync-external-store/shim/index.js","node_modules/.pnpm/react-is@16.13.1/node_modules/react-is/cjs/react-is.production.min.js","node_modules/.pnpm/react-is@18.2.0/node_modules/react-is/index.js","node_modules/.pnpm/react-is@18.2.0/node_modules/react-is/cjs/react-is.production.min.js","node_modules/.pnpm/react-router-dom@6.8.1_@preact+compat@17.1.2_@preact+compat@17.1.2/node_modules/react-router-dom/index.tsx","node_modules/.pnpm/react-router-dom@6.8.1_@preact+compat@17.1.2_@preact+compat@17.1.2/node_modules/react-router-dom/dom.ts","node_modules/.pnpm/@remix-run+router@1.3.2/node_modules/@remix-run/router/history.ts","node_modules/.pnpm/@remix-run+router@1.3.2/node_modules/@remix-run/router/utils.ts","node_modules/.pnpm/@remix-run+router@1.3.2/node_modules/@remix-run/router/router.ts","node_modules/.pnpm/react-router@6.8.1_@preact+compat@17.1.2/node_modules/react-router/lib/use-sync-external-store-shim/useSyncExternalStoreShimClient.ts","node_modules/.pnpm/react-router@6.8.1_@preact+compat@17.1.2/node_modules/react-router/lib/use-sync-external-store-shim/index.ts","node_modules/.pnpm/react-router@6.8.1_@preact+compat@17.1.2/node_modules/react-router/lib/use-sync-external-store-shim/useSyncExternalStoreShimServer.ts","node_modules/.pnpm/react-router@6.8.1_@preact+compat@17.1.2/node_modules/react-router/lib/context.ts","node_modules/.pnpm/react-router@6.8.1_@preact+compat@17.1.2/node_modules/react-router/lib/hooks.tsx","node_modules/.pnpm/react-router@6.8.1_@preact+compat@17.1.2/node_modules/react-router/lib/components.tsx","node_modules/.pnpm/classnames@2.3.2/node_modules/classnames/index.js","src/app/store.ts","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/index.js","node_modules/.pnpm/use-sync-external-store@1.2.0_@preact+compat@17.1.2/node_modules/use-sync-external-store/shim/with-selector.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/utils/reactBatchedUpdates.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/utils/batch.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/hooks/useSelector.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/hooks/useReduxContext.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/components/Context.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/utils/useSyncExternalStore.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/components/connect.js","node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/extends.js","node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","node_modules/.pnpm/hoist-non-react-statics@3.3.2/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","node_modules/.pnpm/react-is@16.13.1/node_modules/react-is/index.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/connect/selectorFactory.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/connect/verifySubselectors.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/utils/warning.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/connect/mapDispatchToProps.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/utils/bindActionCreators.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/connect/wrapMapToProps.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/utils/verifyPlainObject.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/utils/isPlainObject.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/connect/invalidArgFactory.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/connect/mapStateToProps.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/connect/mergeProps.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/utils/Subscription.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/utils/useIsomorphicLayoutEffect.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/utils/shallowEqual.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/exports.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/components/Provider.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/hooks/useDispatch.js","node_modules/.pnpm/react-redux@8.0.5_@preact+compat@17.1.2_@preact+compat@17.1.2_@types+react-dom@17.0.19_@types+react@17.0.53_redux@4.2.1/node_modules/react-redux/es/hooks/useStore.js","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/devtoolsExtension.ts","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/isPlainObject.ts","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/utils.ts","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/getDefaultMiddleware.ts","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/configureStore.ts","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/createAction.ts","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/mapBuilders.ts","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/createSlice.ts","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/createReducer.ts","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/nanoid.ts","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/createAsyncThunk.ts","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/listenerMiddleware/index.ts","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/listenerMiddleware/task.ts","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/autoBatchEnhancer.ts","node_modules/.pnpm/@reduxjs+toolkit@1.9.3_@preact+compat@17.1.2_react-redux@8.0.5/node_modules/@reduxjs/toolkit/src/index.ts","node_modules/.pnpm/immer@9.0.19/node_modules/immer/src/utils/errors.ts","node_modules/.pnpm/immer@9.0.19/node_modules/immer/src/utils/common.ts","node_modules/.pnpm/immer@9.0.19/node_modules/immer/src/utils/plugins.ts","node_modules/.pnpm/immer@9.0.19/node_modules/immer/src/core/scope.ts","node_modules/.pnpm/immer@9.0.19/node_modules/immer/src/core/finalize.ts","node_modules/.pnpm/immer@9.0.19/node_modules/immer/src/core/proxy.ts","node_modules/.pnpm/immer@9.0.19/node_modules/immer/src/core/immerClass.ts","node_modules/.pnpm/immer@9.0.19/node_modules/immer/src/core/current.ts","node_modules/.pnpm/immer@9.0.19/node_modules/immer/src/plugins/es5.ts","node_modules/.pnpm/immer@9.0.19/node_modules/immer/src/immer.ts","node_modules/.pnpm/immer@9.0.19/node_modules/immer/src/utils/env.ts","node_modules/.pnpm/redux@4.2.1/node_modules/redux/es/redux.js","node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/defineProperty.js","node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/typeof.js","node_modules/.pnpm/@babel+runtime@7.21.0/node_modules/@babel/runtime/helpers/esm/toPrimitive.js","node_modules/.pnpm/reselect@4.1.7/node_modules/reselect/es/index.js","node_modules/.pnpm/reselect@4.1.7/node_modules/reselect/es/defaultMemoize.js","node_modules/.pnpm/redux-thunk@2.4.2_redux@4.2.1/node_modules/redux-thunk/es/index.js","node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js","src/features/photos/photos.slice.ts","node_modules/.pnpm/xml2js@0.6.0/node_modules/xml2js/lib/xml2js.js","node_modules/.pnpm/xml2js@0.6.0/node_modules/xml2js/lib/defaults.js","node_modules/.pnpm/xml2js@0.6.0/node_modules/xml2js/lib/builder.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/index.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/Utility.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLDOMImplementation.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLDocument.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLDOMConfiguration.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLDOMErrorHandler.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLDOMStringList.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLNode.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLElement.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/NodeType.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLAttribute.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLNamedNodeMap.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLCData.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLCharacterData.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLComment.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLDeclaration.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLDocType.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLDTDAttList.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLDTDEntity.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLDTDElement.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLDTDNotation.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLRaw.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLText.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLProcessingInstruction.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLDummy.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLNodeList.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/DocumentPosition.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLStringifier.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLStringWriter.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLWriterBase.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/WriterState.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLDocumentCB.js","node_modules/.pnpm/xmlbuilder@11.0.1/node_modules/xmlbuilder/lib/XMLStreamWriter.js","node_modules/.pnpm/xml2js@0.6.0/node_modules/xml2js/lib/parser.js","node_modules/.pnpm/sax@1.2.4/node_modules/sax/lib/sax.js","node_modules/.pnpm/buffer@5.7.1/node_modules/buffer/index.js","node_modules/.pnpm/base64-js@1.5.1/node_modules/base64-js/index.js","node_modules/.pnpm/ieee754@1.2.1/node_modules/ieee754/index.js","node_modules/.pnpm/stream-browserify@3.0.0/node_modules/stream-browserify/index.js","node_modules/.pnpm/events@3.3.0/node_modules/events/events.js","node_modules/.pnpm/inherits@2.0.4/node_modules/inherits/inherits_browser.js","node_modules/.pnpm/readable-stream@3.6.1/node_modules/readable-stream/lib/_stream_readable.js","node_modules/.pnpm/readable-stream@3.6.1/node_modules/readable-stream/lib/internal/streams/stream-browser.js","node_modules/.pnpm/readable-stream@3.6.1/node_modules/readable-stream/lib/internal/streams/buffer_list.js","node_modules/.pnpm/readable-stream@3.6.1/node_modules/readable-stream/lib/internal/streams/destroy.js","node_modules/.pnpm/readable-stream@3.6.1/node_modules/readable-stream/lib/internal/streams/state.js","node_modules/.pnpm/readable-stream@3.6.1/node_modules/readable-stream/errors-browser.js","node_modules/.pnpm/readable-stream@3.6.1/node_modules/readable-stream/lib/_stream_duplex.js","node_modules/.pnpm/readable-stream@3.6.1/node_modules/readable-stream/lib/_stream_writable.js","node_modules/.pnpm/util-deprecate@1.0.2/node_modules/util-deprecate/browser.js","node_modules/.pnpm/string_decoder@1.3.0/node_modules/string_decoder/lib/string_decoder.js","node_modules/.pnpm/safe-buffer@5.2.1/node_modules/safe-buffer/index.js","node_modules/.pnpm/readable-stream@3.6.1/node_modules/readable-stream/lib/internal/streams/async_iterator.js","node_modules/.pnpm/readable-stream@3.6.1/node_modules/readable-stream/lib/internal/streams/end-of-stream.js","node_modules/.pnpm/readable-stream@3.6.1/node_modules/readable-stream/lib/internal/streams/from-browser.js","node_modules/.pnpm/readable-stream@3.6.1/node_modules/readable-stream/lib/_stream_transform.js","node_modules/.pnpm/readable-stream@3.6.1/node_modules/readable-stream/lib/_stream_passthrough.js","node_modules/.pnpm/readable-stream@3.6.1/node_modules/readable-stream/lib/internal/streams/pipeline.js","node_modules/.pnpm/xml2js@0.6.0/node_modules/xml2js/lib/bom.js","node_modules/.pnpm/xml2js@0.6.0/node_modules/xml2js/lib/processors.js","node_modules/.pnpm/timers-browserify@2.0.12/node_modules/timers-browserify/main.js","node_modules/.pnpm/setimmediate@1.0.5/node_modules/setimmediate/setImmediate.js","src/utilities/constants.ts","src/features/theme/theme.slice.ts","src/common/frame/frame.component.tsx","src/common/frame/frame.module.scss","src/common/card/card.component.tsx","src/common/image/image.component.tsx","src/common/card/card.module.scss","node_modules/.pnpm/@parcel+runtime-js@2.8.3_@parcel+core@2.8.3/node_modules/@parcel/runtime-js/lib/runtime-68d3f8abff3ae907.js","node_modules/.pnpm/@parcel+runtime-js@2.8.3_@parcel+core@2.8.3/node_modules/@parcel/runtime-js/lib/runtime-3ebce017036d9d15.js","node_modules/.pnpm/@parcel+runtime-js@2.8.3_@parcel+core@2.8.3/node_modules/@parcel/runtime-js/lib/helpers/browser/css-loader.js","node_modules/.pnpm/@parcel+runtime-js@2.8.3_@parcel+core@2.8.3/node_modules/@parcel/runtime-js/lib/helpers/cacheLoader.js","node_modules/.pnpm/@parcel+runtime-js@2.8.3_@parcel+core@2.8.3/node_modules/@parcel/runtime-js/lib/runtime-e0841e484535816d.js","node_modules/.pnpm/@parcel+runtime-js@2.8.3_@parcel+core@2.8.3/node_modules/@parcel/runtime-js/lib/runtime-000edd2d41a51a01.js","src/index.tsx","src/app/app.tsx","src/features/layout/layout.component.tsx","node_modules/.pnpm/lucide-preact@0.122.0_preact@10.13.0/node_modules/lucide-preact/src/defaultAttributes.ts","node_modules/.pnpm/lucide-preact@0.122.0_preact@10.13.0/node_modules/lucide-preact/src/createLucideIcon.ts","node_modules/.pnpm/lucide-preact@0.122.0_preact@10.13.0/node_modules/lucide-preact/src/icons/menu.ts","src/common/iconButton/iconButton.module.scss","src/common/iconButton/iconButton.component.tsx","src/features/theme/themeToggle.component.tsx","node_modules/.pnpm/lucide-preact@0.122.0_preact@10.13.0/node_modules/lucide-preact/src/icons/moon.ts","node_modules/.pnpm/lucide-preact@0.122.0_preact@10.13.0/node_modules/lucide-preact/src/icons/sun.ts","src/features/theme/themeToggle.module.scss","src/features/layout/layout.module.scss","src/app/filters.tsx","src/app/routing.tsx","src/common/loader/loader.component.tsx","src/common/loader/loader.module.scss","src/common/iframe/iframe.component.tsx","src/hooks/useMediaQuery.ts","src/common/iframe/iframe.module.scss","src/features/homepage/homepage.component.tsx","src/features/homepage/homepageImage.component.tsx","src/common/imageSvgOverlay/imageSvgOverlay.component.tsx","src/common/imageSvgOverlay/imageSvgOverlay.module.scss","src/features/homepage/homepageImage.module.scss","src/features/homepage/homepageAbout.component.tsx","node_modules/.pnpm/lucide-preact@0.122.0_preact@10.13.0/node_modules/lucide-preact/src/icons/file-text.ts","node_modules/.pnpm/lucide-preact@0.122.0_preact@10.13.0/node_modules/lucide-preact/src/icons/github.ts","node_modules/.pnpm/lucide-preact@0.122.0_preact@10.13.0/node_modules/lucide-preact/src/icons/paintbrush.ts","src/common/iconParagraph/iconParagraph.component.tsx","src/common/iconParagraph/iconParagraph.module.scss","src/features/theme/themeControl.component.tsx","src/features/theme/themeControl.module.scss","src/features/homepage/homepageAbout.module.scss","src/features/homepage/homepage.module.scss","src/features/projects/projects.component.tsx","node_modules/.pnpm/@parcel+runtime-js@2.8.3_@parcel+core@2.8.3/node_modules/@parcel/runtime-js/lib/runtime-553c82225109f943.js","node_modules/.pnpm/@parcel+runtime-js@2.8.3_@parcel+core@2.8.3/node_modules/@parcel/runtime-js/lib/runtime-0da61100011cb3a9.js","node_modules/.pnpm/@parcel+runtime-js@2.8.3_@parcel+core@2.8.3/node_modules/@parcel/runtime-js/lib/runtime-5fd776e391b03002.js","node_modules/.pnpm/@parcel+runtime-js@2.8.3_@parcel+core@2.8.3/node_modules/@parcel/runtime-js/lib/runtime-5d0b7f5f0d1b32d6.js","src/features/projects/projects.module.scss","src/features/photos/photos.component.tsx","node_modules/.pnpm/react-intersection-observer-hook@2.0.6_@preact+compat@17.1.2/node_modules/react-intersection-observer-hook/src/useIntersectionObserver.ts","node_modules/.pnpm/react-intersection-observer-hook@2.0.6_@preact+compat@17.1.2/node_modules/react-intersection-observer-hook/src/useTrackVisibility.ts","node_modules/.pnpm/react-infinite-scroll-hook@4.0.4_@preact+compat@17.1.2/node_modules/react-infinite-scroll-hook/src/useInfiniteScroll.ts","src/common/imageLightbox/imageLightbox.component.tsx","node_modules/.pnpm/react-modal-image@2.6.0/node_modules/react-modal-image/es/index.js","node_modules/.pnpm/react-modal-image@2.6.0/node_modules/react-modal-image/es/Lightbox.js","node_modules/.pnpm/react-modal-image@2.6.0/node_modules/react-modal-image/es/styles.js","node_modules/.pnpm/react-modal-image@2.6.0/node_modules/react-modal-image/es/icons.js","node_modules/.pnpm/react-modal-image@2.6.0/node_modules/react-modal-image/es/Header.js","node_modules/.pnpm/react-modal-image@2.6.0/node_modules/react-modal-image/es/Image.js","src/common/imageLightbox/imageLightbox.module.scss","src/features/photos/photos.module.scss"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import { options, Fragment } from 'preact';\n\n/** @typedef {import('preact').VNode} VNode */\n\nlet vnodeId = 0;\n\n/**\n * @fileoverview\n * This file exports various methods that implement Babel's \"automatic\" JSX runtime API:\n * - jsx(type, props, key)\n * - jsxs(type, props, key)\n * - jsxDEV(type, props, key, __source, __self)\n *\n * The implementation of createVNode here is optimized for performance.\n * Benchmarks: https://esbench.com/bench/5f6b54a0b4632100a7dcd2b3\n */\n\n/**\n * JSX.Element factory used by Babel's {runtime:\"automatic\"} JSX transform\n * @param {VNode['type']} type\n * @param {VNode['props']} props\n * @param {VNode['key']} [key]\n * @param {unknown} [isStaticChildren]\n * @param {unknown} [__source]\n * @param {unknown} [__self]\n */\nfunction createVNode(type, props, key, isStaticChildren, __source, __self) {\n\t// We'll want to preserve `ref` in props to get rid of the need for\n\t// forwardRef components in the future, but that should happen via\n\t// a separate PR.\n\tlet normalizedProps = {},\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'ref') {\n\t\t\tref = props[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tconst vnode = {\n\t\ttype,\n\t\tprops: normalizedProps,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: --vnodeId,\n\t\t__source,\n\t\t__self\n\t};\n\n\t// If a Component VNode, check for and apply defaultProps.\n\t// Note: `type` is often a String, and can be `undefined` in development.\n\tif (typeof type === 'function' && (ref = type.defaultProps)) {\n\t\tfor (i in ref)\n\t\t\tif (typeof normalizedProps[i] === 'undefined') {\n\t\t\t\tnormalizedProps[i] = ref[i];\n\t\t\t}\n\t}\n\n\tif (options.vnode) options.vnode(vnode);\n\treturn vnode;\n}\n\nexport {\n\tcreateVNode as jsx,\n\tcreateVNode as jsxs,\n\tcreateVNode as jsxDEV,\n\tFragment\n};\n","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c;\n\trerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile ((c = rerenderQueue.shift())) {\n\t\tif (c._dirty) {\n\t\t\tlet renderQueueLength = rerenderQueue.length;\n\t\t\trenderComponent(c);\n\t\t\tif (rerenderQueue.length > renderQueueLength) {\n\t\t\t\t// When i.e. rerendering a provider additional new items can be injected, we want to\n\t\t\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t\t\t// single pass\n\t\t\t\trerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\t\t}\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\t/** @type {import('./internal').Component[]} */\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getLastDom(oldParentVNode).nextSibling;\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(parentDom, vnode, vnode, c, vnode._dom, oldDom);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 1\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * @param {import('../internal').VNode} vnode\n */\nfunction getLastDom(vnode) {\n\tif (vnode.type == null || typeof vnode.type === 'string') {\n\t\treturn vnode._dom;\n\t}\n\n\tif (vnode._children) {\n\t\tfor (let i = vnode._children.length - 1; i >= 0; i--) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child) {\n\t\t\t\tlet lastDom = getLastDom(child);\n\t\t\t\tif (lastDom) {\n\t\t\t\t\treturn lastDom;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value == null ? '' : value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'width' &&\n\t\t\tname !== 'height' &&\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name.indexOf('-') != -1)) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\treturn this._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// In cases of bailing due to strict-equality we have to reset force as well\n\t\t\t\t\tc._force = false;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t\tvnode._component = undefined;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type !== 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/**\n * Check if two values are the same value\n * @param {*} x\n * @param {*} y\n * @returns {boolean}\n */\nexport function is(x, y) {\n\treturn (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\n","import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function(props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n","import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n","import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref || null);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n","import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n","import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function(error, newVNode, oldVNode, errorInfo) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode, errorInfo);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function(vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._hydrating === true) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function(promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function() {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function(props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n","import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function(child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function(props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate = SuspenseList.prototype.componentDidMount = function() {\n\t// Iterate through all children after mounting for two reasons:\n\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t//    The nodes can now be completely consumed from the linked list.\n\t// 2. Handle nodes that might have gotten resolved between render and\n\t//    componentDidMount.\n\tthis._map.forEach((node, child) => {\n\t\tresolve(this, child, node);\n\t});\n};\n","import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function() {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\t// When props.vnode is undefined/false/null we are dealing with some kind of\n\t// conditional vnode. This should not trigger a render.\n\tif (props._vnode) {\n\t\tif (!_this._temp) {\n\t\t\t_this._container = container;\n\n\t\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t\t_this._temp = {\n\t\t\t\tnodeType: 1,\n\t\t\t\tparentNode: container,\n\t\t\t\tchildNodes: [],\n\t\t\t\tappendChild(child) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tinsertBefore(child, before) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tremoveChild(child) {\n\t\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t\t_this._container.removeChild(child);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Render our wrapping element into temp.\n\t\trender(\n\t\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t\t_this._temp\n\t\t);\n\t}\n\t// When we come from a conditional render, on a mounted\n\t// portal we should clear the DOM.\n\telse if (_this._temp) {\n\t\t_this.componentWillUnmount();\n\t}\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\tconst el = createElement(Portal, { _vnode: vnode, _container: container });\n\tel.containerInfo = container;\n\treturn el;\n}\n","import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS = /^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\n\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/i\n\t\t: /fil|che|ra/i\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nlet classNameDescriptor = {\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\tlet type = vnode.type;\n\tlet props = vnode.props;\n\tlet normalizedProps = props;\n\n\t// only normalize props on Element nodes\n\tif (typeof type === 'string') {\n\t\tconst nonCustomElement = type.indexOf('-') === -1;\n\t\tnormalizedProps = {};\n\n\t\tfor (let i in props) {\n\t\t\tlet value = props[i];\n\n\t\t\tif (IS_DOM && i === 'children' && type === 'noscript') {\n\t\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t\tcontinue;\n\t\t\t} else if (i === 'value' && 'defaultValue' in props && value == null) {\n\t\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t\t// a default value\n\t\t\t\tcontinue;\n\t\t\t} else if (\n\t\t\t\ti === 'defaultValue' &&\n\t\t\t\t'value' in props &&\n\t\t\t\tprops.value == null\n\t\t\t) {\n\t\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\t\ti = 'value';\n\t\t\t} else if (i === 'download' && value === true) {\n\t\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t\t// value will be used as the file name and the file will be called\n\t\t\t\t// \"true\" upon downloading it.\n\t\t\t\tvalue = '';\n\t\t\t} else if (/ondoubleclick/i.test(i)) {\n\t\t\t\ti = 'ondblclick';\n\t\t\t} else if (\n\t\t\t\t/^onchange(textarea|input)/i.test(i + type) &&\n\t\t\t\t!onChangeInputType(props.type)\n\t\t\t) {\n\t\t\t\ti = 'oninput';\n\t\t\t} else if (/^onfocus$/i.test(i)) {\n\t\t\t\ti = 'onfocusin';\n\t\t\t} else if (/^onblur$/i.test(i)) {\n\t\t\t\ti = 'onfocusout';\n\t\t\t} else if (/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)) {\n\t\t\t\ti = i.toLowerCase();\n\t\t\t} else if (nonCustomElement && CAMEL_PROPS.test(i)) {\n\t\t\t\ti = i.replace(/[A-Z0-9]/g, '-$&').toLowerCase();\n\t\t\t} else if (value === null) {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\n\t\t\t// Add support for onInput and onChange, see #3561\n\t\t\t// if we have an oninput prop already change it to oninputCapture\n\t\t\tif (/^oninput$/i.test(i)) {\n\t\t\t\ti = i.toLowerCase();\n\t\t\t\tif (normalizedProps[i]) {\n\t\t\t\t\ti = 'oninputCapture';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tnormalizedProps[i] = value;\n\t\t}\n\n\t\t// Add support for array select values: <select multiple value={[]} />\n\t\tif (\n\t\t\ttype == 'select' &&\n\t\t\tnormalizedProps.multiple &&\n\t\t\tArray.isArray(normalizedProps.value)\n\t\t) {\n\t\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t\t});\n\t\t}\n\n\t\t// Adding support for defaultValue in select tag\n\t\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\t\tif (normalizedProps.multiple) {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t\t} else {\n\t\t\t\t\tchild.props.selected =\n\t\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tvnode.props = normalizedProps;\n\n\t\tif (props.class != props.className) {\n\t\t\tclassNameDescriptor.enumerable = 'className' in props;\n\t\t\tif (props.className != null) normalizedProps.class = props.className;\n\t\t\tObject.defineProperty(normalizedProps, 'className', classNameDescriptor);\n\t\t}\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function(vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\nconst oldDiffed = options.diffed;\n/** @type {(vnode: import('./internal').VNode)} */\noptions.diffed = function(vnode) {\n\tif (oldDiffed) {\n\t\toldDiffed(vnode);\n\t}\n\n\tconst props = vnode.props;\n\tconst dom = vnode._dom;\n\tif (\n\t\tdom != null &&\n\t\tvnode.type === 'textarea' &&\n\t\t'value' in props &&\n\t\tprops.value !== dom.value\n\t) {\n\t\tdom.value = props.value == null ? '' : props.value;\n\t}\n\n\tcurrentComponent = null;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n","import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport { is } from './util';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '17.0.2'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\nexport function startTransition(cb) {\n\tcb();\n}\n\nexport function useDeferredValue(val) {\n\treturn val;\n}\n\nexport function useTransition() {\n\treturn [false, startTransition];\n}\n\n// TODO: in theory this should be done after a VNode is diffed as we want to insert\n// styles/... before it attaches\nexport const useInsertionEffect = useLayoutEffect;\n\n/**\n * This is taken from https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js#L84\n * on a high level this cuts out the warnings, ... and attempts a smaller implementation\n */\nexport function useSyncExternalStore(subscribe, getSnapshot) {\n\tconst value = getSnapshot();\n\n\tconst [{ _instance }, forceUpdate] = useState({\n\t\t_instance: { _value: value, _getSnapshot: getSnapshot }\n\t});\n\n\tuseLayoutEffect(() => {\n\t\t_instance._value = value;\n\t\t_instance._getSnapshot = getSnapshot;\n\n\t\tif (!is(_instance._value, getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\t}, [subscribe, value, getSnapshot]);\n\n\tuseEffect(() => {\n\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\n\t\treturn subscribe(() => {\n\t\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\t\tforceUpdate({ _instance });\n\t\t\t}\n\t\t});\n\t}, [subscribe]);\n\n\treturn value;\n}\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseInsertionEffect,\n\tuseTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tstartTransition,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n","import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tconst prevScu = currentComponent.shouldComponentUpdate;\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\tcurrentComponent.shouldComponentUpdate = function(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\tconst stateHooks = hookState._component.__hooks._list.filter(\n\t\t\t\t\tx => x._component\n\t\t\t\t);\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t};\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any, errorInfo: import('preact').ErrorInfo) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\nexport function useId() {\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n","/**\n * @license React\n * use-sync-external-store-shim/with-selector.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var h=require(\"react\"),n=require(\"use-sync-external-store/shim\");function p(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var q=\"function\"===typeof Object.is?Object.is:p,r=n.useSyncExternalStore,t=h.useRef,u=h.useEffect,v=h.useMemo,w=h.useDebugValue;\nexports.useSyncExternalStoreWithSelector=function(a,b,e,l,g){var c=t(null);if(null===c.current){var f={hasValue:!1,value:null};c.current=f}else f=c.current;c=v(function(){function a(a){if(!c){c=!0;d=a;a=l(a);if(void 0!==g&&f.hasValue){var b=f.value;if(g(b,a))return k=b}return k=a}b=k;if(q(d,a))return b;var e=l(a);if(void 0!==g&&g(b,e))return b;d=a;return k=e}var c=!1,d,k,m=void 0===e?null:e;return[function(){return a(b())},null===m?void 0:function(){return a(m())}]},[b,e,l,g]);var d=r(a,c[0],c[1]);\nu(function(){f.hasValue=!0;f.value=d},[d]);w(d);return d};\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/**\n * @license React\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var b=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),d=Symbol.for(\"react.fragment\"),e=Symbol.for(\"react.strict_mode\"),f=Symbol.for(\"react.profiler\"),g=Symbol.for(\"react.provider\"),h=Symbol.for(\"react.context\"),k=Symbol.for(\"react.server_context\"),l=Symbol.for(\"react.forward_ref\"),m=Symbol.for(\"react.suspense\"),n=Symbol.for(\"react.suspense_list\"),p=Symbol.for(\"react.memo\"),q=Symbol.for(\"react.lazy\"),t=Symbol.for(\"react.offscreen\"),u;u=Symbol.for(\"react.module.reference\");\nfunction v(a){if(\"object\"===typeof a&&null!==a){var r=a.$$typeof;switch(r){case b:switch(a=a.type,a){case d:case f:case e:case m:case n:return a;default:switch(a=a&&a.$$typeof,a){case k:case h:case l:case q:case p:case g:return a;default:return r}}case c:return r}}}exports.ContextConsumer=h;exports.ContextProvider=g;exports.Element=b;exports.ForwardRef=l;exports.Fragment=d;exports.Lazy=q;exports.Memo=p;exports.Portal=c;exports.Profiler=f;exports.StrictMode=e;exports.Suspense=m;\nexports.SuspenseList=n;exports.isAsyncMode=function(){return!1};exports.isConcurrentMode=function(){return!1};exports.isContextConsumer=function(a){return v(a)===h};exports.isContextProvider=function(a){return v(a)===g};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===b};exports.isForwardRef=function(a){return v(a)===l};exports.isFragment=function(a){return v(a)===d};exports.isLazy=function(a){return v(a)===q};exports.isMemo=function(a){return v(a)===p};\nexports.isPortal=function(a){return v(a)===c};exports.isProfiler=function(a){return v(a)===f};exports.isStrictMode=function(a){return v(a)===e};exports.isSuspense=function(a){return v(a)===m};exports.isSuspenseList=function(a){return v(a)===n};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===d||a===f||a===e||a===m||a===n||a===t||\"object\"===typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===g||a.$$typeof===h||a.$$typeof===l||a.$$typeof===u||void 0!==a.getModuleId)?!0:!1};exports.typeOf=v;\n","/**\n * NOTE: If you refactor this to split up the modules into separate files,\n * you'll need to update the rollup config for react-router-dom-v5-compat.\n */\nimport * as React from \"react\";\nimport type {\n  NavigateOptions,\n  RelativeRoutingType,\n  RouteObject,\n  To,\n} from \"react-router\";\nimport {\n  Router,\n  createPath,\n  useHref,\n  useLocation,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useResolvedPath,\n  unstable_useBlocker as useBlocker,\n  UNSAFE_DataRouterContext as DataRouterContext,\n  UNSAFE_DataRouterStateContext as DataRouterStateContext,\n  UNSAFE_NavigationContext as NavigationContext,\n  UNSAFE_RouteContext as RouteContext,\n  UNSAFE_enhanceManualRouteObjects as enhanceManualRouteObjects,\n} from \"react-router\";\nimport type {\n  BrowserHistory,\n  Fetcher,\n  FormEncType,\n  FormMethod,\n  GetScrollRestorationKeyFunction,\n  HashHistory,\n  History,\n  HydrationState,\n  Router as RemixRouter,\n} from \"@remix-run/router\";\nimport {\n  createRouter,\n  createBrowserHistory,\n  createHashHistory,\n  invariant,\n  joinPaths,\n  ErrorResponse,\n} from \"@remix-run/router\";\n\nimport type {\n  SubmitOptions,\n  ParamKeyValuePair,\n  URLSearchParamsInit,\n} from \"./dom\";\nimport {\n  createSearchParams,\n  defaultMethod,\n  getFormSubmissionInfo,\n  getSearchParamsForLocation,\n  shouldProcessLinkClick,\n} from \"./dom\";\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Re-exports\n////////////////////////////////////////////////////////////////////////////////\n\nexport type {\n  FormEncType,\n  FormMethod,\n  GetScrollRestorationKeyFunction,\n  ParamKeyValuePair,\n  SubmitOptions,\n  URLSearchParamsInit,\n};\nexport { createSearchParams };\n\n// Note: Keep in sync with react-router exports!\nexport type {\n  ActionFunction,\n  ActionFunctionArgs,\n  AwaitProps,\n  unstable_Blocker,\n  unstable_BlockerFunction,\n  DataRouteMatch,\n  DataRouteObject,\n  Fetcher,\n  Hash,\n  IndexRouteObject,\n  IndexRouteProps,\n  JsonFunction,\n  LayoutRouteProps,\n  LoaderFunction,\n  LoaderFunctionArgs,\n  Location,\n  MemoryRouterProps,\n  NavigateFunction,\n  NavigateOptions,\n  NavigateProps,\n  Navigation,\n  Navigator,\n  NonIndexRouteObject,\n  OutletProps,\n  Params,\n  ParamParseKey,\n  Path,\n  PathMatch,\n  Pathname,\n  PathPattern,\n  PathRouteProps,\n  RedirectFunction,\n  RelativeRoutingType,\n  RouteMatch,\n  RouteObject,\n  RouteProps,\n  RouterProps,\n  RouterProviderProps,\n  RoutesProps,\n  Search,\n  ShouldRevalidateFunction,\n  To,\n} from \"react-router\";\nexport {\n  AbortedDeferredError,\n  Await,\n  MemoryRouter,\n  Navigate,\n  NavigationType,\n  Outlet,\n  Route,\n  Router,\n  RouterProvider,\n  Routes,\n  createMemoryRouter,\n  createPath,\n  createRoutesFromChildren,\n  createRoutesFromElements,\n  defer,\n  isRouteErrorResponse,\n  generatePath,\n  json,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  redirect,\n  renderMatches,\n  resolvePath,\n  useActionData,\n  useAsyncError,\n  useAsyncValue,\n  unstable_useBlocker,\n  useHref,\n  useInRouterContext,\n  useLoaderData,\n  useLocation,\n  useMatch,\n  useMatches,\n  useNavigate,\n  useNavigation,\n  useNavigationType,\n  useOutlet,\n  useOutletContext,\n  useParams,\n  useResolvedPath,\n  useRevalidator,\n  useRouteError,\n  useRouteLoaderData,\n  useRoutes,\n} from \"react-router\";\n\n///////////////////////////////////////////////////////////////////////////////\n// DANGER! PLEASE READ ME!\n// We provide these exports as an escape hatch in the event that you need any\n// routing data that we don't provide an explicit API for. With that said, we\n// want to cover your use case if we can, so if you feel the need to use these\n// we want to hear from you. Let us know what you're building and we'll do our\n// best to make sure we can support you!\n//\n// We consider these exports an implementation detail and do not guarantee\n// against any breaking changes, regardless of the semver release. Use with\n// extreme caution and only if you understand the consequences. Godspeed.\n///////////////////////////////////////////////////////////////////////////////\n\n/** @internal */\nexport {\n  UNSAFE_DataRouterContext,\n  UNSAFE_DataRouterStateContext,\n  UNSAFE_NavigationContext,\n  UNSAFE_LocationContext,\n  UNSAFE_RouteContext,\n  UNSAFE_enhanceManualRouteObjects,\n} from \"react-router\";\n//#endregion\n\ndeclare global {\n  var __staticRouterHydrationData: HydrationState | undefined;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Routers\n////////////////////////////////////////////////////////////////////////////////\n\nexport function createBrowserRouter(\n  routes: RouteObject[],\n  opts?: {\n    basename?: string;\n    hydrationData?: HydrationState;\n    window?: Window;\n  }\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    history: createBrowserHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes: enhanceManualRouteObjects(routes),\n  }).initialize();\n}\n\nexport function createHashRouter(\n  routes: RouteObject[],\n  opts?: {\n    basename?: string;\n    hydrationData?: HydrationState;\n    window?: Window;\n  }\n): RemixRouter {\n  return createRouter({\n    basename: opts?.basename,\n    history: createHashHistory({ window: opts?.window }),\n    hydrationData: opts?.hydrationData || parseHydrationData(),\n    routes: enhanceManualRouteObjects(routes),\n  }).initialize();\n}\n\nfunction parseHydrationData(): HydrationState | undefined {\n  let state = window?.__staticRouterHydrationData;\n  if (state && state.errors) {\n    state = {\n      ...state,\n      errors: deserializeErrors(state.errors),\n    };\n  }\n  return state;\n}\n\nfunction deserializeErrors(\n  errors: RemixRouter[\"state\"][\"errors\"]\n): RemixRouter[\"state\"][\"errors\"] {\n  if (!errors) return null;\n  let entries = Object.entries(errors);\n  let serialized: RemixRouter[\"state\"][\"errors\"] = {};\n  for (let [key, val] of entries) {\n    // Hey you!  If you change this, please change the corresponding logic in\n    // serializeErrors in react-router-dom/server.tsx :)\n    if (val && val.__type === \"RouteErrorResponse\") {\n      serialized[key] = new ErrorResponse(\n        val.status,\n        val.statusText,\n        val.data,\n        val.internal === true\n      );\n    } else if (val && val.__type === \"Error\") {\n      let error = new Error(val.message);\n      // Wipe away the client-side stack trace.  Nothing to fill it in with\n      // because we don't serialize SSR stack traces for security reasons\n      error.stack = \"\";\n      serialized[key] = error;\n    } else {\n      serialized[key] = val;\n    }\n  }\n  return serialized;\n}\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Components\n////////////////////////////////////////////////////////////////////////////////\n\nexport interface BrowserRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Provides the cleanest URLs.\n */\nexport function BrowserRouter({\n  basename,\n  children,\n  window,\n}: BrowserRouterProps) {\n  let historyRef = React.useRef<BrowserHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createBrowserHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface HashRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  window?: Window;\n}\n\n/**\n * A `<Router>` for use in web browsers. Stores the location in the hash\n * portion of the URL so it is not sent to the server.\n */\nexport function HashRouter({ basename, children, window }: HashRouterProps) {\n  let historyRef = React.useRef<HashHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createHashHistory({ window, v5Compat: true });\n  }\n\n  let history = historyRef.current;\n  let [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface HistoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  history: History;\n}\n\n/**\n * A `<Router>` that accepts a pre-instantiated history object. It's important\n * to note that using your own history object is highly discouraged and may add\n * two versions of the history library to your bundles unless you use the same\n * version of the history library that React Router uses internally.\n */\nfunction HistoryRouter({ basename, children, history }: HistoryRouterProps) {\n  const [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nif (__DEV__) {\n  HistoryRouter.displayName = \"unstable_HistoryRouter\";\n}\n\nexport { HistoryRouter as unstable_HistoryRouter };\n\nexport interface LinkProps\n  extends Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, \"href\"> {\n  reloadDocument?: boolean;\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n  to: To;\n}\n\nconst isBrowser =\n  typeof window !== \"undefined\" &&\n  typeof window.document !== \"undefined\" &&\n  typeof window.document.createElement !== \"undefined\";\n\n/**\n * The public API for rendering a history-aware <a>.\n */\nexport const Link = React.forwardRef<HTMLAnchorElement, LinkProps>(\n  function LinkWithRef(\n    {\n      onClick,\n      relative,\n      reloadDocument,\n      replace,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      ...rest\n    },\n    ref\n  ) {\n    // Rendered into <a href> for absolute URLs\n    let absoluteHref;\n    let isExternal = false;\n\n    if (\n      isBrowser &&\n      typeof to === \"string\" &&\n      /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i.test(to)\n    ) {\n      absoluteHref = to;\n      let currentUrl = new URL(window.location.href);\n      let targetUrl = to.startsWith(\"//\")\n        ? new URL(currentUrl.protocol + to)\n        : new URL(to);\n      if (targetUrl.origin === currentUrl.origin) {\n        // Strip the protocol/origin for same-origin absolute URLs\n        to = targetUrl.pathname + targetUrl.search + targetUrl.hash;\n      } else {\n        isExternal = true;\n      }\n    }\n\n    // Rendered into <a href> for relative URLs\n    let href = useHref(to, { relative });\n\n    let internalOnClick = useLinkClickHandler(to, {\n      replace,\n      state,\n      target,\n      preventScrollReset,\n      relative,\n    });\n    function handleClick(\n      event: React.MouseEvent<HTMLAnchorElement, MouseEvent>\n    ) {\n      if (onClick) onClick(event);\n      if (!event.defaultPrevented) {\n        internalOnClick(event);\n      }\n    }\n\n    return (\n      // eslint-disable-next-line jsx-a11y/anchor-has-content\n      <a\n        {...rest}\n        href={absoluteHref || href}\n        onClick={isExternal || reloadDocument ? onClick : handleClick}\n        ref={ref}\n        target={target}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  Link.displayName = \"Link\";\n}\n\nexport interface NavLinkProps\n  extends Omit<LinkProps, \"className\" | \"style\" | \"children\"> {\n  children?:\n    | React.ReactNode\n    | ((props: { isActive: boolean; isPending: boolean }) => React.ReactNode);\n  caseSensitive?: boolean;\n  className?:\n    | string\n    | ((props: {\n        isActive: boolean;\n        isPending: boolean;\n      }) => string | undefined);\n  end?: boolean;\n  style?:\n    | React.CSSProperties\n    | ((props: {\n        isActive: boolean;\n        isPending: boolean;\n      }) => React.CSSProperties | undefined);\n}\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nexport const NavLink = React.forwardRef<HTMLAnchorElement, NavLinkProps>(\n  function NavLinkWithRef(\n    {\n      \"aria-current\": ariaCurrentProp = \"page\",\n      caseSensitive = false,\n      className: classNameProp = \"\",\n      end = false,\n      style: styleProp,\n      to,\n      children,\n      ...rest\n    },\n    ref\n  ) {\n    let path = useResolvedPath(to, { relative: rest.relative });\n    let location = useLocation();\n    let routerState = React.useContext(DataRouterStateContext);\n    let { navigator } = React.useContext(NavigationContext);\n\n    let toPathname = navigator.encodeLocation\n      ? navigator.encodeLocation(path).pathname\n      : path.pathname;\n    let locationPathname = location.pathname;\n    let nextLocationPathname =\n      routerState && routerState.navigation && routerState.navigation.location\n        ? routerState.navigation.location.pathname\n        : null;\n\n    if (!caseSensitive) {\n      locationPathname = locationPathname.toLowerCase();\n      nextLocationPathname = nextLocationPathname\n        ? nextLocationPathname.toLowerCase()\n        : null;\n      toPathname = toPathname.toLowerCase();\n    }\n\n    let isActive =\n      locationPathname === toPathname ||\n      (!end &&\n        locationPathname.startsWith(toPathname) &&\n        locationPathname.charAt(toPathname.length) === \"/\");\n\n    let isPending =\n      nextLocationPathname != null &&\n      (nextLocationPathname === toPathname ||\n        (!end &&\n          nextLocationPathname.startsWith(toPathname) &&\n          nextLocationPathname.charAt(toPathname.length) === \"/\"));\n\n    let ariaCurrent = isActive ? ariaCurrentProp : undefined;\n\n    let className: string | undefined;\n    if (typeof classNameProp === \"function\") {\n      className = classNameProp({ isActive, isPending });\n    } else {\n      // If the className prop is not a function, we use a default `active`\n      // class for <NavLink />s that are active. In v5 `active` was the default\n      // value for `activeClassName`, but we are removing that API and can still\n      // use the old default behavior for a cleaner upgrade path and keep the\n      // simple styling rules working as they currently do.\n      className = [\n        classNameProp,\n        isActive ? \"active\" : null,\n        isPending ? \"pending\" : null,\n      ]\n        .filter(Boolean)\n        .join(\" \");\n    }\n\n    let style =\n      typeof styleProp === \"function\"\n        ? styleProp({ isActive, isPending })\n        : styleProp;\n\n    return (\n      <Link\n        {...rest}\n        aria-current={ariaCurrent}\n        className={className}\n        ref={ref}\n        style={style}\n        to={to}\n      >\n        {typeof children === \"function\"\n          ? children({ isActive, isPending })\n          : children}\n      </Link>\n    );\n  }\n);\n\nif (__DEV__) {\n  NavLink.displayName = \"NavLink\";\n}\n\nexport interface FormProps extends React.FormHTMLAttributes<HTMLFormElement> {\n  /**\n   * The HTTP verb to use when the form is submit. Supports \"get\", \"post\",\n   * \"put\", \"delete\", \"patch\".\n   */\n  method?: FormMethod;\n\n  /**\n   * Normal `<form action>` but supports React Router's relative paths.\n   */\n  action?: string;\n\n  /**\n   * Forces a full document navigation instead of a fetch.\n   */\n  reloadDocument?: boolean;\n\n  /**\n   * Replaces the current entry in the browser history stack when the form\n   * navigates. Use this if you don't want the user to be able to click \"back\"\n   * to the page with the form on it.\n   */\n  replace?: boolean;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n\n  /**\n   * Prevent the scroll position from resetting to the top of the viewport on\n   * completion of the navigation when using the <ScrollRestoration> component\n   */\n  preventScrollReset?: boolean;\n\n  /**\n   * A function to call when the form is submitted. If you call\n   * `event.preventDefault()` then this form will not do anything.\n   */\n  onSubmit?: React.FormEventHandler<HTMLFormElement>;\n}\n\n/**\n * A `@remix-run/router`-aware `<form>`. It behaves like a normal form except\n * that the interaction with the server is with `fetch` instead of new document\n * requests, allowing components to add nicer UX to the page as the form is\n * submitted and returns with data.\n */\nexport const Form = React.forwardRef<HTMLFormElement, FormProps>(\n  (props, ref) => {\n    return <FormImpl {...props} ref={ref} />;\n  }\n);\n\nif (__DEV__) {\n  Form.displayName = \"Form\";\n}\n\ntype HTMLSubmitEvent = React.BaseSyntheticEvent<\n  SubmitEvent,\n  Event,\n  HTMLFormElement\n>;\n\ntype HTMLFormSubmitter = HTMLButtonElement | HTMLInputElement;\n\ninterface FormImplProps extends FormProps {\n  fetcherKey?: string;\n  routeId?: string;\n}\n\nconst FormImpl = React.forwardRef<HTMLFormElement, FormImplProps>(\n  (\n    {\n      reloadDocument,\n      replace,\n      method = defaultMethod,\n      action,\n      onSubmit,\n      fetcherKey,\n      routeId,\n      relative,\n      preventScrollReset,\n      ...props\n    },\n    forwardedRef\n  ) => {\n    let submit = useSubmitImpl(fetcherKey, routeId);\n    let formMethod: FormMethod =\n      method.toLowerCase() === \"get\" ? \"get\" : \"post\";\n    let formAction = useFormAction(action, { relative });\n    let submitHandler: React.FormEventHandler<HTMLFormElement> = (event) => {\n      onSubmit && onSubmit(event);\n      if (event.defaultPrevented) return;\n      event.preventDefault();\n\n      let submitter = (event as unknown as HTMLSubmitEvent).nativeEvent\n        .submitter as HTMLFormSubmitter | null;\n\n      let submitMethod =\n        (submitter?.getAttribute(\"formmethod\") as FormMethod | undefined) ||\n        method;\n\n      submit(submitter || event.currentTarget, {\n        method: submitMethod,\n        replace,\n        relative,\n        preventScrollReset,\n      });\n    };\n\n    return (\n      <form\n        ref={forwardedRef}\n        method={formMethod}\n        action={formAction}\n        onSubmit={reloadDocument ? onSubmit : submitHandler}\n        {...props}\n      />\n    );\n  }\n);\n\nif (__DEV__) {\n  FormImpl.displayName = \"FormImpl\";\n}\n\nexport interface ScrollRestorationProps {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n}\n\n/**\n * This component will emulate the browser's scroll restoration on location\n * changes.\n */\nexport function ScrollRestoration({\n  getKey,\n  storageKey,\n}: ScrollRestorationProps) {\n  useScrollRestoration({ getKey, storageKey });\n  return null;\n}\n\nif (__DEV__) {\n  ScrollRestoration.displayName = \"ScrollRestoration\";\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hooks\n////////////////////////////////////////////////////////////////////////////////\n\nenum DataRouterHook {\n  UseScrollRestoration = \"useScrollRestoration\",\n  UseSubmitImpl = \"useSubmitImpl\",\n  UseFetcher = \"useFetcher\",\n}\n\nenum DataRouterStateHook {\n  UseFetchers = \"useFetchers\",\n  UseScrollRestoration = \"useScrollRestoration\",\n}\n\nfunction getDataRouterConsoleError(\n  hookName: DataRouterHook | DataRouterStateHook\n) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.`;\n}\n\nfunction useDataRouterContext(hookName: DataRouterHook) {\n  let ctx = React.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\n\nfunction useDataRouterState(hookName: DataRouterStateHook) {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\n\n/**\n * Handles the click behavior for router `<Link>` components. This is useful if\n * you need to create custom `<Link>` components with the same click behavior we\n * use in our exported `<Link>`.\n */\nexport function useLinkClickHandler<E extends Element = HTMLAnchorElement>(\n  to: To,\n  {\n    target,\n    replace: replaceProp,\n    state,\n    preventScrollReset,\n    relative,\n  }: {\n    target?: React.HTMLAttributeAnchorTarget;\n    replace?: boolean;\n    state?: any;\n    preventScrollReset?: boolean;\n    relative?: RelativeRoutingType;\n  } = {}\n): (event: React.MouseEvent<E, MouseEvent>) => void {\n  let navigate = useNavigate();\n  let location = useLocation();\n  let path = useResolvedPath(to, { relative });\n\n  return React.useCallback(\n    (event: React.MouseEvent<E, MouseEvent>) => {\n      if (shouldProcessLinkClick(event, target)) {\n        event.preventDefault();\n\n        // If the URL hasn't changed, a regular <a> will do a replace instead of\n        // a push, so do the same here unless the replace prop is explicitly set\n        let replace =\n          replaceProp !== undefined\n            ? replaceProp\n            : createPath(location) === createPath(path);\n\n        navigate(to, { replace, state, preventScrollReset, relative });\n      }\n    },\n    [\n      location,\n      navigate,\n      path,\n      replaceProp,\n      state,\n      target,\n      to,\n      preventScrollReset,\n      relative,\n    ]\n  );\n}\n\n/**\n * A convenient wrapper for reading and writing search parameters via the\n * URLSearchParams interface.\n */\nexport function useSearchParams(\n  defaultInit?: URLSearchParamsInit\n): [URLSearchParams, SetURLSearchParams] {\n  warning(\n    typeof URLSearchParams !== \"undefined\",\n    `You cannot use the \\`useSearchParams\\` hook in a browser that does not ` +\n      `support the URLSearchParams API. If you need to support Internet ` +\n      `Explorer 11, we recommend you load a polyfill such as ` +\n      `https://github.com/ungap/url-search-params\\n\\n` +\n      `If you're unsure how to load polyfills, we recommend you check out ` +\n      `https://polyfill.io/v3/ which provides some recommendations about how ` +\n      `to load polyfills only for users that need them, instead of for every ` +\n      `user.`\n  );\n\n  let defaultSearchParamsRef = React.useRef(createSearchParams(defaultInit));\n  let hasSetSearchParamsRef = React.useRef(false);\n\n  let location = useLocation();\n  let searchParams = React.useMemo(\n    () =>\n      // Only merge in the defaults if we haven't yet called setSearchParams.\n      // Once we call that we want those to take precedence, otherwise you can't\n      // remove a param with setSearchParams({}) if it has an initial value\n      getSearchParamsForLocation(\n        location.search,\n        hasSetSearchParamsRef.current ? null : defaultSearchParamsRef.current\n      ),\n    [location.search]\n  );\n\n  let navigate = useNavigate();\n  let setSearchParams = React.useCallback<SetURLSearchParams>(\n    (nextInit, navigateOptions) => {\n      const newSearchParams = createSearchParams(\n        typeof nextInit === \"function\" ? nextInit(searchParams) : nextInit\n      );\n      hasSetSearchParamsRef.current = true;\n      navigate(\"?\" + newSearchParams, navigateOptions);\n    },\n    [navigate, searchParams]\n  );\n\n  return [searchParams, setSearchParams];\n}\n\ntype SetURLSearchParams = (\n  nextInit?:\n    | URLSearchParamsInit\n    | ((prev: URLSearchParams) => URLSearchParamsInit),\n  navigateOpts?: NavigateOptions\n) => void;\n\ntype SubmitTarget =\n  | HTMLFormElement\n  | HTMLButtonElement\n  | HTMLInputElement\n  | FormData\n  | URLSearchParams\n  | { [name: string]: string }\n  | null;\n\n/**\n * Submits a HTML `<form>` to the server without reloading the page.\n */\nexport interface SubmitFunction {\n  (\n    /**\n     * Specifies the `<form>` to be submitted to the server, a specific\n     * `<button>` or `<input type=\"submit\">` to use to submit the form, or some\n     * arbitrary data to submit.\n     *\n     * Note: When using a `<button>` its `name` and `value` will also be\n     * included in the form data that is submitted.\n     */\n    target: SubmitTarget,\n\n    /**\n     * Options that override the `<form>`'s own attributes. Required when\n     * submitting arbitrary data without a backing `<form>`.\n     */\n    options?: SubmitOptions\n  ): void;\n}\n\n/**\n * Returns a function that may be used to programmatically submit a form (or\n * some arbitrary data) to the server.\n */\nexport function useSubmit(): SubmitFunction {\n  return useSubmitImpl();\n}\n\nfunction useSubmitImpl(fetcherKey?: string, routeId?: string): SubmitFunction {\n  let { router } = useDataRouterContext(DataRouterHook.UseSubmitImpl);\n  let defaultAction = useFormAction();\n\n  return React.useCallback(\n    (target, options = {}) => {\n      if (typeof document === \"undefined\") {\n        throw new Error(\n          \"You are calling submit during the server render. \" +\n            \"Try calling submit within a `useEffect` or callback instead.\"\n        );\n      }\n\n      let { method, encType, formData, url } = getFormSubmissionInfo(\n        target,\n        defaultAction,\n        options\n      );\n\n      let href = url.pathname + url.search;\n      let opts = {\n        replace: options.replace,\n        preventScrollReset: options.preventScrollReset,\n        formData,\n        formMethod: method as FormMethod,\n        formEncType: encType as FormEncType,\n      };\n      if (fetcherKey) {\n        invariant(routeId != null, \"No routeId available for useFetcher()\");\n        router.fetch(fetcherKey, routeId, href, opts);\n      } else {\n        router.navigate(href, opts);\n      }\n    },\n    [defaultAction, router, fetcherKey, routeId]\n  );\n}\n\nexport function useFormAction(\n  action?: string,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  let { basename } = React.useContext(NavigationContext);\n  let routeContext = React.useContext(RouteContext);\n  invariant(routeContext, \"useFormAction must be used inside a RouteContext\");\n\n  let [match] = routeContext.matches.slice(-1);\n  // Shallow clone path so we can modify it below, otherwise we modify the\n  // object referenced by useMemo inside useResolvedPath\n  let path = { ...useResolvedPath(action ? action : \".\", { relative }) };\n\n  // Previously we set the default action to \".\". The problem with this is that\n  // `useResolvedPath(\".\")` excludes search params and the hash of the resolved\n  // URL. This is the intended behavior of when \".\" is specifically provided as\n  // the form action, but inconsistent w/ browsers when the action is omitted.\n  // https://github.com/remix-run/remix/issues/927\n  let location = useLocation();\n  if (action == null) {\n    // Safe to write to these directly here since if action was undefined, we\n    // would have called useResolvedPath(\".\") which will never include a search\n    // or hash\n    path.search = location.search;\n    path.hash = location.hash;\n\n    // When grabbing search params from the URL, remove the automatically\n    // inserted ?index param so we match the useResolvedPath search behavior\n    // which would not include ?index\n    if (match.route.index) {\n      let params = new URLSearchParams(path.search);\n      params.delete(\"index\");\n      path.search = params.toString() ? `?${params.toString()}` : \"\";\n    }\n  }\n\n  if ((!action || action === \".\") && match.route.index) {\n    path.search = path.search\n      ? path.search.replace(/^\\?/, \"?index&\")\n      : \"?index\";\n  }\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the form action.  If this is a root navigation, then just use\n  // the raw basename which allows the basename to have full control over the\n  // presence of a trailing slash on root actions\n  if (basename !== \"/\") {\n    path.pathname =\n      path.pathname === \"/\" ? basename : joinPaths([basename, path.pathname]);\n  }\n\n  return createPath(path);\n}\n\nfunction createFetcherForm(fetcherKey: string, routeId: string) {\n  let FetcherForm = React.forwardRef<HTMLFormElement, FormProps>(\n    (props, ref) => {\n      return (\n        <FormImpl\n          {...props}\n          ref={ref}\n          fetcherKey={fetcherKey}\n          routeId={routeId}\n        />\n      );\n    }\n  );\n  if (__DEV__) {\n    FetcherForm.displayName = \"fetcher.Form\";\n  }\n  return FetcherForm;\n}\n\nlet fetcherId = 0;\n\nexport type FetcherWithComponents<TData> = Fetcher<TData> & {\n  Form: ReturnType<typeof createFetcherForm>;\n  submit: (\n    target: SubmitTarget,\n    // Fetchers cannot replace/preventScrollReset because they are not\n    // navigation events\n    options?: Omit<SubmitOptions, \"replace\" | \"preventScrollReset\">\n  ) => void;\n  load: (href: string) => void;\n};\n\n/**\n * Interacts with route loaders and actions without causing a navigation. Great\n * for any interaction that stays on the same page.\n */\nexport function useFetcher<TData = any>(): FetcherWithComponents<TData> {\n  let { router } = useDataRouterContext(DataRouterHook.UseFetcher);\n\n  let route = React.useContext(RouteContext);\n  invariant(route, `useFetcher must be used inside a RouteContext`);\n\n  let routeId = route.matches[route.matches.length - 1]?.route.id;\n  invariant(\n    routeId != null,\n    `useFetcher can only be used on routes that contain a unique \"id\"`\n  );\n\n  let [fetcherKey] = React.useState(() => String(++fetcherId));\n  let [Form] = React.useState(() => {\n    invariant(routeId, `No routeId available for fetcher.Form()`);\n    return createFetcherForm(fetcherKey, routeId);\n  });\n  let [load] = React.useState(() => (href: string) => {\n    invariant(router, \"No router available for fetcher.load()\");\n    invariant(routeId, \"No routeId available for fetcher.load()\");\n    router.fetch(fetcherKey, routeId, href);\n  });\n  let submit = useSubmitImpl(fetcherKey, routeId);\n\n  let fetcher = router.getFetcher<TData>(fetcherKey);\n\n  let fetcherWithComponents = React.useMemo(\n    () => ({\n      Form,\n      submit,\n      load,\n      ...fetcher,\n    }),\n    [fetcher, Form, submit, load]\n  );\n\n  React.useEffect(() => {\n    // Is this busted when the React team gets real weird and calls effects\n    // twice on mount?  We really just need to garbage collect here when this\n    // fetcher is no longer around.\n    return () => {\n      if (!router) {\n        console.warn(`No fetcher available to clean up from useFetcher()`);\n        return;\n      }\n      router.deleteFetcher(fetcherKey);\n    };\n  }, [router, fetcherKey]);\n\n  return fetcherWithComponents;\n}\n\n/**\n * Provides all fetchers currently on the page. Useful for layouts and parent\n * routes that need to provide pending/optimistic UI regarding the fetch.\n */\nexport function useFetchers(): Fetcher[] {\n  let state = useDataRouterState(DataRouterStateHook.UseFetchers);\n  return [...state.fetchers.values()];\n}\n\nconst SCROLL_RESTORATION_STORAGE_KEY = \"react-router-scroll-positions\";\nlet savedScrollPositions: Record<string, number> = {};\n\n/**\n * When rendered inside a RouterProvider, will restore scroll positions on navigations\n */\nfunction useScrollRestoration({\n  getKey,\n  storageKey,\n}: {\n  getKey?: GetScrollRestorationKeyFunction;\n  storageKey?: string;\n} = {}) {\n  let { router } = useDataRouterContext(DataRouterHook.UseScrollRestoration);\n  let { restoreScrollPosition, preventScrollReset } = useDataRouterState(\n    DataRouterStateHook.UseScrollRestoration\n  );\n  let location = useLocation();\n  let matches = useMatches();\n  let navigation = useNavigation();\n\n  // Trigger manual scroll restoration while we're active\n  React.useEffect(() => {\n    window.history.scrollRestoration = \"manual\";\n    return () => {\n      window.history.scrollRestoration = \"auto\";\n    };\n  }, []);\n\n  // Save positions on pagehide\n  usePageHide(\n    React.useCallback(() => {\n      if (navigation.state === \"idle\") {\n        let key = (getKey ? getKey(location, matches) : null) || location.key;\n        savedScrollPositions[key] = window.scrollY;\n      }\n      sessionStorage.setItem(\n        storageKey || SCROLL_RESTORATION_STORAGE_KEY,\n        JSON.stringify(savedScrollPositions)\n      );\n      window.history.scrollRestoration = \"auto\";\n    }, [storageKey, getKey, navigation.state, location, matches])\n  );\n\n  // Read in any saved scroll locations\n  if (typeof document !== \"undefined\") {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      try {\n        let sessionPositions = sessionStorage.getItem(\n          storageKey || SCROLL_RESTORATION_STORAGE_KEY\n        );\n        if (sessionPositions) {\n          savedScrollPositions = JSON.parse(sessionPositions);\n        }\n      } catch (e) {\n        // no-op, use default empty object\n      }\n    }, [storageKey]);\n\n    // Enable scroll restoration in the router\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      let disableScrollRestoration = router?.enableScrollRestoration(\n        savedScrollPositions,\n        () => window.scrollY,\n        getKey\n      );\n      return () => disableScrollRestoration && disableScrollRestoration();\n    }, [router, getKey]);\n\n    // Restore scrolling when state.restoreScrollPosition changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useLayoutEffect(() => {\n      // Explicit false means don't do anything (used for submissions)\n      if (restoreScrollPosition === false) {\n        return;\n      }\n\n      // been here before, scroll to it\n      if (typeof restoreScrollPosition === \"number\") {\n        window.scrollTo(0, restoreScrollPosition);\n        return;\n      }\n\n      // try to scroll to the hash\n      if (location.hash) {\n        let el = document.getElementById(location.hash.slice(1));\n        if (el) {\n          el.scrollIntoView();\n          return;\n        }\n      }\n\n      // Don't reset if this navigation opted out\n      if (preventScrollReset === true) {\n        return;\n      }\n\n      // otherwise go to the top on new locations\n      window.scrollTo(0, 0);\n    }, [location, restoreScrollPosition, preventScrollReset]);\n  }\n}\n\n/**\n * Setup a callback to be fired on the window's `beforeunload` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nexport function useBeforeUnload(\n  callback: (event: BeforeUnloadEvent) => any,\n  options?: { capture?: boolean }\n): void {\n  let { capture } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? { capture } : undefined;\n    window.addEventListener(\"beforeunload\", callback, opts);\n    return () => {\n      window.removeEventListener(\"beforeunload\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n\n/**\n * Setup a callback to be fired on the window's `pagehide` event. This is\n * useful for saving some data to `window.localStorage` just before the page\n * refreshes.  This event is better supported than beforeunload across browsers.\n *\n * Note: The `callback` argument should be a function created with\n * `React.useCallback()`.\n */\nfunction usePageHide(\n  callback: (event: PageTransitionEvent) => any,\n  options?: { capture?: boolean }\n): void {\n  let { capture } = options || {};\n  React.useEffect(() => {\n    let opts = capture != null ? { capture } : undefined;\n    window.addEventListener(\"pagehide\", callback, opts);\n    return () => {\n      window.removeEventListener(\"pagehide\", callback, opts);\n    };\n  }, [callback, capture]);\n}\n\n/**\n * Wrapper around useBlocker to show a window.confirm prompt to users instead\n * of building a custom UI with useBlocker.\n *\n * Warning: This has *a lot of rough edges* and behaves very differently (and\n * very incorrectly in some cases) across browsers if user click addition\n * back/forward navigations while the confirm is open.  Use at your own risk.\n */\nfunction usePrompt({ when, message }: { when: boolean; message: string }) {\n  let blocker = useBlocker(when);\n\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\" && !when) {\n      blocker.reset();\n    }\n  }, [blocker, when]);\n\n  React.useEffect(() => {\n    if (blocker.state === \"blocked\") {\n      let proceed = window.confirm(message);\n      if (proceed) {\n        setTimeout(blocker.proceed, 0);\n      } else {\n        blocker.reset();\n      }\n    }\n  }, [blocker, message]);\n}\n\nexport { usePrompt as unstable_usePrompt };\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Utils\n////////////////////////////////////////////////////////////////////////////////\n\nfunction warning(cond: boolean, message: string): void {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n\n    try {\n      // Welcome to debugging React Router!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n//#endregion\n\nexport { useScrollRestoration as UNSAFE_useScrollRestoration };\n","import type { FormEncType, FormMethod } from \"@remix-run/router\";\nimport type { RelativeRoutingType } from \"react-router\";\n\nexport const defaultMethod = \"get\";\nconst defaultEncType = \"application/x-www-form-urlencoded\";\n\nexport function isHtmlElement(object: any): object is HTMLElement {\n  return object != null && typeof object.tagName === \"string\";\n}\n\nexport function isButtonElement(object: any): object is HTMLButtonElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"button\";\n}\n\nexport function isFormElement(object: any): object is HTMLFormElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"form\";\n}\n\nexport function isInputElement(object: any): object is HTMLInputElement {\n  return isHtmlElement(object) && object.tagName.toLowerCase() === \"input\";\n}\n\ntype LimitedMouseEvent = Pick<\n  MouseEvent,\n  \"button\" | \"metaKey\" | \"altKey\" | \"ctrlKey\" | \"shiftKey\"\n>;\n\nfunction isModifiedEvent(event: LimitedMouseEvent) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nexport function shouldProcessLinkClick(\n  event: LimitedMouseEvent,\n  target?: string\n) {\n  return (\n    event.button === 0 && // Ignore everything but left clicks\n    (!target || target === \"_self\") && // Let browser handle \"target=_blank\" etc.\n    !isModifiedEvent(event) // Ignore clicks with modifier keys\n  );\n}\n\nexport type ParamKeyValuePair = [string, string];\n\nexport type URLSearchParamsInit =\n  | string\n  | ParamKeyValuePair[]\n  | Record<string, string | string[]>\n  | URLSearchParams;\n\n/**\n * Creates a URLSearchParams object using the given initializer.\n *\n * This is identical to `new URLSearchParams(init)` except it also\n * supports arrays as values in the object form of the initializer\n * instead of just strings. This is convenient when you need multiple\n * values for a given key, but don't want to use an array initializer.\n *\n * For example, instead of:\n *\n *   let searchParams = new URLSearchParams([\n *     ['sort', 'name'],\n *     ['sort', 'price']\n *   ]);\n *\n * you can do:\n *\n *   let searchParams = createSearchParams({\n *     sort: ['name', 'price']\n *   });\n */\nexport function createSearchParams(\n  init: URLSearchParamsInit = \"\"\n): URLSearchParams {\n  return new URLSearchParams(\n    typeof init === \"string\" ||\n    Array.isArray(init) ||\n    init instanceof URLSearchParams\n      ? init\n      : Object.keys(init).reduce((memo, key) => {\n          let value = init[key];\n          return memo.concat(\n            Array.isArray(value) ? value.map((v) => [key, v]) : [[key, value]]\n          );\n        }, [] as ParamKeyValuePair[])\n  );\n}\n\nexport function getSearchParamsForLocation(\n  locationSearch: string,\n  defaultSearchParams: URLSearchParams | null\n) {\n  let searchParams = createSearchParams(locationSearch);\n\n  if (defaultSearchParams) {\n    for (let key of defaultSearchParams.keys()) {\n      if (!searchParams.has(key)) {\n        defaultSearchParams.getAll(key).forEach((value) => {\n          searchParams.append(key, value);\n        });\n      }\n    }\n  }\n\n  return searchParams;\n}\n\nexport interface SubmitOptions {\n  /**\n   * The HTTP method used to submit the form. Overrides `<form method>`.\n   * Defaults to \"GET\".\n   */\n  method?: FormMethod;\n\n  /**\n   * The action URL path used to submit the form. Overrides `<form action>`.\n   * Defaults to the path of the current route.\n   *\n   * Note: It is assumed the path is already resolved. If you need to resolve a\n   * relative path, use `useFormAction`.\n   */\n  action?: string;\n\n  /**\n   * The action URL used to submit the form. Overrides `<form encType>`.\n   * Defaults to \"application/x-www-form-urlencoded\".\n   */\n  encType?: FormEncType;\n\n  /**\n   * Set `true` to replace the current entry in the browser's history stack\n   * instead of creating a new one (i.e. stay on \"the same page\"). Defaults\n   * to `false`.\n   */\n  replace?: boolean;\n\n  /**\n   * Determines whether the form action is relative to the route hierarchy or\n   * the pathname.  Use this if you want to opt out of navigating the route\n   * hierarchy and want to instead route based on /-delimited URL segments\n   */\n  relative?: RelativeRoutingType;\n\n  /**\n   * In browser-based environments, prevent resetting scroll after this\n   * navigation when using the <ScrollRestoration> component\n   */\n  preventScrollReset?: boolean;\n}\n\nexport function getFormSubmissionInfo(\n  target:\n    | HTMLFormElement\n    | HTMLButtonElement\n    | HTMLInputElement\n    | FormData\n    | URLSearchParams\n    | { [name: string]: string }\n    | null,\n  defaultAction: string,\n  options: SubmitOptions\n): {\n  url: URL;\n  method: string;\n  encType: string;\n  formData: FormData;\n} {\n  let method: string;\n  let action: string;\n  let encType: string;\n  let formData: FormData;\n\n  if (isFormElement(target)) {\n    let submissionTrigger: HTMLButtonElement | HTMLInputElement = (\n      options as any\n    ).submissionTrigger;\n\n    method = options.method || target.getAttribute(\"method\") || defaultMethod;\n    action = options.action || target.getAttribute(\"action\") || defaultAction;\n    encType =\n      options.encType || target.getAttribute(\"enctype\") || defaultEncType;\n\n    formData = new FormData(target);\n\n    if (submissionTrigger && submissionTrigger.name) {\n      formData.append(submissionTrigger.name, submissionTrigger.value);\n    }\n  } else if (\n    isButtonElement(target) ||\n    (isInputElement(target) &&\n      (target.type === \"submit\" || target.type === \"image\"))\n  ) {\n    let form = target.form;\n\n    if (form == null) {\n      throw new Error(\n        `Cannot submit a <button> or <input type=\"submit\"> without a <form>`\n      );\n    }\n\n    // <button>/<input type=\"submit\"> may override attributes of <form>\n\n    method =\n      options.method ||\n      target.getAttribute(\"formmethod\") ||\n      form.getAttribute(\"method\") ||\n      defaultMethod;\n    action =\n      options.action ||\n      target.getAttribute(\"formaction\") ||\n      form.getAttribute(\"action\") ||\n      defaultAction;\n    encType =\n      options.encType ||\n      target.getAttribute(\"formenctype\") ||\n      form.getAttribute(\"enctype\") ||\n      defaultEncType;\n\n    formData = new FormData(form);\n\n    // Include name + value from a <button>, appending in case the button name\n    // matches an existing input name\n    if (target.name) {\n      formData.append(target.name, target.value);\n    }\n  } else if (isHtmlElement(target)) {\n    throw new Error(\n      `Cannot submit element that is not <form>, <button>, or ` +\n        `<input type=\"submit|image\">`\n    );\n  } else {\n    method = options.method || defaultMethod;\n    action = options.action || defaultAction;\n    encType = options.encType || defaultEncType;\n\n    if (target instanceof FormData) {\n      formData = target;\n    } else {\n      formData = new FormData();\n\n      if (target instanceof URLSearchParams) {\n        for (let [name, value] of target) {\n          formData.append(name, value);\n        }\n      } else if (target != null) {\n        for (let name of Object.keys(target)) {\n          formData.append(name, target[name]);\n        }\n      }\n    }\n  }\n\n  let { protocol, host } = window.location;\n  let url = new URL(action, `${protocol}//${host}`);\n\n  return { url, method: method.toLowerCase(), encType, formData };\n}\n","////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Actions represent the type of change to a location value.\n */\nexport enum Action {\n  /**\n   * A POP indicates a change to an arbitrary index in the history stack, such\n   * as a back or forward navigation. It does not describe the direction of the\n   * navigation, only that the current index changed.\n   *\n   * Note: This is the default action for newly created history objects.\n   */\n  Pop = \"POP\",\n\n  /**\n   * A PUSH indicates a new entry being added to the history stack, such as when\n   * a link is clicked and a new page loads. When this happens, all subsequent\n   * entries in the stack are lost.\n   */\n  Push = \"PUSH\",\n\n  /**\n   * A REPLACE indicates the entry at the current index in the history stack\n   * being replaced by a new one.\n   */\n  Replace = \"REPLACE\",\n}\n\n/**\n * The pathname, search, and hash values of a URL.\n */\nexport interface Path {\n  /**\n   * A URL pathname, beginning with a /.\n   */\n  pathname: string;\n\n  /**\n   * A URL search string, beginning with a ?.\n   */\n  search: string;\n\n  /**\n   * A URL fragment identifier, beginning with a #.\n   */\n  hash: string;\n}\n\n/**\n * An entry in a history stack. A location contains information about the\n * URL path, as well as possibly some arbitrary state and a key.\n */\nexport interface Location extends Path {\n  /**\n   * A value of arbitrary data associated with this location.\n   */\n  state: any;\n\n  /**\n   * A unique string associated with this location. May be used to safely store\n   * and retrieve data in some other storage API, like `localStorage`.\n   *\n   * Note: This value is always \"default\" on the initial location.\n   */\n  key: string;\n}\n\n/**\n * A change to the current location.\n */\nexport interface Update {\n  /**\n   * The action that triggered the change.\n   */\n  action: Action;\n\n  /**\n   * The new location.\n   */\n  location: Location;\n\n  /**\n   * The delta between this location and the former location in the history stack\n   */\n  delta: number | null;\n}\n\n/**\n * A function that receives notifications about location changes.\n */\nexport interface Listener {\n  (update: Update): void;\n}\n\n/**\n * Describes a location that is the destination of some navigation, either via\n * `history.push` or `history.replace`. May be either a URL or the pieces of a\n * URL path.\n */\nexport type To = string | Partial<Path>;\n\n/**\n * A history is an interface to the navigation stack. The history serves as the\n * source of truth for the current location, as well as provides a set of\n * methods that may be used to change it.\n *\n * It is similar to the DOM's `window.history` object, but with a smaller, more\n * focused API.\n */\nexport interface History {\n  /**\n   * The last action that modified the current location. This will always be\n   * Action.Pop when a history instance is first created. This value is mutable.\n   */\n  readonly action: Action;\n\n  /**\n   * The current location. This value is mutable.\n   */\n  readonly location: Location;\n\n  /**\n   * Returns a valid href for the given `to` value that may be used as\n   * the value of an <a href> attribute.\n   *\n   * @param to - The destination URL\n   */\n  createHref(to: To): string;\n\n  /**\n   * Returns a URL for the given `to` value\n   *\n   * @param to - The destination URL\n   */\n  createURL(to: To): URL;\n\n  /**\n   * Encode a location the same way window.history would do (no-op for memory\n   * history) so we ensure our PUSH/REPLACE navigations for data routers\n   * behave the same as POP\n   *\n   * @param to Unencoded path\n   */\n  encodeLocation(to: To): Path;\n\n  /**\n   * Pushes a new location onto the history stack, increasing its length by one.\n   * If there were any entries in the stack after the current one, they are\n   * lost.\n   *\n   * @param to - The new URL\n   * @param state - Data to associate with the new location\n   */\n  push(to: To, state?: any): void;\n\n  /**\n   * Replaces the current location in the history stack with a new one.  The\n   * location that was replaced will no longer be available.\n   *\n   * @param to - The new URL\n   * @param state - Data to associate with the new location\n   */\n  replace(to: To, state?: any): void;\n\n  /**\n   * Navigates `n` entries backward/forward in the history stack relative to the\n   * current index. For example, a \"back\" navigation would use go(-1).\n   *\n   * @param delta - The delta in the stack index\n   */\n  go(delta: number): void;\n\n  /**\n   * Sets up a listener that will be called whenever the current location\n   * changes.\n   *\n   * @param listener - A function that will be called when the location changes\n   * @returns unlisten - A function that may be used to stop listening\n   */\n  listen(listener: Listener): () => void;\n}\n\ntype HistoryState = {\n  usr: any;\n  key?: string;\n  idx: number;\n};\n\nconst PopStateEventType = \"popstate\";\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Memory History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A user-supplied object that describes a location. Used when providing\n * entries to `createMemoryHistory` via its `initialEntries` option.\n */\nexport type InitialEntry = string | Partial<Location>;\n\nexport type MemoryHistoryOptions = {\n  initialEntries?: InitialEntry[];\n  initialIndex?: number;\n  v5Compat?: boolean;\n};\n\n/**\n * A memory history stores locations in memory. This is useful in stateful\n * environments where there is no web browser, such as node tests or React\n * Native.\n */\nexport interface MemoryHistory extends History {\n  /**\n   * The current index in the history stack.\n   */\n  readonly index: number;\n}\n\n/**\n * Memory history stores the current location in memory. It is designed for use\n * in stateful non-browser environments like tests and React Native.\n */\nexport function createMemoryHistory(\n  options: MemoryHistoryOptions = {}\n): MemoryHistory {\n  let { initialEntries = [\"/\"], initialIndex, v5Compat = false } = options;\n  let entries: Location[]; // Declare so we can access from createMemoryLocation\n  entries = initialEntries.map((entry, index) =>\n    createMemoryLocation(\n      entry,\n      typeof entry === \"string\" ? null : entry.state,\n      index === 0 ? \"default\" : undefined\n    )\n  );\n  let index = clampIndex(\n    initialIndex == null ? entries.length - 1 : initialIndex\n  );\n  let action = Action.Pop;\n  let listener: Listener | null = null;\n\n  function clampIndex(n: number): number {\n    return Math.min(Math.max(n, 0), entries.length - 1);\n  }\n  function getCurrentLocation(): Location {\n    return entries[index];\n  }\n  function createMemoryLocation(\n    to: To,\n    state: any = null,\n    key?: string\n  ): Location {\n    let location = createLocation(\n      entries ? getCurrentLocation().pathname : \"/\",\n      to,\n      state,\n      key\n    );\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in memory history: ${JSON.stringify(\n        to\n      )}`\n    );\n    return location;\n  }\n\n  function createHref(to: To) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n\n  let history: MemoryHistory = {\n    get index() {\n      return index;\n    },\n    get action() {\n      return action;\n    },\n    get location() {\n      return getCurrentLocation();\n    },\n    createHref,\n    createURL(to) {\n      return new URL(createHref(to), \"http://localhost\");\n    },\n    encodeLocation(to: To) {\n      let path = typeof to === \"string\" ? parsePath(to) : to;\n      return {\n        pathname: path.pathname || \"\",\n        search: path.search || \"\",\n        hash: path.hash || \"\",\n      };\n    },\n    push(to, state) {\n      action = Action.Push;\n      let nextLocation = createMemoryLocation(to, state);\n      index += 1;\n      entries.splice(index, entries.length, nextLocation);\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 1 });\n      }\n    },\n    replace(to, state) {\n      action = Action.Replace;\n      let nextLocation = createMemoryLocation(to, state);\n      entries[index] = nextLocation;\n      if (v5Compat && listener) {\n        listener({ action, location: nextLocation, delta: 0 });\n      }\n    },\n    go(delta) {\n      action = Action.Pop;\n      let nextIndex = clampIndex(index + delta);\n      let nextLocation = entries[nextIndex];\n      index = nextIndex;\n      if (listener) {\n        listener({ action, location: nextLocation, delta });\n      }\n    },\n    listen(fn: Listener) {\n      listener = fn;\n      return () => {\n        listener = null;\n      };\n    },\n  };\n\n  return history;\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Browser History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A browser history stores the current location in regular URLs in a web\n * browser environment. This is the standard for most web apps and provides the\n * cleanest URLs the browser's address bar.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#browserhistory\n */\nexport interface BrowserHistory extends UrlHistory {}\n\nexport type BrowserHistoryOptions = UrlHistoryOptions;\n\n/**\n * Browser history stores the location in regular URLs. This is the standard for\n * most web apps, but it requires some configuration on the server to ensure you\n * serve the same app at multiple URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createbrowserhistory\n */\nexport function createBrowserHistory(\n  options: BrowserHistoryOptions = {}\n): BrowserHistory {\n  function createBrowserLocation(\n    window: Window,\n    globalHistory: Window[\"history\"]\n  ) {\n    let { pathname, search, hash } = window.location;\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      (globalHistory.state && globalHistory.state.usr) || null,\n      (globalHistory.state && globalHistory.state.key) || \"default\"\n    );\n  }\n\n  function createBrowserHref(window: Window, to: To) {\n    return typeof to === \"string\" ? to : createPath(to);\n  }\n\n  return getUrlBasedHistory(\n    createBrowserLocation,\n    createBrowserHref,\n    null,\n    options\n  );\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Hash History\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A hash history stores the current location in the fragment identifier portion\n * of the URL in a web browser environment.\n *\n * This is ideal for apps that do not control the server for some reason\n * (because the fragment identifier is never sent to the server), including some\n * shared hosting environments that do not provide fine-grained controls over\n * which pages are served at which URLs.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#hashhistory\n */\nexport interface HashHistory extends UrlHistory {}\n\nexport type HashHistoryOptions = UrlHistoryOptions;\n\n/**\n * Hash history stores the location in window.location.hash. This makes it ideal\n * for situations where you don't want to send the location to the server for\n * some reason, either because you do cannot configure it or the URL space is\n * reserved for something else.\n *\n * @see https://github.com/remix-run/history/tree/main/docs/api-reference.md#createhashhistory\n */\nexport function createHashHistory(\n  options: HashHistoryOptions = {}\n): HashHistory {\n  function createHashLocation(\n    window: Window,\n    globalHistory: Window[\"history\"]\n  ) {\n    let {\n      pathname = \"/\",\n      search = \"\",\n      hash = \"\",\n    } = parsePath(window.location.hash.substr(1));\n    return createLocation(\n      \"\",\n      { pathname, search, hash },\n      // state defaults to `null` because `window.history.state` does\n      (globalHistory.state && globalHistory.state.usr) || null,\n      (globalHistory.state && globalHistory.state.key) || \"default\"\n    );\n  }\n\n  function createHashHref(window: Window, to: To) {\n    let base = window.document.querySelector(\"base\");\n    let href = \"\";\n\n    if (base && base.getAttribute(\"href\")) {\n      let url = window.location.href;\n      let hashIndex = url.indexOf(\"#\");\n      href = hashIndex === -1 ? url : url.slice(0, hashIndex);\n    }\n\n    return href + \"#\" + (typeof to === \"string\" ? to : createPath(to));\n  }\n\n  function validateHashLocation(location: Location, to: To) {\n    warning(\n      location.pathname.charAt(0) === \"/\",\n      `relative pathnames are not supported in hash history.push(${JSON.stringify(\n        to\n      )})`\n    );\n  }\n\n  return getUrlBasedHistory(\n    createHashLocation,\n    createHashHref,\n    validateHashLocation,\n    options\n  );\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region UTILS\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * @private\n */\nexport function invariant(value: boolean, message?: string): asserts value;\nexport function invariant<T>(\n  value: T | null | undefined,\n  message?: string\n): asserts value is T;\nexport function invariant(value: any, message?: string) {\n  if (value === false || value === null || typeof value === \"undefined\") {\n    throw new Error(message);\n  }\n}\n\nfunction warning(cond: any, message: string) {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n\n    try {\n      // Welcome to debugging history!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n\nfunction createKey() {\n  return Math.random().toString(36).substr(2, 8);\n}\n\n/**\n * For browser-based histories, we combine the state and key into an object\n */\nfunction getHistoryState(location: Location, index: number): HistoryState {\n  return {\n    usr: location.state,\n    key: location.key,\n    idx: index,\n  };\n}\n\n/**\n * Creates a Location object with a unique key from the given Path\n */\nexport function createLocation(\n  current: string | Location,\n  to: To,\n  state: any = null,\n  key?: string\n): Readonly<Location> {\n  let location: Readonly<Location> = {\n    pathname: typeof current === \"string\" ? current : current.pathname,\n    search: \"\",\n    hash: \"\",\n    ...(typeof to === \"string\" ? parsePath(to) : to),\n    state,\n    // TODO: This could be cleaned up.  push/replace should probably just take\n    // full Locations now and avoid the need to run through this flow at all\n    // But that's a pretty big refactor to the current test suite so going to\n    // keep as is for the time being and just let any incoming keys take precedence\n    key: (to && (to as Location).key) || key || createKey(),\n  };\n  return location;\n}\n\n/**\n * Creates a string URL path from the given pathname, search, and hash components.\n */\nexport function createPath({\n  pathname = \"/\",\n  search = \"\",\n  hash = \"\",\n}: Partial<Path>) {\n  if (search && search !== \"?\")\n    pathname += search.charAt(0) === \"?\" ? search : \"?\" + search;\n  if (hash && hash !== \"#\")\n    pathname += hash.charAt(0) === \"#\" ? hash : \"#\" + hash;\n  return pathname;\n}\n\n/**\n * Parses a string URL path into its separate pathname, search, and hash components.\n */\nexport function parsePath(path: string): Partial<Path> {\n  let parsedPath: Partial<Path> = {};\n\n  if (path) {\n    let hashIndex = path.indexOf(\"#\");\n    if (hashIndex >= 0) {\n      parsedPath.hash = path.substr(hashIndex);\n      path = path.substr(0, hashIndex);\n    }\n\n    let searchIndex = path.indexOf(\"?\");\n    if (searchIndex >= 0) {\n      parsedPath.search = path.substr(searchIndex);\n      path = path.substr(0, searchIndex);\n    }\n\n    if (path) {\n      parsedPath.pathname = path;\n    }\n  }\n\n  return parsedPath;\n}\n\nexport interface UrlHistory extends History {}\n\nexport type UrlHistoryOptions = {\n  window?: Window;\n  v5Compat?: boolean;\n};\n\nfunction getUrlBasedHistory(\n  getLocation: (window: Window, globalHistory: Window[\"history\"]) => Location,\n  createHref: (window: Window, to: To) => string,\n  validateLocation: ((location: Location, to: To) => void) | null,\n  options: UrlHistoryOptions = {}\n): UrlHistory {\n  let { window = document.defaultView!, v5Compat = false } = options;\n  let globalHistory = window.history;\n  let action = Action.Pop;\n  let listener: Listener | null = null;\n\n  let index = getIndex()!;\n  // Index should only be null when we initialize. If not, it's because the\n  // user called history.pushState or history.replaceState directly, in which\n  // case we should log a warning as it will result in bugs.\n  if (index == null) {\n    index = 0;\n    globalHistory.replaceState({ ...globalHistory.state, idx: index }, \"\");\n  }\n\n  function getIndex(): number {\n    let state = globalHistory.state || { idx: null };\n    return state.idx;\n  }\n\n  function handlePop() {\n    action = Action.Pop;\n    let nextIndex = getIndex();\n    let delta = nextIndex == null ? null : nextIndex - index;\n    index = nextIndex;\n    if (listener) {\n      listener({ action, location: history.location, delta });\n    }\n  }\n\n  function push(to: To, state?: any) {\n    action = Action.Push;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n\n    index = getIndex() + 1;\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n\n    // try...catch because iOS limits us to 100 pushState calls :/\n    try {\n      globalHistory.pushState(historyState, \"\", url);\n    } catch (error) {\n      // They are going to lose state here, but there is no real\n      // way to warn them about it since the page will refresh...\n      window.location.assign(url);\n    }\n\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 1 });\n    }\n  }\n\n  function replace(to: To, state?: any) {\n    action = Action.Replace;\n    let location = createLocation(history.location, to, state);\n    if (validateLocation) validateLocation(location, to);\n\n    index = getIndex();\n    let historyState = getHistoryState(location, index);\n    let url = history.createHref(location);\n    globalHistory.replaceState(historyState, \"\", url);\n\n    if (v5Compat && listener) {\n      listener({ action, location: history.location, delta: 0 });\n    }\n  }\n\n  function createURL(to: To): URL {\n    // window.location.origin is \"null\" (the literal string value) in Firefox\n    // under certain conditions, notably when serving from a local HTML file\n    // See https://bugzilla.mozilla.org/show_bug.cgi?id=878297\n    let base =\n      window.location.origin !== \"null\"\n        ? window.location.origin\n        : window.location.href;\n\n    let href = typeof to === \"string\" ? to : createPath(to);\n    invariant(\n      base,\n      `No window.location.(origin|href) available to create URL for href: ${href}`\n    );\n    return new URL(href, base);\n  }\n\n  let history: History = {\n    get action() {\n      return action;\n    },\n    get location() {\n      return getLocation(window, globalHistory);\n    },\n    listen(fn: Listener) {\n      if (listener) {\n        throw new Error(\"A history only accepts one active listener\");\n      }\n      window.addEventListener(PopStateEventType, handlePop);\n      listener = fn;\n\n      return () => {\n        window.removeEventListener(PopStateEventType, handlePop);\n        listener = null;\n      };\n    },\n    createHref(to) {\n      return createHref(window, to);\n    },\n    createURL,\n    encodeLocation(to) {\n      // Encode a Location the same way window.location would\n      let url = createURL(to);\n      return {\n        pathname: url.pathname,\n        search: url.search,\n        hash: url.hash,\n      };\n    },\n    push,\n    replace,\n    go(n) {\n      return globalHistory.go(n);\n    },\n  };\n\n  return history;\n}\n\n//#endregion\n","import type { Location, Path, To } from \"./history\";\nimport { invariant, parsePath } from \"./history\";\n\n/**\n * Map of routeId -> data returned from a loader/action/error\n */\nexport interface RouteData {\n  [routeId: string]: any;\n}\n\nexport enum ResultType {\n  data = \"data\",\n  deferred = \"deferred\",\n  redirect = \"redirect\",\n  error = \"error\",\n}\n\n/**\n * Successful result from a loader or action\n */\nexport interface SuccessResult {\n  type: ResultType.data;\n  data: any;\n  statusCode?: number;\n  headers?: Headers;\n}\n\n/**\n * Successful defer() result from a loader or action\n */\nexport interface DeferredResult {\n  type: ResultType.deferred;\n  deferredData: DeferredData;\n  statusCode?: number;\n  headers?: Headers;\n}\n\n/**\n * Redirect result from a loader or action\n */\nexport interface RedirectResult {\n  type: ResultType.redirect;\n  status: number;\n  location: string;\n  revalidate: boolean;\n}\n\n/**\n * Unsuccessful result from a loader or action\n */\nexport interface ErrorResult {\n  type: ResultType.error;\n  error: any;\n  headers?: Headers;\n}\n\n/**\n * Result from a loader or action - potentially successful or unsuccessful\n */\nexport type DataResult =\n  | SuccessResult\n  | DeferredResult\n  | RedirectResult\n  | ErrorResult;\n\nexport type MutationFormMethod = \"post\" | \"put\" | \"patch\" | \"delete\";\nexport type FormMethod = \"get\" | MutationFormMethod;\n\nexport type FormEncType =\n  | \"application/x-www-form-urlencoded\"\n  | \"multipart/form-data\";\n\n/**\n * @private\n * Internal interface to pass around for action submissions, not intended for\n * external consumption\n */\nexport interface Submission {\n  formMethod: FormMethod;\n  formAction: string;\n  formEncType: FormEncType;\n  formData: FormData;\n}\n\n/**\n * @private\n * Arguments passed to route loader/action functions.  Same for now but we keep\n * this as a private implementation detail in case they diverge in the future.\n */\ninterface DataFunctionArgs {\n  request: Request;\n  params: Params;\n  context?: any;\n}\n\n/**\n * Arguments passed to loader functions\n */\nexport interface LoaderFunctionArgs extends DataFunctionArgs {}\n\n/**\n * Arguments passed to action functions\n */\nexport interface ActionFunctionArgs extends DataFunctionArgs {}\n\n/**\n * Route loader function signature\n */\nexport interface LoaderFunction {\n  (args: LoaderFunctionArgs): Promise<Response> | Response | Promise<any> | any;\n}\n\n/**\n * Route action function signature\n */\nexport interface ActionFunction {\n  (args: ActionFunctionArgs): Promise<Response> | Response | Promise<any> | any;\n}\n\n/**\n * Route shouldRevalidate function signature.  This runs after any submission\n * (navigation or fetcher), so we flatten the navigation/fetcher submission\n * onto the arguments.  It shouldn't matter whether it came from a navigation\n * or a fetcher, what really matters is the URLs and the formData since loaders\n * have to re-run based on the data models that were potentially mutated.\n */\nexport interface ShouldRevalidateFunction {\n  (args: {\n    currentUrl: URL;\n    currentParams: AgnosticDataRouteMatch[\"params\"];\n    nextUrl: URL;\n    nextParams: AgnosticDataRouteMatch[\"params\"];\n    formMethod?: Submission[\"formMethod\"];\n    formAction?: Submission[\"formAction\"];\n    formEncType?: Submission[\"formEncType\"];\n    formData?: Submission[\"formData\"];\n    actionResult?: DataResult;\n    defaultShouldRevalidate: boolean;\n  }): boolean;\n}\n\n/**\n * Base RouteObject with common props shared by all types of routes\n */\ntype AgnosticBaseRouteObject = {\n  caseSensitive?: boolean;\n  path?: string;\n  id?: string;\n  loader?: LoaderFunction;\n  action?: ActionFunction;\n  hasErrorBoundary?: boolean;\n  shouldRevalidate?: ShouldRevalidateFunction;\n  handle?: any;\n};\n\n/**\n * Index routes must not have children\n */\nexport type AgnosticIndexRouteObject = AgnosticBaseRouteObject & {\n  children?: undefined;\n  index: true;\n};\n\n/**\n * Non-index routes may have children, but cannot have index\n */\nexport type AgnosticNonIndexRouteObject = AgnosticBaseRouteObject & {\n  children?: AgnosticRouteObject[];\n  index?: false;\n};\n\n/**\n * A route object represents a logical route, with (optionally) its child\n * routes organized in a tree-like structure.\n */\nexport type AgnosticRouteObject =\n  | AgnosticIndexRouteObject\n  | AgnosticNonIndexRouteObject;\n\nexport type AgnosticDataIndexRouteObject = AgnosticIndexRouteObject & {\n  id: string;\n};\n\nexport type AgnosticDataNonIndexRouteObject = AgnosticNonIndexRouteObject & {\n  children?: AgnosticDataRouteObject[];\n  id: string;\n};\n\n/**\n * A data route object, which is just a RouteObject with a required unique ID\n */\nexport type AgnosticDataRouteObject =\n  | AgnosticDataIndexRouteObject\n  | AgnosticDataNonIndexRouteObject;\n\n// Recursive helper for finding path parameters in the absence of wildcards\ntype _PathParam<Path extends string> =\n  // split path into individual path segments\n  Path extends `${infer L}/${infer R}`\n    ? _PathParam<L> | _PathParam<R>\n    : // find params after `:`\n    Path extends `:${infer Param}`\n    ? Param extends `${infer Optional}?`\n      ? Optional\n      : Param\n    : // otherwise, there aren't any params present\n      never;\n\n/**\n * Examples:\n * \"/a/b/*\" -> \"*\"\n * \":a\" -> \"a\"\n * \"/a/:b\" -> \"b\"\n * \"/a/blahblahblah:b\" -> \"b\"\n * \"/:a/:b\" -> \"a\" | \"b\"\n * \"/:a/b/:c/*\" -> \"a\" | \"c\" | \"*\"\n */\ntype PathParam<Path extends string> =\n  // check if path is just a wildcard\n  Path extends \"*\"\n    ? \"*\"\n    : // look for wildcard at the end of the path\n    Path extends `${infer Rest}/*`\n    ? \"*\" | _PathParam<Rest>\n    : // look for params in the absence of wildcards\n      _PathParam<Path>;\n\n// Attempt to parse the given string segment. If it fails, then just return the\n// plain string type as a default fallback. Otherwise return the union of the\n// parsed string literals that were referenced as dynamic segments in the route.\nexport type ParamParseKey<Segment extends string> =\n  // if could not find path params, fallback to `string`\n  [PathParam<Segment>] extends [never] ? string : PathParam<Segment>;\n\n/**\n * The parameters that were parsed from the URL path.\n */\nexport type Params<Key extends string = string> = {\n  readonly [key in Key]: string | undefined;\n};\n\n/**\n * A RouteMatch contains info about how a route matched a URL.\n */\nexport interface AgnosticRouteMatch<\n  ParamKey extends string = string,\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  /**\n   * The names and values of dynamic parameters in the URL.\n   */\n  params: Params<ParamKey>;\n  /**\n   * The portion of the URL pathname that was matched.\n   */\n  pathname: string;\n  /**\n   * The portion of the URL pathname that was matched before child routes.\n   */\n  pathnameBase: string;\n  /**\n   * The route object that was used to match.\n   */\n  route: RouteObjectType;\n}\n\nexport interface AgnosticDataRouteMatch\n  extends AgnosticRouteMatch<string, AgnosticDataRouteObject> {}\n\nfunction isIndexRoute(\n  route: AgnosticRouteObject\n): route is AgnosticIndexRouteObject {\n  return route.index === true;\n}\n\n// Walk the route tree generating unique IDs where necessary so we are working\n// solely with AgnosticDataRouteObject's within the Router\nexport function convertRoutesToDataRoutes(\n  routes: AgnosticRouteObject[],\n  parentPath: number[] = [],\n  allIds: Set<string> = new Set<string>()\n): AgnosticDataRouteObject[] {\n  return routes.map((route, index) => {\n    let treePath = [...parentPath, index];\n    let id = typeof route.id === \"string\" ? route.id : treePath.join(\"-\");\n    invariant(\n      route.index !== true || !route.children,\n      `Cannot specify children on an index route`\n    );\n    invariant(\n      !allIds.has(id),\n      `Found a route id collision on id \"${id}\".  Route ` +\n        \"id's must be globally unique within Data Router usages\"\n    );\n    allIds.add(id);\n\n    if (isIndexRoute(route)) {\n      let indexRoute: AgnosticDataIndexRouteObject = { ...route, id };\n      return indexRoute;\n    } else {\n      let pathOrLayoutRoute: AgnosticDataNonIndexRouteObject = {\n        ...route,\n        id,\n        children: route.children\n          ? convertRoutesToDataRoutes(route.children, treePath, allIds)\n          : undefined,\n      };\n      return pathOrLayoutRoute;\n    }\n  });\n}\n\n/**\n * Matches the given routes to a location and returns the match data.\n *\n * @see https://reactrouter.com/utils/match-routes\n */\nexport function matchRoutes<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  routes: RouteObjectType[],\n  locationArg: Partial<Location> | string,\n  basename = \"/\"\n): AgnosticRouteMatch<string, RouteObjectType>[] | null {\n  let location =\n    typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n\n  let pathname = stripBasename(location.pathname || \"/\", basename);\n\n  if (pathname == null) {\n    return null;\n  }\n\n  let branches = flattenRoutes(routes);\n  rankRouteBranches(branches);\n\n  let matches = null;\n  for (let i = 0; matches == null && i < branches.length; ++i) {\n    matches = matchRouteBranch<string, RouteObjectType>(\n      branches[i],\n      // Incoming pathnames are generally encoded from either window.location\n      // or from router.navigate, but we want to match against the unencoded\n      // paths in the route definitions.  Memory router locations won't be\n      // encoded here but there also shouldn't be anything to decode so this\n      // should be a safe operation.  This avoids needing matchRoutes to be\n      // history-aware.\n      safelyDecodeURI(pathname)\n    );\n  }\n\n  return matches;\n}\n\ninterface RouteMeta<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  relativePath: string;\n  caseSensitive: boolean;\n  childrenIndex: number;\n  route: RouteObjectType;\n}\n\ninterface RouteBranch<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n> {\n  path: string;\n  score: number;\n  routesMeta: RouteMeta<RouteObjectType>[];\n}\n\nfunction flattenRoutes<\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  routes: RouteObjectType[],\n  branches: RouteBranch<RouteObjectType>[] = [],\n  parentsMeta: RouteMeta<RouteObjectType>[] = [],\n  parentPath = \"\"\n): RouteBranch<RouteObjectType>[] {\n  let flattenRoute = (\n    route: RouteObjectType,\n    index: number,\n    relativePath?: string\n  ) => {\n    let meta: RouteMeta<RouteObjectType> = {\n      relativePath:\n        relativePath === undefined ? route.path || \"\" : relativePath,\n      caseSensitive: route.caseSensitive === true,\n      childrenIndex: index,\n      route,\n    };\n\n    if (meta.relativePath.startsWith(\"/\")) {\n      invariant(\n        meta.relativePath.startsWith(parentPath),\n        `Absolute route path \"${meta.relativePath}\" nested under path ` +\n          `\"${parentPath}\" is not valid. An absolute child route path ` +\n          `must start with the combined path of all its parent routes.`\n      );\n\n      meta.relativePath = meta.relativePath.slice(parentPath.length);\n    }\n\n    let path = joinPaths([parentPath, meta.relativePath]);\n    let routesMeta = parentsMeta.concat(meta);\n\n    // Add the children before adding this route to the array so we traverse the\n    // route tree depth-first and child routes appear before their parents in\n    // the \"flattened\" version.\n    if (route.children && route.children.length > 0) {\n      invariant(\n        // Our types know better, but runtime JS may not!\n        // @ts-expect-error\n        route.index !== true,\n        `Index routes must not have child routes. Please remove ` +\n          `all child routes from route path \"${path}\".`\n      );\n\n      flattenRoutes(route.children, branches, routesMeta, path);\n    }\n\n    // Routes without a path shouldn't ever match by themselves unless they are\n    // index routes, so don't add them to the list of possible branches.\n    if (route.path == null && !route.index) {\n      return;\n    }\n\n    branches.push({\n      path,\n      score: computeScore(path, route.index),\n      routesMeta,\n    });\n  };\n  routes.forEach((route, index) => {\n    // coarse-grain check for optional params\n    if (route.path === \"\" || !route.path?.includes(\"?\")) {\n      flattenRoute(route, index);\n    } else {\n      for (let exploded of explodeOptionalSegments(route.path)) {\n        flattenRoute(route, index, exploded);\n      }\n    }\n  });\n\n  return branches;\n}\n\n/**\n * Computes all combinations of optional path segments for a given path,\n * excluding combinations that are ambiguous and of lower priority.\n *\n * For example, `/one/:two?/three/:four?/:five?` explodes to:\n * - `/one/three`\n * - `/one/:two/three`\n * - `/one/three/:four`\n * - `/one/three/:five`\n * - `/one/:two/three/:four`\n * - `/one/:two/three/:five`\n * - `/one/three/:four/:five`\n * - `/one/:two/three/:four/:five`\n */\nfunction explodeOptionalSegments(path: string): string[] {\n  let segments = path.split(\"/\");\n  if (segments.length === 0) return [];\n\n  let [first, ...rest] = segments;\n\n  // Optional path segments are denoted by a trailing `?`\n  let isOptional = first.endsWith(\"?\");\n  // Compute the corresponding required segment: `foo?` -> `foo`\n  let required = first.replace(/\\?$/, \"\");\n\n  if (rest.length === 0) {\n    // Intepret empty string as omitting an optional segment\n    // `[\"one\", \"\", \"three\"]` corresponds to omitting `:two` from `/one/:two?/three` -> `/one/three`\n    return isOptional ? [required, \"\"] : [required];\n  }\n\n  let restExploded = explodeOptionalSegments(rest.join(\"/\"));\n\n  let result: string[] = [];\n\n  // All child paths with the prefix.  Do this for all children before the\n  // optional version for all children so we get consistent ordering where the\n  // parent optional aspect is preferred as required.  Otherwise, we can get\n  // child sections interspersed where deeper optional segments are higher than\n  // parent optional segments, where for example, /:two would explodes _earlier_\n  // then /:one.  By always including the parent as required _for all children_\n  // first, we avoid this issue\n  result.push(\n    ...restExploded.map((subpath) =>\n      subpath === \"\" ? required : [required, subpath].join(\"/\")\n    )\n  );\n\n  // Then if this is an optional value, add all child versions without\n  if (isOptional) {\n    result.push(...restExploded);\n  }\n\n  // for absolute paths, ensure `/` instead of empty segment\n  return result.map((exploded) =>\n    path.startsWith(\"/\") && exploded === \"\" ? \"/\" : exploded\n  );\n}\n\nfunction rankRouteBranches(branches: RouteBranch[]): void {\n  branches.sort((a, b) =>\n    a.score !== b.score\n      ? b.score - a.score // Higher score first\n      : compareIndexes(\n          a.routesMeta.map((meta) => meta.childrenIndex),\n          b.routesMeta.map((meta) => meta.childrenIndex)\n        )\n  );\n}\n\nconst paramRe = /^:\\w+$/;\nconst dynamicSegmentValue = 3;\nconst indexRouteValue = 2;\nconst emptySegmentValue = 1;\nconst staticSegmentValue = 10;\nconst splatPenalty = -2;\nconst isSplat = (s: string) => s === \"*\";\n\nfunction computeScore(path: string, index: boolean | undefined): number {\n  let segments = path.split(\"/\");\n  let initialScore = segments.length;\n  if (segments.some(isSplat)) {\n    initialScore += splatPenalty;\n  }\n\n  if (index) {\n    initialScore += indexRouteValue;\n  }\n\n  return segments\n    .filter((s) => !isSplat(s))\n    .reduce(\n      (score, segment) =>\n        score +\n        (paramRe.test(segment)\n          ? dynamicSegmentValue\n          : segment === \"\"\n          ? emptySegmentValue\n          : staticSegmentValue),\n      initialScore\n    );\n}\n\nfunction compareIndexes(a: number[], b: number[]): number {\n  let siblings =\n    a.length === b.length && a.slice(0, -1).every((n, i) => n === b[i]);\n\n  return siblings\n    ? // If two routes are siblings, we should try to match the earlier sibling\n      // first. This allows people to have fine-grained control over the matching\n      // behavior by simply putting routes with identical paths in the order they\n      // want them tried.\n      a[a.length - 1] - b[b.length - 1]\n    : // Otherwise, it doesn't really make sense to rank non-siblings by index,\n      // so they sort equally.\n      0;\n}\n\nfunction matchRouteBranch<\n  ParamKey extends string = string,\n  RouteObjectType extends AgnosticRouteObject = AgnosticRouteObject\n>(\n  branch: RouteBranch<RouteObjectType>,\n  pathname: string\n): AgnosticRouteMatch<ParamKey, RouteObjectType>[] | null {\n  let { routesMeta } = branch;\n\n  let matchedParams = {};\n  let matchedPathname = \"/\";\n  let matches: AgnosticRouteMatch<ParamKey, RouteObjectType>[] = [];\n  for (let i = 0; i < routesMeta.length; ++i) {\n    let meta = routesMeta[i];\n    let end = i === routesMeta.length - 1;\n    let remainingPathname =\n      matchedPathname === \"/\"\n        ? pathname\n        : pathname.slice(matchedPathname.length) || \"/\";\n    let match = matchPath(\n      { path: meta.relativePath, caseSensitive: meta.caseSensitive, end },\n      remainingPathname\n    );\n\n    if (!match) return null;\n\n    Object.assign(matchedParams, match.params);\n\n    let route = meta.route;\n\n    matches.push({\n      // TODO: Can this as be avoided?\n      params: matchedParams as Params<ParamKey>,\n      pathname: joinPaths([matchedPathname, match.pathname]),\n      pathnameBase: normalizePathname(\n        joinPaths([matchedPathname, match.pathnameBase])\n      ),\n      route,\n    });\n\n    if (match.pathnameBase !== \"/\") {\n      matchedPathname = joinPaths([matchedPathname, match.pathnameBase]);\n    }\n  }\n\n  return matches;\n}\n\n/**\n * Returns a path with params interpolated.\n *\n * @see https://reactrouter.com/utils/generate-path\n */\nexport function generatePath<Path extends string>(\n  originalPath: Path,\n  params: {\n    [key in PathParam<Path>]: string | null;\n  } = {} as any\n): string {\n  let path = originalPath;\n  if (path.endsWith(\"*\") && path !== \"*\" && !path.endsWith(\"/*\")) {\n    warning(\n      false,\n      `Route path \"${path}\" will be treated as if it were ` +\n        `\"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must ` +\n        `always follow a \\`/\\` in the pattern. To get rid of this warning, ` +\n        `please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n    );\n    path = path.replace(/\\*$/, \"/*\") as Path;\n  }\n\n  return (\n    path\n      .replace(\n        /^:(\\w+)(\\??)/g,\n        (_, key: PathParam<Path>, optional: string | undefined) => {\n          let param = params[key];\n          if (optional === \"?\") {\n            return param == null ? \"\" : param;\n          }\n          if (param == null) {\n            invariant(false, `Missing \":${key}\" param`);\n          }\n          return param;\n        }\n      )\n      .replace(\n        /\\/:(\\w+)(\\??)/g,\n        (_, key: PathParam<Path>, optional: string | undefined) => {\n          let param = params[key];\n          if (optional === \"?\") {\n            return param == null ? \"\" : `/${param}`;\n          }\n          if (param == null) {\n            invariant(false, `Missing \":${key}\" param`);\n          }\n          return `/${param}`;\n        }\n      )\n      // Remove any optional markers from optional static segments\n      .replace(/\\?/g, \"\")\n      .replace(/(\\/?)\\*/, (_, prefix, __, str) => {\n        const star = \"*\" as PathParam<Path>;\n\n        if (params[star] == null) {\n          // If no splat was provided, trim the trailing slash _unless_ it's\n          // the entire path\n          return str === \"/*\" ? \"/\" : \"\";\n        }\n\n        // Apply the splat\n        return `${prefix}${params[star]}`;\n      })\n  );\n}\n\n/**\n * A PathPattern is used to match on some portion of a URL pathname.\n */\nexport interface PathPattern<Path extends string = string> {\n  /**\n   * A string to match against a URL pathname. May contain `:id`-style segments\n   * to indicate placeholders for dynamic parameters. May also end with `/*` to\n   * indicate matching the rest of the URL pathname.\n   */\n  path: Path;\n  /**\n   * Should be `true` if the static portions of the `path` should be matched in\n   * the same case.\n   */\n  caseSensitive?: boolean;\n  /**\n   * Should be `true` if this pattern should match the entire URL pathname.\n   */\n  end?: boolean;\n}\n\n/**\n * A PathMatch contains info about how a PathPattern matched on a URL pathname.\n */\nexport interface PathMatch<ParamKey extends string = string> {\n  /**\n   * The names and values of dynamic parameters in the URL.\n   */\n  params: Params<ParamKey>;\n  /**\n   * The portion of the URL pathname that was matched.\n   */\n  pathname: string;\n  /**\n   * The portion of the URL pathname that was matched before child routes.\n   */\n  pathnameBase: string;\n  /**\n   * The pattern that was used to match.\n   */\n  pattern: PathPattern;\n}\n\ntype Mutable<T> = {\n  -readonly [P in keyof T]: T[P];\n};\n\n/**\n * Performs pattern matching on a URL pathname and returns information about\n * the match.\n *\n * @see https://reactrouter.com/utils/match-path\n */\nexport function matchPath<\n  ParamKey extends ParamParseKey<Path>,\n  Path extends string\n>(\n  pattern: PathPattern<Path> | Path,\n  pathname: string\n): PathMatch<ParamKey> | null {\n  if (typeof pattern === \"string\") {\n    pattern = { path: pattern, caseSensitive: false, end: true };\n  }\n\n  let [matcher, paramNames] = compilePath(\n    pattern.path,\n    pattern.caseSensitive,\n    pattern.end\n  );\n\n  let match = pathname.match(matcher);\n  if (!match) return null;\n\n  let matchedPathname = match[0];\n  let pathnameBase = matchedPathname.replace(/(.)\\/+$/, \"$1\");\n  let captureGroups = match.slice(1);\n  let params: Params = paramNames.reduce<Mutable<Params>>(\n    (memo, paramName, index) => {\n      // We need to compute the pathnameBase here using the raw splat value\n      // instead of using params[\"*\"] later because it will be decoded then\n      if (paramName === \"*\") {\n        let splatValue = captureGroups[index] || \"\";\n        pathnameBase = matchedPathname\n          .slice(0, matchedPathname.length - splatValue.length)\n          .replace(/(.)\\/+$/, \"$1\");\n      }\n\n      memo[paramName] = safelyDecodeURIComponent(\n        captureGroups[index] || \"\",\n        paramName\n      );\n      return memo;\n    },\n    {}\n  );\n\n  return {\n    params,\n    pathname: matchedPathname,\n    pathnameBase,\n    pattern,\n  };\n}\n\nfunction compilePath(\n  path: string,\n  caseSensitive = false,\n  end = true\n): [RegExp, string[]] {\n  warning(\n    path === \"*\" || !path.endsWith(\"*\") || path.endsWith(\"/*\"),\n    `Route path \"${path}\" will be treated as if it were ` +\n      `\"${path.replace(/\\*$/, \"/*\")}\" because the \\`*\\` character must ` +\n      `always follow a \\`/\\` in the pattern. To get rid of this warning, ` +\n      `please change the route path to \"${path.replace(/\\*$/, \"/*\")}\".`\n  );\n\n  let paramNames: string[] = [];\n  let regexpSource =\n    \"^\" +\n    path\n      .replace(/\\/*\\*?$/, \"\") // Ignore trailing / and /*, we'll handle it below\n      .replace(/^\\/*/, \"/\") // Make sure it has a leading /\n      .replace(/[\\\\.*+^$?{}|()[\\]]/g, \"\\\\$&\") // Escape special regex chars\n      .replace(/\\/:(\\w+)/g, (_: string, paramName: string) => {\n        paramNames.push(paramName);\n        return \"/([^\\\\/]+)\";\n      });\n\n  if (path.endsWith(\"*\")) {\n    paramNames.push(\"*\");\n    regexpSource +=\n      path === \"*\" || path === \"/*\"\n        ? \"(.*)$\" // Already matched the initial /, just match the rest\n        : \"(?:\\\\/(.+)|\\\\/*)$\"; // Don't include the / in params[\"*\"]\n  } else if (end) {\n    // When matching to the end, ignore trailing slashes\n    regexpSource += \"\\\\/*$\";\n  } else if (path !== \"\" && path !== \"/\") {\n    // If our path is non-empty and contains anything beyond an initial slash,\n    // then we have _some_ form of path in our regex so we should expect to\n    // match only if we find the end of this path segment.  Look for an optional\n    // non-captured trailing slash (to match a portion of the URL) or the end\n    // of the path (if we've matched to the end).  We used to do this with a\n    // word boundary but that gives false positives on routes like\n    // /user-preferences since `-` counts as a word boundary.\n    regexpSource += \"(?:(?=\\\\/|$))\";\n  } else {\n    // Nothing to match for \"\" or \"/\"\n  }\n\n  let matcher = new RegExp(regexpSource, caseSensitive ? undefined : \"i\");\n\n  return [matcher, paramNames];\n}\n\nfunction safelyDecodeURI(value: string) {\n  try {\n    return decodeURI(value);\n  } catch (error) {\n    warning(\n      false,\n      `The URL path \"${value}\" could not be decoded because it is is a ` +\n        `malformed URL segment. This is probably due to a bad percent ` +\n        `encoding (${error}).`\n    );\n\n    return value;\n  }\n}\n\nfunction safelyDecodeURIComponent(value: string, paramName: string) {\n  try {\n    return decodeURIComponent(value);\n  } catch (error) {\n    warning(\n      false,\n      `The value for the URL param \"${paramName}\" will not be decoded because` +\n        ` the string \"${value}\" is a malformed URL segment. This is probably` +\n        ` due to a bad percent encoding (${error}).`\n    );\n\n    return value;\n  }\n}\n\n/**\n * @private\n */\nexport function stripBasename(\n  pathname: string,\n  basename: string\n): string | null {\n  if (basename === \"/\") return pathname;\n\n  if (!pathname.toLowerCase().startsWith(basename.toLowerCase())) {\n    return null;\n  }\n\n  // We want to leave trailing slash behavior in the user's control, so if they\n  // specify a basename with a trailing slash, we should support it\n  let startIndex = basename.endsWith(\"/\")\n    ? basename.length - 1\n    : basename.length;\n  let nextChar = pathname.charAt(startIndex);\n  if (nextChar && nextChar !== \"/\") {\n    // pathname does not start with basename/\n    return null;\n  }\n\n  return pathname.slice(startIndex) || \"/\";\n}\n\n/**\n * @private\n */\nexport function warning(cond: any, message: string): void {\n  if (!cond) {\n    // eslint-disable-next-line no-console\n    if (typeof console !== \"undefined\") console.warn(message);\n\n    try {\n      // Welcome to debugging @remix-run/router!\n      //\n      // This error is thrown as a convenience so you can more easily\n      // find the source for a warning that appears in the console by\n      // enabling \"pause on exceptions\" in your JavaScript debugger.\n      throw new Error(message);\n      // eslint-disable-next-line no-empty\n    } catch (e) {}\n  }\n}\n\n/**\n * Returns a resolved path object relative to the given pathname.\n *\n * @see https://reactrouter.com/utils/resolve-path\n */\nexport function resolvePath(to: To, fromPathname = \"/\"): Path {\n  let {\n    pathname: toPathname,\n    search = \"\",\n    hash = \"\",\n  } = typeof to === \"string\" ? parsePath(to) : to;\n\n  let pathname = toPathname\n    ? toPathname.startsWith(\"/\")\n      ? toPathname\n      : resolvePathname(toPathname, fromPathname)\n    : fromPathname;\n\n  return {\n    pathname,\n    search: normalizeSearch(search),\n    hash: normalizeHash(hash),\n  };\n}\n\nfunction resolvePathname(relativePath: string, fromPathname: string): string {\n  let segments = fromPathname.replace(/\\/+$/, \"\").split(\"/\");\n  let relativeSegments = relativePath.split(\"/\");\n\n  relativeSegments.forEach((segment) => {\n    if (segment === \"..\") {\n      // Keep the root \"\" segment so the pathname starts at /\n      if (segments.length > 1) segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n\n  return segments.length > 1 ? segments.join(\"/\") : \"/\";\n}\n\nfunction getInvalidPathError(\n  char: string,\n  field: string,\n  dest: string,\n  path: Partial<Path>\n) {\n  return (\n    `Cannot include a '${char}' character in a manually specified ` +\n    `\\`to.${field}\\` field [${JSON.stringify(\n      path\n    )}].  Please separate it out to the ` +\n    `\\`to.${dest}\\` field. Alternatively you may provide the full path as ` +\n    `a string in <Link to=\"...\"> and the router will parse it for you.`\n  );\n}\n\n/**\n * @private\n *\n * When processing relative navigation we want to ignore ancestor routes that\n * do not contribute to the path, such that index/pathless layout routes don't\n * interfere.\n *\n * For example, when moving a route element into an index route and/or a\n * pathless layout route, relative link behavior contained within should stay\n * the same.  Both of the following examples should link back to the root:\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\" element={<Link to=\"..\"}>\n *   </Route>\n *\n *   <Route path=\"/\">\n *     <Route path=\"accounts\">\n *       <Route element={<AccountsLayout />}>       // <-- Does not contribute\n *         <Route index element={<Link to=\"..\"} />  // <-- Does not contribute\n *       </Route\n *     </Route>\n *   </Route>\n */\nexport function getPathContributingMatches<\n  T extends AgnosticRouteMatch = AgnosticRouteMatch\n>(matches: T[]) {\n  return matches.filter(\n    (match, index) =>\n      index === 0 || (match.route.path && match.route.path.length > 0)\n  );\n}\n\n/**\n * @private\n */\nexport function resolveTo(\n  toArg: To,\n  routePathnames: string[],\n  locationPathname: string,\n  isPathRelative = false\n): Path {\n  let to: Partial<Path>;\n  if (typeof toArg === \"string\") {\n    to = parsePath(toArg);\n  } else {\n    to = { ...toArg };\n\n    invariant(\n      !to.pathname || !to.pathname.includes(\"?\"),\n      getInvalidPathError(\"?\", \"pathname\", \"search\", to)\n    );\n    invariant(\n      !to.pathname || !to.pathname.includes(\"#\"),\n      getInvalidPathError(\"#\", \"pathname\", \"hash\", to)\n    );\n    invariant(\n      !to.search || !to.search.includes(\"#\"),\n      getInvalidPathError(\"#\", \"search\", \"hash\", to)\n    );\n  }\n\n  let isEmptyPath = toArg === \"\" || to.pathname === \"\";\n  let toPathname = isEmptyPath ? \"/\" : to.pathname;\n\n  let from: string;\n\n  // Routing is relative to the current pathname if explicitly requested.\n  //\n  // If a pathname is explicitly provided in `to`, it should be relative to the\n  // route context. This is explained in `Note on `<Link to>` values` in our\n  // migration guide from v5 as a means of disambiguation between `to` values\n  // that begin with `/` and those that do not. However, this is problematic for\n  // `to` values that do not provide a pathname. `to` can simply be a search or\n  // hash string, in which case we should assume that the navigation is relative\n  // to the current location's pathname and *not* the route pathname.\n  if (isPathRelative || toPathname == null) {\n    from = locationPathname;\n  } else {\n    let routePathnameIndex = routePathnames.length - 1;\n\n    if (toPathname.startsWith(\"..\")) {\n      let toSegments = toPathname.split(\"/\");\n\n      // Each leading .. segment means \"go up one route\" instead of \"go up one\n      // URL segment\".  This is a key difference from how <a href> works and a\n      // major reason we call this a \"to\" value instead of a \"href\".\n      while (toSegments[0] === \"..\") {\n        toSegments.shift();\n        routePathnameIndex -= 1;\n      }\n\n      to.pathname = toSegments.join(\"/\");\n    }\n\n    // If there are more \"..\" segments than parent routes, resolve relative to\n    // the root / URL.\n    from = routePathnameIndex >= 0 ? routePathnames[routePathnameIndex] : \"/\";\n  }\n\n  let path = resolvePath(to, from);\n\n  // Ensure the pathname has a trailing slash if the original \"to\" had one\n  let hasExplicitTrailingSlash =\n    toPathname && toPathname !== \"/\" && toPathname.endsWith(\"/\");\n  // Or if this was a link to the current path which has a trailing slash\n  let hasCurrentTrailingSlash =\n    (isEmptyPath || toPathname === \".\") && locationPathname.endsWith(\"/\");\n  if (\n    !path.pathname.endsWith(\"/\") &&\n    (hasExplicitTrailingSlash || hasCurrentTrailingSlash)\n  ) {\n    path.pathname += \"/\";\n  }\n\n  return path;\n}\n\n/**\n * @private\n */\nexport function getToPathname(to: To): string | undefined {\n  // Empty strings should be treated the same as / paths\n  return to === \"\" || (to as Path).pathname === \"\"\n    ? \"/\"\n    : typeof to === \"string\"\n    ? parsePath(to).pathname\n    : to.pathname;\n}\n\n/**\n * @private\n */\nexport const joinPaths = (paths: string[]): string =>\n  paths.join(\"/\").replace(/\\/\\/+/g, \"/\");\n\n/**\n * @private\n */\nexport const normalizePathname = (pathname: string): string =>\n  pathname.replace(/\\/+$/, \"\").replace(/^\\/*/, \"/\");\n\n/**\n * @private\n */\nexport const normalizeSearch = (search: string): string =>\n  !search || search === \"?\"\n    ? \"\"\n    : search.startsWith(\"?\")\n    ? search\n    : \"?\" + search;\n\n/**\n * @private\n */\nexport const normalizeHash = (hash: string): string =>\n  !hash || hash === \"#\" ? \"\" : hash.startsWith(\"#\") ? hash : \"#\" + hash;\n\nexport type JsonFunction = <Data>(\n  data: Data,\n  init?: number | ResponseInit\n) => Response;\n\n/**\n * This is a shortcut for creating `application/json` responses. Converts `data`\n * to JSON and sets the `Content-Type` header.\n */\nexport const json: JsonFunction = (data, init = {}) => {\n  let responseInit = typeof init === \"number\" ? { status: init } : init;\n\n  let headers = new Headers(responseInit.headers);\n  if (!headers.has(\"Content-Type\")) {\n    headers.set(\"Content-Type\", \"application/json; charset=utf-8\");\n  }\n\n  return new Response(JSON.stringify(data), {\n    ...responseInit,\n    headers,\n  });\n};\n\nexport interface TrackedPromise extends Promise<any> {\n  _tracked?: boolean;\n  _data?: any;\n  _error?: any;\n}\n\nexport class AbortedDeferredError extends Error {}\n\nexport class DeferredData {\n  private pendingKeysSet: Set<string> = new Set<string>();\n  private controller: AbortController;\n  private abortPromise: Promise<void>;\n  private unlistenAbortSignal: () => void;\n  private subscribers: Set<(aborted: boolean, settledKey?: string) => void> =\n    new Set();\n  data: Record<string, unknown>;\n  init?: ResponseInit;\n  deferredKeys: string[] = [];\n\n  constructor(data: Record<string, unknown>, responseInit?: ResponseInit) {\n    invariant(\n      data && typeof data === \"object\" && !Array.isArray(data),\n      \"defer() only accepts plain objects\"\n    );\n\n    // Set up an AbortController + Promise we can race against to exit early\n    // cancellation\n    let reject: (e: AbortedDeferredError) => void;\n    this.abortPromise = new Promise((_, r) => (reject = r));\n    this.controller = new AbortController();\n    let onAbort = () =>\n      reject(new AbortedDeferredError(\"Deferred data aborted\"));\n    this.unlistenAbortSignal = () =>\n      this.controller.signal.removeEventListener(\"abort\", onAbort);\n    this.controller.signal.addEventListener(\"abort\", onAbort);\n\n    this.data = Object.entries(data).reduce(\n      (acc, [key, value]) =>\n        Object.assign(acc, {\n          [key]: this.trackPromise(key, value),\n        }),\n      {}\n    );\n\n    if (this.done) {\n      // All incoming values were resolved\n      this.unlistenAbortSignal();\n    }\n\n    this.init = responseInit;\n  }\n\n  private trackPromise(\n    key: string,\n    value: Promise<unknown> | unknown\n  ): TrackedPromise | unknown {\n    if (!(value instanceof Promise)) {\n      return value;\n    }\n\n    this.deferredKeys.push(key);\n    this.pendingKeysSet.add(key);\n\n    // We store a little wrapper promise that will be extended with\n    // _data/_error props upon resolve/reject\n    let promise: TrackedPromise = Promise.race([value, this.abortPromise]).then(\n      (data) => this.onSettle(promise, key, null, data as unknown),\n      (error) => this.onSettle(promise, key, error as unknown)\n    );\n\n    // Register rejection listeners to avoid uncaught promise rejections on\n    // errors or aborted deferred values\n    promise.catch(() => {});\n\n    Object.defineProperty(promise, \"_tracked\", { get: () => true });\n    return promise;\n  }\n\n  private onSettle(\n    promise: TrackedPromise,\n    key: string,\n    error: unknown,\n    data?: unknown\n  ): unknown {\n    if (\n      this.controller.signal.aborted &&\n      error instanceof AbortedDeferredError\n    ) {\n      this.unlistenAbortSignal();\n      Object.defineProperty(promise, \"_error\", { get: () => error });\n      return Promise.reject(error);\n    }\n\n    this.pendingKeysSet.delete(key);\n\n    if (this.done) {\n      // Nothing left to abort!\n      this.unlistenAbortSignal();\n    }\n\n    if (error) {\n      Object.defineProperty(promise, \"_error\", { get: () => error });\n      this.emit(false, key);\n      return Promise.reject(error);\n    }\n\n    Object.defineProperty(promise, \"_data\", { get: () => data });\n    this.emit(false, key);\n    return data;\n  }\n\n  private emit(aborted: boolean, settledKey?: string) {\n    this.subscribers.forEach((subscriber) => subscriber(aborted, settledKey));\n  }\n\n  subscribe(fn: (aborted: boolean, settledKey?: string) => void) {\n    this.subscribers.add(fn);\n    return () => this.subscribers.delete(fn);\n  }\n\n  cancel() {\n    this.controller.abort();\n    this.pendingKeysSet.forEach((v, k) => this.pendingKeysSet.delete(k));\n    this.emit(true);\n  }\n\n  async resolveData(signal: AbortSignal) {\n    let aborted = false;\n    if (!this.done) {\n      let onAbort = () => this.cancel();\n      signal.addEventListener(\"abort\", onAbort);\n      aborted = await new Promise((resolve) => {\n        this.subscribe((aborted) => {\n          signal.removeEventListener(\"abort\", onAbort);\n          if (aborted || this.done) {\n            resolve(aborted);\n          }\n        });\n      });\n    }\n    return aborted;\n  }\n\n  get done() {\n    return this.pendingKeysSet.size === 0;\n  }\n\n  get unwrappedData() {\n    invariant(\n      this.data !== null && this.done,\n      \"Can only unwrap data on initialized and settled deferreds\"\n    );\n\n    return Object.entries(this.data).reduce(\n      (acc, [key, value]) =>\n        Object.assign(acc, {\n          [key]: unwrapTrackedPromise(value),\n        }),\n      {}\n    );\n  }\n\n  get pendingKeys() {\n    return Array.from(this.pendingKeysSet);\n  }\n}\n\nfunction isTrackedPromise(value: any): value is TrackedPromise {\n  return (\n    value instanceof Promise && (value as TrackedPromise)._tracked === true\n  );\n}\n\nfunction unwrapTrackedPromise(value: any) {\n  if (!isTrackedPromise(value)) {\n    return value;\n  }\n\n  if (value._error) {\n    throw value._error;\n  }\n  return value._data;\n}\n\nexport type DeferFunction = (\n  data: Record<string, unknown>,\n  init?: number | ResponseInit\n) => DeferredData;\n\nexport const defer: DeferFunction = (data, init = {}) => {\n  let responseInit = typeof init === \"number\" ? { status: init } : init;\n\n  return new DeferredData(data, responseInit);\n};\n\nexport type RedirectFunction = (\n  url: string,\n  init?: number | ResponseInit\n) => Response;\n\n/**\n * A redirect response. Sets the status code and the `Location` header.\n * Defaults to \"302 Found\".\n */\nexport const redirect: RedirectFunction = (url, init = 302) => {\n  let responseInit = init;\n  if (typeof responseInit === \"number\") {\n    responseInit = { status: responseInit };\n  } else if (typeof responseInit.status === \"undefined\") {\n    responseInit.status = 302;\n  }\n\n  let headers = new Headers(responseInit.headers);\n  headers.set(\"Location\", url);\n\n  return new Response(null, {\n    ...responseInit,\n    headers,\n  });\n};\n\n/**\n * @private\n * Utility class we use to hold auto-unwrapped 4xx/5xx Response bodies\n */\nexport class ErrorResponse {\n  status: number;\n  statusText: string;\n  data: any;\n  error?: Error;\n  internal: boolean;\n\n  constructor(\n    status: number,\n    statusText: string | undefined,\n    data: any,\n    internal = false\n  ) {\n    this.status = status;\n    this.statusText = statusText || \"\";\n    this.internal = internal;\n    if (data instanceof Error) {\n      this.data = data.toString();\n      this.error = data;\n    } else {\n      this.data = data;\n    }\n  }\n}\n\n/**\n * Check if the given error is an ErrorResponse generated from a 4xx/5xx\n * Response thrown from an action/loader\n */\nexport function isRouteErrorResponse(error: any): error is ErrorResponse {\n  return (\n    error != null &&\n    typeof error.status === \"number\" &&\n    typeof error.statusText === \"string\" &&\n    typeof error.internal === \"boolean\" &&\n    \"data\" in error\n  );\n}\n","import type { History, Location, Path, To } from \"./history\";\nimport {\n  Action as HistoryAction,\n  createLocation,\n  createPath,\n  invariant,\n  parsePath,\n} from \"./history\";\nimport type {\n  DataResult,\n  AgnosticDataRouteMatch,\n  AgnosticDataRouteObject,\n  DeferredResult,\n  ErrorResult,\n  FormEncType,\n  FormMethod,\n  RedirectResult,\n  RouteData,\n  AgnosticRouteObject,\n  Submission,\n  SuccessResult,\n  AgnosticRouteMatch,\n  MutationFormMethod,\n  ShouldRevalidateFunction,\n} from \"./utils\";\nimport {\n  DeferredData,\n  ErrorResponse,\n  ResultType,\n  convertRoutesToDataRoutes,\n  getPathContributingMatches,\n  isRouteErrorResponse,\n  joinPaths,\n  matchRoutes,\n  resolveTo,\n  warning,\n} from \"./utils\";\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Types and Constants\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * A Router instance manages all navigation and data loading/mutations\n */\nexport interface Router {\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the basename for the router\n   */\n  get basename(): RouterInit[\"basename\"];\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the current state of the router\n   */\n  get state(): RouterState;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Return the routes for this router instance\n   */\n  get routes(): AgnosticDataRouteObject[];\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Initialize the router, including adding history listeners and kicking off\n   * initial data fetches.  Returns a function to cleanup listeners and abort\n   * any in-progress loads\n   */\n  initialize(): Router;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Subscribe to router.state updates\n   *\n   * @param fn function to call with the new state\n   */\n  subscribe(fn: RouterSubscriber): () => void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Enable scroll restoration behavior in the router\n   *\n   * @param savedScrollPositions Object that will manage positions, in case\n   *                             it's being restored from sessionStorage\n   * @param getScrollPosition    Function to get the active Y scroll position\n   * @param getKey               Function to get the key to use for restoration\n   */\n  enableScrollRestoration(\n    savedScrollPositions: Record<string, number>,\n    getScrollPosition: GetScrollPositionFunction,\n    getKey?: GetScrollRestorationKeyFunction\n  ): () => void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Navigate forward/backward in the history stack\n   * @param to Delta to move in the history stack\n   */\n  navigate(to: number): Promise<void>;\n\n  /**\n   * Navigate to the given path\n   * @param to Path to navigate to\n   * @param opts Navigation options (method, submission, etc.)\n   */\n  navigate(to: To, opts?: RouterNavigateOptions): Promise<void>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Trigger a fetcher load/submission\n   *\n   * @param key     Fetcher key\n   * @param routeId Route that owns the fetcher\n   * @param href    href to fetch\n   * @param opts    Fetcher options, (method, submission, etc.)\n   */\n  fetch(\n    key: string,\n    routeId: string,\n    href: string,\n    opts?: RouterNavigateOptions\n  ): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Trigger a revalidation of all current route loaders and fetcher loads\n   */\n  revalidate(): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Utility function to create an href for the given location\n   * @param location\n   */\n  createHref(location: Location | URL): string;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Utility function to URL encode a destination path according to the internal\n   * history implementation\n   * @param to\n   */\n  encodeLocation(to: To): Path;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Get/create a fetcher for the given key\n   * @param key\n   */\n  getFetcher<TData = any>(key?: string): Fetcher<TData>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Delete the fetcher for a given key\n   * @param key\n   */\n  deleteFetcher(key?: string): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Cleanup listeners and abort any in-progress loads\n   */\n  dispose(): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Get a navigation blocker\n   * @param key The identifier for the blocker\n   * @param fn The blocker function implementation\n   */\n  getBlocker(key: string, fn: BlockerFunction): Blocker;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Delete a navigation blocker\n   * @param key The identifier for the blocker\n   */\n  deleteBlocker(key: string): void;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Internal fetch AbortControllers accessed by unit tests\n   */\n  _internalFetchControllers: Map<string, AbortController>;\n\n  /**\n   * @internal\n   * PRIVATE - DO NOT USE\n   *\n   * Internal pending DeferredData instances accessed by unit tests\n   */\n  _internalActiveDeferreds: Map<string, DeferredData>;\n}\n\n/**\n * State maintained internally by the router.  During a navigation, all states\n * reflect the the \"old\" location unless otherwise noted.\n */\nexport interface RouterState {\n  /**\n   * The action of the most recent navigation\n   */\n  historyAction: HistoryAction;\n\n  /**\n   * The current location reflected by the router\n   */\n  location: Location;\n\n  /**\n   * The current set of route matches\n   */\n  matches: AgnosticDataRouteMatch[];\n\n  /**\n   * Tracks whether we've completed our initial data load\n   */\n  initialized: boolean;\n\n  /**\n   * Current scroll position we should start at for a new view\n   *  - number -> scroll position to restore to\n   *  - false -> do not restore scroll at all (used during submissions)\n   *  - null -> don't have a saved position, scroll to hash or top of page\n   */\n  restoreScrollPosition: number | false | null;\n\n  /**\n   * Indicate whether this navigation should skip resetting the scroll position\n   * if we are unable to restore the scroll position\n   */\n  preventScrollReset: boolean;\n\n  /**\n   * Tracks the state of the current navigation\n   */\n  navigation: Navigation;\n\n  /**\n   * Tracks any in-progress revalidations\n   */\n  revalidation: RevalidationState;\n\n  /**\n   * Data from the loaders for the current matches\n   */\n  loaderData: RouteData;\n\n  /**\n   * Data from the action for the current matches\n   */\n  actionData: RouteData | null;\n\n  /**\n   * Errors caught from loaders for the current matches\n   */\n  errors: RouteData | null;\n\n  /**\n   * Map of current fetchers\n   */\n  fetchers: Map<string, Fetcher>;\n\n  /**\n   * Map of current blockers\n   */\n  blockers: Map<string, Blocker>;\n}\n\n/**\n * Data that can be passed into hydrate a Router from SSR\n */\nexport type HydrationState = Partial<\n  Pick<RouterState, \"loaderData\" | \"actionData\" | \"errors\">\n>;\n\n/**\n * Initialization options for createRouter\n */\nexport interface RouterInit {\n  basename?: string;\n  routes: AgnosticRouteObject[];\n  history: History;\n  hydrationData?: HydrationState;\n}\n\n/**\n * State returned from a server-side query() call\n */\nexport interface StaticHandlerContext {\n  basename: Router[\"basename\"];\n  location: RouterState[\"location\"];\n  matches: RouterState[\"matches\"];\n  loaderData: RouterState[\"loaderData\"];\n  actionData: RouterState[\"actionData\"];\n  errors: RouterState[\"errors\"];\n  statusCode: number;\n  loaderHeaders: Record<string, Headers>;\n  actionHeaders: Record<string, Headers>;\n  activeDeferreds: Record<string, DeferredData> | null;\n  _deepestRenderedBoundaryId?: string | null;\n}\n\n/**\n * A StaticHandler instance manages a singular SSR navigation/fetch event\n */\nexport interface StaticHandler {\n  dataRoutes: AgnosticDataRouteObject[];\n  query(\n    request: Request,\n    opts?: { requestContext?: unknown }\n  ): Promise<StaticHandlerContext | Response>;\n  queryRoute(\n    request: Request,\n    opts?: { routeId?: string; requestContext?: unknown }\n  ): Promise<any>;\n}\n\n/**\n * Subscriber function signature for changes to router state\n */\nexport interface RouterSubscriber {\n  (state: RouterState): void;\n}\n\ninterface UseMatchesMatch {\n  id: string;\n  pathname: string;\n  params: AgnosticRouteMatch[\"params\"];\n  data: unknown;\n  handle: unknown;\n}\n\n/**\n * Function signature for determining the key to be used in scroll restoration\n * for a given location\n */\nexport interface GetScrollRestorationKeyFunction {\n  (location: Location, matches: UseMatchesMatch[]): string | null;\n}\n\n/**\n * Function signature for determining the current scroll position\n */\nexport interface GetScrollPositionFunction {\n  (): number;\n}\n\n/**\n * Options for a navigate() call for a Link navigation\n */\ntype LinkNavigateOptions = {\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n};\n\n/**\n * Options for a navigate() call for a Form navigation\n */\ntype SubmissionNavigateOptions = {\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  formMethod?: FormMethod;\n  formEncType?: FormEncType;\n  formData: FormData;\n};\n\n/**\n * Options to pass to navigate() for either a Link or Form navigation\n */\nexport type RouterNavigateOptions =\n  | LinkNavigateOptions\n  | SubmissionNavigateOptions;\n\n/**\n * Options to pass to fetch()\n */\nexport type RouterFetchOptions =\n  | Omit<LinkNavigateOptions, \"replace\">\n  | Omit<SubmissionNavigateOptions, \"replace\">;\n\n/**\n * Potential states for state.navigation\n */\nexport type NavigationStates = {\n  Idle: {\n    state: \"idle\";\n    location: undefined;\n    formMethod: undefined;\n    formAction: undefined;\n    formEncType: undefined;\n    formData: undefined;\n  };\n  Loading: {\n    state: \"loading\";\n    location: Location;\n    formMethod: FormMethod | undefined;\n    formAction: string | undefined;\n    formEncType: FormEncType | undefined;\n    formData: FormData | undefined;\n  };\n  Submitting: {\n    state: \"submitting\";\n    location: Location;\n    formMethod: FormMethod;\n    formAction: string;\n    formEncType: FormEncType;\n    formData: FormData;\n  };\n};\n\nexport type Navigation = NavigationStates[keyof NavigationStates];\n\nexport type RevalidationState = \"idle\" | \"loading\";\n\n/**\n * Potential states for fetchers\n */\ntype FetcherStates<TData = any> = {\n  Idle: {\n    state: \"idle\";\n    formMethod: undefined;\n    formAction: undefined;\n    formEncType: undefined;\n    formData: undefined;\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n  Loading: {\n    state: \"loading\";\n    formMethod: FormMethod | undefined;\n    formAction: string | undefined;\n    formEncType: FormEncType | undefined;\n    formData: FormData | undefined;\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n  Submitting: {\n    state: \"submitting\";\n    formMethod: FormMethod;\n    formAction: string;\n    formEncType: FormEncType;\n    formData: FormData;\n    data: TData | undefined;\n    \" _hasFetcherDoneAnything \"?: boolean;\n  };\n};\n\nexport type Fetcher<TData = any> =\n  FetcherStates<TData>[keyof FetcherStates<TData>];\n\ninterface BlockerBlocked {\n  state: \"blocked\";\n  reset(): void;\n  proceed(): void;\n  location: Location;\n}\n\ninterface BlockerUnblocked {\n  state: \"unblocked\";\n  reset: undefined;\n  proceed: undefined;\n  location: undefined;\n}\n\ninterface BlockerProceeding {\n  state: \"proceeding\";\n  reset: undefined;\n  proceed: undefined;\n  location: Location;\n}\n\nexport type Blocker = BlockerUnblocked | BlockerBlocked | BlockerProceeding;\n\nexport type BlockerFunction = (args: {\n  currentLocation: Location;\n  nextLocation: Location;\n  historyAction: HistoryAction;\n}) => boolean;\n\ninterface ShortCircuitable {\n  /**\n   * startNavigation does not need to complete the navigation because we\n   * redirected or got interrupted\n   */\n  shortCircuited?: boolean;\n}\n\ninterface HandleActionResult extends ShortCircuitable {\n  /**\n   * Error thrown from the current action, keyed by the route containing the\n   * error boundary to render the error.  To be committed to the state after\n   * loaders have completed\n   */\n  pendingActionError?: RouteData;\n  /**\n   * Data returned from the current action, keyed by the route owning the action.\n   * To be committed to the state after loaders have completed\n   */\n  pendingActionData?: RouteData;\n}\n\ninterface HandleLoadersResult extends ShortCircuitable {\n  /**\n   * loaderData returned from the current set of loaders\n   */\n  loaderData?: RouterState[\"loaderData\"];\n  /**\n   * errors thrown from the current set of loaders\n   */\n  errors?: RouterState[\"errors\"];\n}\n\n/**\n * Cached info for active fetcher.load() instances so they can participate\n * in revalidation\n */\ninterface FetchLoadMatch {\n  routeId: string;\n  path: string;\n  match: AgnosticDataRouteMatch;\n  matches: AgnosticDataRouteMatch[];\n}\n\n/**\n * Identified fetcher.load() calls that need to be revalidated\n */\ninterface RevalidatingFetcher extends FetchLoadMatch {\n  key: string;\n}\n\n/**\n * Wrapper object to allow us to throw any response out from callLoaderOrAction\n * for queryRouter while preserving whether or not it was thrown or returned\n * from the loader/action\n */\ninterface QueryRouteResponse {\n  type: ResultType.data | ResultType.error;\n  response: Response;\n}\n\nconst validMutationMethodsArr: MutationFormMethod[] = [\n  \"post\",\n  \"put\",\n  \"patch\",\n  \"delete\",\n];\nconst validMutationMethods = new Set<MutationFormMethod>(\n  validMutationMethodsArr\n);\n\nconst validRequestMethodsArr: FormMethod[] = [\n  \"get\",\n  ...validMutationMethodsArr,\n];\nconst validRequestMethods = new Set<FormMethod>(validRequestMethodsArr);\n\nconst redirectStatusCodes = new Set([301, 302, 303, 307, 308]);\nconst redirectPreserveMethodStatusCodes = new Set([307, 308]);\n\nexport const IDLE_NAVIGATION: NavigationStates[\"Idle\"] = {\n  state: \"idle\",\n  location: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n};\n\nexport const IDLE_FETCHER: FetcherStates[\"Idle\"] = {\n  state: \"idle\",\n  data: undefined,\n  formMethod: undefined,\n  formAction: undefined,\n  formEncType: undefined,\n  formData: undefined,\n};\n\nexport const IDLE_BLOCKER: BlockerUnblocked = {\n  state: \"unblocked\",\n  proceed: undefined,\n  reset: undefined,\n  location: undefined,\n};\n\nconst ABSOLUTE_URL_REGEX = /^(?:[a-z][a-z0-9+.-]*:|\\/\\/)/i;\n\nconst isBrowser =\n  typeof window !== \"undefined\" &&\n  typeof window.document !== \"undefined\" &&\n  typeof window.document.createElement !== \"undefined\";\nconst isServer = !isBrowser;\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region createRouter\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Create a router and listen to history POP navigations\n */\nexport function createRouter(init: RouterInit): Router {\n  invariant(\n    init.routes.length > 0,\n    \"You must provide a non-empty routes array to createRouter\"\n  );\n\n  let dataRoutes = convertRoutesToDataRoutes(init.routes);\n  // Cleanup function for history\n  let unlistenHistory: (() => void) | null = null;\n  // Externally-provided functions to call on all state changes\n  let subscribers = new Set<RouterSubscriber>();\n  // Externally-provided object to hold scroll restoration locations during routing\n  let savedScrollPositions: Record<string, number> | null = null;\n  // Externally-provided function to get scroll restoration keys\n  let getScrollRestorationKey: GetScrollRestorationKeyFunction | null = null;\n  // Externally-provided function to get current scroll position\n  let getScrollPosition: GetScrollPositionFunction | null = null;\n  // One-time flag to control the initial hydration scroll restoration.  Because\n  // we don't get the saved positions from <ScrollRestoration /> until _after_\n  // the initial render, we need to manually trigger a separate updateState to\n  // send along the restoreScrollPosition\n  // Set to true if we have `hydrationData` since we assume we were SSR'd and that\n  // SSR did the initial scroll restoration.\n  let initialScrollRestored = init.hydrationData != null;\n\n  let initialMatches = matchRoutes(\n    dataRoutes,\n    init.history.location,\n    init.basename\n  );\n  let initialErrors: RouteData | null = null;\n\n  if (initialMatches == null) {\n    // If we do not match a user-provided-route, fall back to the root\n    // to allow the error boundary to take over\n    let error = getInternalRouterError(404, {\n      pathname: init.history.location.pathname,\n    });\n    let { matches, route } = getShortCircuitMatches(dataRoutes);\n    initialMatches = matches;\n    initialErrors = { [route.id]: error };\n  }\n\n  let initialized =\n    !initialMatches.some((m) => m.route.loader) || init.hydrationData != null;\n\n  let router: Router;\n  let state: RouterState = {\n    historyAction: init.history.action,\n    location: init.history.location,\n    matches: initialMatches,\n    initialized,\n    navigation: IDLE_NAVIGATION,\n    // Don't restore on initial updateState() if we were SSR'd\n    restoreScrollPosition: init.hydrationData != null ? false : null,\n    preventScrollReset: false,\n    revalidation: \"idle\",\n    loaderData: (init.hydrationData && init.hydrationData.loaderData) || {},\n    actionData: (init.hydrationData && init.hydrationData.actionData) || null,\n    errors: (init.hydrationData && init.hydrationData.errors) || initialErrors,\n    fetchers: new Map(),\n    blockers: new Map(),\n  };\n\n  // -- Stateful internal variables to manage navigations --\n  // Current navigation in progress (to be committed in completeNavigation)\n  let pendingAction: HistoryAction = HistoryAction.Pop;\n\n  // Should the current navigation prevent the scroll reset if scroll cannot\n  // be restored?\n  let pendingPreventScrollReset = false;\n\n  // AbortController for the active navigation\n  let pendingNavigationController: AbortController | null;\n\n  // We use this to avoid touching history in completeNavigation if a\n  // revalidation is entirely uninterrupted\n  let isUninterruptedRevalidation = false;\n\n  // Use this internal flag to force revalidation of all loaders:\n  //  - submissions (completed or interrupted)\n  //  - useRevalidate()\n  //  - X-Remix-Revalidate (from redirect)\n  let isRevalidationRequired = false;\n\n  // Use this internal array to capture routes that require revalidation due\n  // to a cancelled deferred on action submission\n  let cancelledDeferredRoutes: string[] = [];\n\n  // Use this internal array to capture fetcher loads that were cancelled by an\n  // action navigation and require revalidation\n  let cancelledFetcherLoads: string[] = [];\n\n  // AbortControllers for any in-flight fetchers\n  let fetchControllers = new Map<string, AbortController>();\n\n  // Track loads based on the order in which they started\n  let incrementingLoadId = 0;\n\n  // Track the outstanding pending navigation data load to be compared against\n  // the globally incrementing load when a fetcher load lands after a completed\n  // navigation\n  let pendingNavigationLoadId = -1;\n\n  // Fetchers that triggered data reloads as a result of their actions\n  let fetchReloadIds = new Map<string, number>();\n\n  // Fetchers that triggered redirect navigations from their actions\n  let fetchRedirectIds = new Set<string>();\n\n  // Most recent href/match for fetcher.load calls for fetchers\n  let fetchLoadMatches = new Map<string, FetchLoadMatch>();\n\n  // Store DeferredData instances for active route matches.  When a\n  // route loader returns defer() we stick one in here.  Then, when a nested\n  // promise resolves we update loaderData.  If a new navigation starts we\n  // cancel active deferreds for eliminated routes.\n  let activeDeferreds = new Map<string, DeferredData>();\n\n  // Store blocker functions in a separate Map outside of router state since\n  // we don't need to update UI state if they change\n  let blockerFunctions = new Map<string, BlockerFunction>();\n\n  // Flag to ignore the next history update, so we can revert the URL change on\n  // a POP navigation that was blocked by the user without touching router state\n  let ignoreNextHistoryUpdate = false;\n\n  // Initialize the router, all side effects should be kicked off from here.\n  // Implemented as a Fluent API for ease of:\n  //   let router = createRouter(init).initialize();\n  function initialize() {\n    // If history informs us of a POP navigation, start the navigation but do not update\n    // state.  We'll update our own state once the navigation completes\n    unlistenHistory = init.history.listen(\n      ({ action: historyAction, location, delta }) => {\n        // Ignore this event if it was just us resetting the URL from a\n        // blocked POP navigation\n        if (ignoreNextHistoryUpdate) {\n          ignoreNextHistoryUpdate = false;\n          return;\n        }\n\n        warning(\n          blockerFunctions.size === 0 || delta != null,\n          \"You are trying to use a blocker on a POP navigation to a location \" +\n            \"that was not created by @remix-run/router. This will fail silently in \" +\n            \"production. This can happen if you are navigating outside the router \" +\n            \"via `window.history.pushState`/`window.location.hash` instead of using \" +\n            \"router navigation APIs.  This can also happen if you are using \" +\n            \"createHashRouter and the user manually changes the URL.\"\n        );\n\n        let blockerKey = shouldBlockNavigation({\n          currentLocation: state.location,\n          nextLocation: location,\n          historyAction,\n        });\n\n        if (blockerKey && delta != null) {\n          // Restore the URL to match the current UI, but don't update router state\n          ignoreNextHistoryUpdate = true;\n          init.history.go(delta * -1);\n\n          // Put the blocker into a blocked state\n          updateBlocker(blockerKey, {\n            state: \"blocked\",\n            location,\n            proceed() {\n              updateBlocker(blockerKey!, {\n                state: \"proceeding\",\n                proceed: undefined,\n                reset: undefined,\n                location,\n              });\n              // Re-do the same POP navigation we just blocked\n              init.history.go(delta);\n            },\n            reset() {\n              deleteBlocker(blockerKey!);\n              updateState({ blockers: new Map(router.state.blockers) });\n            },\n          });\n          return;\n        }\n\n        return startNavigation(historyAction, location);\n      }\n    );\n\n    // Kick off initial data load if needed.  Use Pop to avoid modifying history\n    if (!state.initialized) {\n      startNavigation(HistoryAction.Pop, state.location);\n    }\n\n    return router;\n  }\n\n  // Clean up a router and it's side effects\n  function dispose() {\n    if (unlistenHistory) {\n      unlistenHistory();\n    }\n    subscribers.clear();\n    pendingNavigationController && pendingNavigationController.abort();\n    state.fetchers.forEach((_, key) => deleteFetcher(key));\n    state.blockers.forEach((_, key) => deleteBlocker(key));\n  }\n\n  // Subscribe to state updates for the router\n  function subscribe(fn: RouterSubscriber) {\n    subscribers.add(fn);\n    return () => subscribers.delete(fn);\n  }\n\n  // Update our state and notify the calling context of the change\n  function updateState(newState: Partial<RouterState>): void {\n    state = {\n      ...state,\n      ...newState,\n    };\n    subscribers.forEach((subscriber) => subscriber(state));\n  }\n\n  // Complete a navigation returning the state.navigation back to the IDLE_NAVIGATION\n  // and setting state.[historyAction/location/matches] to the new route.\n  // - Location is a required param\n  // - Navigation will always be set to IDLE_NAVIGATION\n  // - Can pass any other state in newState\n  function completeNavigation(\n    location: Location,\n    newState: Partial<Omit<RouterState, \"action\" | \"location\" | \"navigation\">>\n  ): void {\n    // Deduce if we're in a loading/actionReload state:\n    // - We have committed actionData in the store\n    // - The current navigation was a mutation submission\n    // - We're past the submitting state and into the loading state\n    // - The location being loaded is not the result of a redirect\n    let isActionReload =\n      state.actionData != null &&\n      state.navigation.formMethod != null &&\n      isMutationMethod(state.navigation.formMethod) &&\n      state.navigation.state === \"loading\" &&\n      location.state?._isRedirect !== true;\n\n    let actionData: RouteData | null;\n    if (newState.actionData) {\n      if (Object.keys(newState.actionData).length > 0) {\n        actionData = newState.actionData;\n      } else {\n        // Empty actionData -> clear prior actionData due to an action error\n        actionData = null;\n      }\n    } else if (isActionReload) {\n      // Keep the current data if we're wrapping up the action reload\n      actionData = state.actionData;\n    } else {\n      // Clear actionData on any other completed navigations\n      actionData = null;\n    }\n\n    // Always preserve any existing loaderData from re-used routes\n    let loaderData = newState.loaderData\n      ? mergeLoaderData(\n          state.loaderData,\n          newState.loaderData,\n          newState.matches || [],\n          newState.errors\n        )\n      : state.loaderData;\n\n    // On a successful navigation we can assume we got through all blockers\n    // so we can start fresh\n    for (let [key] of blockerFunctions) {\n      deleteBlocker(key);\n    }\n\n    // Always respect the user flag.  Otherwise don't reset on mutation\n    // submission navigations unless they redirect\n    let preventScrollReset =\n      pendingPreventScrollReset === true ||\n      (state.navigation.formMethod != null &&\n        isMutationMethod(state.navigation.formMethod) &&\n        location.state?._isRedirect !== true);\n\n    updateState({\n      ...newState, // matches, errors, fetchers go through as-is\n      actionData,\n      loaderData,\n      historyAction: pendingAction,\n      location,\n      initialized: true,\n      navigation: IDLE_NAVIGATION,\n      revalidation: \"idle\",\n      restoreScrollPosition: getSavedScrollPosition(\n        location,\n        newState.matches || state.matches\n      ),\n      preventScrollReset,\n      blockers: new Map(state.blockers),\n    });\n\n    if (isUninterruptedRevalidation) {\n      // If this was an uninterrupted revalidation then do not touch history\n    } else if (pendingAction === HistoryAction.Pop) {\n      // Do nothing for POP - URL has already been updated\n    } else if (pendingAction === HistoryAction.Push) {\n      init.history.push(location, location.state);\n    } else if (pendingAction === HistoryAction.Replace) {\n      init.history.replace(location, location.state);\n    }\n\n    // Reset stateful navigation vars\n    pendingAction = HistoryAction.Pop;\n    pendingPreventScrollReset = false;\n    isUninterruptedRevalidation = false;\n    isRevalidationRequired = false;\n    cancelledDeferredRoutes = [];\n    cancelledFetcherLoads = [];\n  }\n\n  // Trigger a navigation event, which can either be a numerical POP or a PUSH\n  // replace with an optional submission\n  async function navigate(\n    to: number | To,\n    opts?: RouterNavigateOptions\n  ): Promise<void> {\n    if (typeof to === \"number\") {\n      init.history.go(to);\n      return;\n    }\n\n    let { path, submission, error } = normalizeNavigateOptions(to, opts);\n\n    let currentLocation = state.location;\n    let nextLocation = createLocation(state.location, path, opts && opts.state);\n\n    // When using navigate as a PUSH/REPLACE we aren't reading an already-encoded\n    // URL from window.location, so we need to encode it here so the behavior\n    // remains the same as POP and non-data-router usages.  new URL() does all\n    // the same encoding we'd get from a history.pushState/window.location read\n    // without having to touch history\n    nextLocation = {\n      ...nextLocation,\n      ...init.history.encodeLocation(nextLocation),\n    };\n\n    let userReplace = opts && opts.replace != null ? opts.replace : undefined;\n\n    let historyAction = HistoryAction.Push;\n\n    if (userReplace === true) {\n      historyAction = HistoryAction.Replace;\n    } else if (userReplace === false) {\n      // no-op\n    } else if (\n      submission != null &&\n      isMutationMethod(submission.formMethod) &&\n      submission.formAction === state.location.pathname + state.location.search\n    ) {\n      // By default on submissions to the current location we REPLACE so that\n      // users don't have to double-click the back button to get to the prior\n      // location.  If the user redirects to a different location from the\n      // action/loader this will be ignored and the redirect will be a PUSH\n      historyAction = HistoryAction.Replace;\n    }\n\n    let preventScrollReset =\n      opts && \"preventScrollReset\" in opts\n        ? opts.preventScrollReset === true\n        : undefined;\n\n    let blockerKey = shouldBlockNavigation({\n      currentLocation,\n      nextLocation,\n      historyAction,\n    });\n    if (blockerKey) {\n      // Put the blocker into a blocked state\n      updateBlocker(blockerKey, {\n        state: \"blocked\",\n        location: nextLocation,\n        proceed() {\n          updateBlocker(blockerKey!, {\n            state: \"proceeding\",\n            proceed: undefined,\n            reset: undefined,\n            location: nextLocation,\n          });\n          // Send the same navigation through\n          navigate(to, opts);\n        },\n        reset() {\n          deleteBlocker(blockerKey!);\n          updateState({ blockers: new Map(state.blockers) });\n        },\n      });\n      return;\n    }\n\n    return await startNavigation(historyAction, nextLocation, {\n      submission,\n      // Send through the formData serialization error if we have one so we can\n      // render at the right error boundary after we match routes\n      pendingError: error,\n      preventScrollReset,\n      replace: opts && opts.replace,\n    });\n  }\n\n  // Revalidate all current loaders.  If a navigation is in progress or if this\n  // is interrupted by a navigation, allow this to \"succeed\" by calling all\n  // loaders during the next loader round\n  function revalidate() {\n    interruptActiveLoads();\n    updateState({ revalidation: \"loading\" });\n\n    // If we're currently submitting an action, we don't need to start a new\n    // navigation, we'll just let the follow up loader execution call all loaders\n    if (state.navigation.state === \"submitting\") {\n      return;\n    }\n\n    // If we're currently in an idle state, start a new navigation for the current\n    // action/location and mark it as uninterrupted, which will skip the history\n    // update in completeNavigation\n    if (state.navigation.state === \"idle\") {\n      startNavigation(state.historyAction, state.location, {\n        startUninterruptedRevalidation: true,\n      });\n      return;\n    }\n\n    // Otherwise, if we're currently in a loading state, just start a new\n    // navigation to the navigation.location but do not trigger an uninterrupted\n    // revalidation so that history correctly updates once the navigation completes\n    startNavigation(\n      pendingAction || state.historyAction,\n      state.navigation.location,\n      { overrideNavigation: state.navigation }\n    );\n  }\n\n  // Start a navigation to the given action/location.  Can optionally provide a\n  // overrideNavigation which will override the normalLoad in the case of a redirect\n  // navigation\n  async function startNavigation(\n    historyAction: HistoryAction,\n    location: Location,\n    opts?: {\n      submission?: Submission;\n      overrideNavigation?: Navigation;\n      pendingError?: ErrorResponse;\n      startUninterruptedRevalidation?: boolean;\n      preventScrollReset?: boolean;\n      replace?: boolean;\n    }\n  ): Promise<void> {\n    // Abort any in-progress navigations and start a new one. Unset any ongoing\n    // uninterrupted revalidations unless told otherwise, since we want this\n    // new navigation to update history normally\n    pendingNavigationController && pendingNavigationController.abort();\n    pendingNavigationController = null;\n    pendingAction = historyAction;\n    isUninterruptedRevalidation =\n      (opts && opts.startUninterruptedRevalidation) === true;\n\n    // Save the current scroll position every time we start a new navigation,\n    // and track whether we should reset scroll on completion\n    saveScrollPosition(state.location, state.matches);\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n\n    let loadingNavigation = opts && opts.overrideNavigation;\n    let matches = matchRoutes(dataRoutes, location, init.basename);\n\n    // Short circuit with a 404 on the root error boundary if we match nothing\n    if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } =\n        getShortCircuitMatches(dataRoutes);\n      // Cancel all pending deferred on 404s since we don't keep any routes\n      cancelActiveDeferreds();\n      completeNavigation(location, {\n        matches: notFoundMatches,\n        loaderData: {},\n        errors: {\n          [route.id]: error,\n        },\n      });\n      return;\n    }\n\n    // Short circuit if it's only a hash change and not a mutation submission\n    // For example, on /page#hash and submit a <Form method=\"post\"> which will\n    // default to a navigation to /page\n    if (\n      isHashChangeOnly(state.location, location) &&\n      !(opts && opts.submission && isMutationMethod(opts.submission.formMethod))\n    ) {\n      completeNavigation(location, { matches });\n      return;\n    }\n\n    // Create a controller/Request for this navigation\n    pendingNavigationController = new AbortController();\n    let request = createClientSideRequest(\n      init.history,\n      location,\n      pendingNavigationController.signal,\n      opts && opts.submission\n    );\n    let pendingActionData: RouteData | undefined;\n    let pendingError: RouteData | undefined;\n\n    if (opts && opts.pendingError) {\n      // If we have a pendingError, it means the user attempted a GET submission\n      // with binary FormData so assign here and skip to handleLoaders.  That\n      // way we handle calling loaders above the boundary etc.  It's not really\n      // different from an actionError in that sense.\n      pendingError = {\n        [findNearestBoundary(matches).route.id]: opts.pendingError,\n      };\n    } else if (\n      opts &&\n      opts.submission &&\n      isMutationMethod(opts.submission.formMethod)\n    ) {\n      // Call action if we received an action submission\n      let actionOutput = await handleAction(\n        request,\n        location,\n        opts.submission,\n        matches,\n        { replace: opts.replace }\n      );\n\n      if (actionOutput.shortCircuited) {\n        return;\n      }\n\n      pendingActionData = actionOutput.pendingActionData;\n      pendingError = actionOutput.pendingActionError;\n\n      let navigation: NavigationStates[\"Loading\"] = {\n        state: \"loading\",\n        location,\n        ...opts.submission,\n      };\n      loadingNavigation = navigation;\n\n      // Create a GET request for the loaders\n      request = new Request(request.url, { signal: request.signal });\n    }\n\n    // Call loaders\n    let { shortCircuited, loaderData, errors } = await handleLoaders(\n      request,\n      location,\n      matches,\n      loadingNavigation,\n      opts && opts.submission,\n      opts && opts.replace,\n      pendingActionData,\n      pendingError\n    );\n\n    if (shortCircuited) {\n      return;\n    }\n\n    // Clean up now that the action/loaders have completed.  Don't clean up if\n    // we short circuited because pendingNavigationController will have already\n    // been assigned to a new controller for the next navigation\n    pendingNavigationController = null;\n\n    completeNavigation(location, {\n      matches,\n      ...(pendingActionData ? { actionData: pendingActionData } : {}),\n      loaderData,\n      errors,\n    });\n  }\n\n  // Call the action matched by the leaf route for this navigation and handle\n  // redirects/errors\n  async function handleAction(\n    request: Request,\n    location: Location,\n    submission: Submission,\n    matches: AgnosticDataRouteMatch[],\n    opts?: { replace?: boolean }\n  ): Promise<HandleActionResult> {\n    interruptActiveLoads();\n\n    // Put us in a submitting state\n    let navigation: NavigationStates[\"Submitting\"] = {\n      state: \"submitting\",\n      location,\n      ...submission,\n    };\n    updateState({ navigation });\n\n    // Call our action and get the result\n    let result: DataResult;\n    let actionMatch = getTargetMatch(matches, location);\n\n    if (!actionMatch.route.action) {\n      result = {\n        type: ResultType.error,\n        error: getInternalRouterError(405, {\n          method: request.method,\n          pathname: location.pathname,\n          routeId: actionMatch.route.id,\n        }),\n      };\n    } else {\n      result = await callLoaderOrAction(\n        \"action\",\n        request,\n        actionMatch,\n        matches,\n        router.basename\n      );\n\n      if (request.signal.aborted) {\n        return { shortCircuited: true };\n      }\n    }\n\n    if (isRedirectResult(result)) {\n      let replace: boolean;\n      if (opts && opts.replace != null) {\n        replace = opts.replace;\n      } else {\n        // If the user didn't explicity indicate replace behavior, replace if\n        // we redirected to the exact same location we're currently at to avoid\n        // double back-buttons\n        replace =\n          result.location === state.location.pathname + state.location.search;\n      }\n      await startRedirectNavigation(state, result, { submission, replace });\n      return { shortCircuited: true };\n    }\n\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n\n      // By default, all submissions are REPLACE navigations, but if the\n      // action threw an error that'll be rendered in an errorElement, we fall\n      // back to PUSH so that the user can use the back button to get back to\n      // the pre-submission form location to try again\n      if ((opts && opts.replace) !== true) {\n        pendingAction = HistoryAction.Push;\n      }\n\n      return {\n        // Send back an empty object we can use to clear out any prior actionData\n        pendingActionData: {},\n        pendingActionError: { [boundaryMatch.route.id]: result.error },\n      };\n    }\n\n    if (isDeferredResult(result)) {\n      throw getInternalRouterError(400, { type: \"defer-action\" });\n    }\n\n    return {\n      pendingActionData: { [actionMatch.route.id]: result.data },\n    };\n  }\n\n  // Call all applicable loaders for the given matches, handling redirects,\n  // errors, etc.\n  async function handleLoaders(\n    request: Request,\n    location: Location,\n    matches: AgnosticDataRouteMatch[],\n    overrideNavigation?: Navigation,\n    submission?: Submission,\n    replace?: boolean,\n    pendingActionData?: RouteData,\n    pendingError?: RouteData\n  ): Promise<HandleLoadersResult> {\n    // Figure out the right navigation we want to use for data loading\n    let loadingNavigation = overrideNavigation;\n    if (!loadingNavigation) {\n      let navigation: NavigationStates[\"Loading\"] = {\n        state: \"loading\",\n        location,\n        formMethod: undefined,\n        formAction: undefined,\n        formEncType: undefined,\n        formData: undefined,\n        ...submission,\n      };\n      loadingNavigation = navigation;\n    }\n\n    // If this was a redirect from an action we don't have a \"submission\" but\n    // we have it on the loading navigation so use that if available\n    let activeSubmission = submission\n      ? submission\n      : loadingNavigation.formMethod &&\n        loadingNavigation.formAction &&\n        loadingNavigation.formData &&\n        loadingNavigation.formEncType\n      ? {\n          formMethod: loadingNavigation.formMethod,\n          formAction: loadingNavigation.formAction,\n          formData: loadingNavigation.formData,\n          formEncType: loadingNavigation.formEncType,\n        }\n      : undefined;\n\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      activeSubmission,\n      location,\n      isRevalidationRequired,\n      cancelledDeferredRoutes,\n      cancelledFetcherLoads,\n      pendingActionData,\n      pendingError,\n      fetchLoadMatches\n    );\n\n    // Cancel pending deferreds for no-longer-matched routes or routes we're\n    // about to reload.  Note that if this is an action reload we would have\n    // already cancelled all pending deferreds so this would be a no-op\n    cancelActiveDeferreds(\n      (routeId) =>\n        !(matches && matches.some((m) => m.route.id === routeId)) ||\n        (matchesToLoad && matchesToLoad.some((m) => m.route.id === routeId))\n    );\n\n    // Short circuit if we have no loaders to run\n    if (matchesToLoad.length === 0 && revalidatingFetchers.length === 0) {\n      completeNavigation(location, {\n        matches,\n        loaderData: {},\n        // Commit pending error if we're short circuiting\n        errors: pendingError || null,\n        ...(pendingActionData ? { actionData: pendingActionData } : {}),\n      });\n      return { shortCircuited: true };\n    }\n\n    // If this is an uninterrupted revalidation, we remain in our current idle\n    // state.  If not, we need to switch to our loading state and load data,\n    // preserving any new action data or existing action data (in the case of\n    // a revalidation interrupting an actionReload)\n    if (!isUninterruptedRevalidation) {\n      revalidatingFetchers.forEach((rf) => {\n        let fetcher = state.fetchers.get(rf.key);\n        let revalidatingFetcher: FetcherStates[\"Loading\"] = {\n          state: \"loading\",\n          data: fetcher && fetcher.data,\n          formMethod: undefined,\n          formAction: undefined,\n          formEncType: undefined,\n          formData: undefined,\n          \" _hasFetcherDoneAnything \": true,\n        };\n        state.fetchers.set(rf.key, revalidatingFetcher);\n      });\n      let actionData = pendingActionData || state.actionData;\n      updateState({\n        navigation: loadingNavigation,\n        ...(actionData\n          ? Object.keys(actionData).length === 0\n            ? { actionData: null }\n            : { actionData }\n          : {}),\n        ...(revalidatingFetchers.length > 0\n          ? { fetchers: new Map(state.fetchers) }\n          : {}),\n      });\n    }\n\n    pendingNavigationLoadId = ++incrementingLoadId;\n    revalidatingFetchers.forEach((rf) =>\n      fetchControllers.set(rf.key, pendingNavigationController!)\n    );\n\n    let { results, loaderResults, fetcherResults } =\n      await callLoadersAndMaybeResolveData(\n        state.matches,\n        matches,\n        matchesToLoad,\n        revalidatingFetchers,\n        request\n      );\n\n    if (request.signal.aborted) {\n      return { shortCircuited: true };\n    }\n\n    // Clean up _after_ loaders have completed.  Don't clean up if we short\n    // circuited because fetchControllers would have been aborted and\n    // reassigned to new controllers for the next navigation\n    revalidatingFetchers.forEach((rf) => fetchControllers.delete(rf.key));\n\n    // If any loaders returned a redirect Response, start a new REPLACE navigation\n    let redirect = findRedirect(results);\n    if (redirect) {\n      await startRedirectNavigation(state, redirect, { replace });\n      return { shortCircuited: true };\n    }\n\n    // Process and commit output from loaders\n    let { loaderData, errors } = processLoaderData(\n      state,\n      matches,\n      matchesToLoad,\n      loaderResults,\n      pendingError,\n      revalidatingFetchers,\n      fetcherResults,\n      activeDeferreds\n    );\n\n    // Wire up subscribers to update loaderData as promises settle\n    activeDeferreds.forEach((deferredData, routeId) => {\n      deferredData.subscribe((aborted) => {\n        // Note: No need to updateState here since the TrackedPromise on\n        // loaderData is stable across resolve/reject\n        // Remove this instance if we were aborted or if promises have settled\n        if (aborted || deferredData.done) {\n          activeDeferreds.delete(routeId);\n        }\n      });\n    });\n\n    markFetchRedirectsDone();\n    let didAbortFetchLoads = abortStaleFetchLoads(pendingNavigationLoadId);\n\n    return {\n      loaderData,\n      errors,\n      ...(didAbortFetchLoads || revalidatingFetchers.length > 0\n        ? { fetchers: new Map(state.fetchers) }\n        : {}),\n    };\n  }\n\n  function getFetcher<TData = any>(key: string): Fetcher<TData> {\n    return state.fetchers.get(key) || IDLE_FETCHER;\n  }\n\n  // Trigger a fetcher load/submit for the given fetcher key\n  function fetch(\n    key: string,\n    routeId: string,\n    href: string,\n    opts?: RouterFetchOptions\n  ) {\n    if (isServer) {\n      throw new Error(\n        \"router.fetch() was called during the server render, but it shouldn't be. \" +\n          \"You are likely calling a useFetcher() method in the body of your component. \" +\n          \"Try moving it to a useEffect or a callback.\"\n      );\n    }\n\n    if (fetchControllers.has(key)) abortFetcher(key);\n\n    let matches = matchRoutes(dataRoutes, href, init.basename);\n    if (!matches) {\n      setFetcherError(\n        key,\n        routeId,\n        getInternalRouterError(404, { pathname: href })\n      );\n      return;\n    }\n\n    let { path, submission } = normalizeNavigateOptions(href, opts, true);\n    let match = getTargetMatch(matches, path);\n\n    pendingPreventScrollReset = (opts && opts.preventScrollReset) === true;\n\n    if (submission && isMutationMethod(submission.formMethod)) {\n      handleFetcherAction(key, routeId, path, match, matches, submission);\n      return;\n    }\n\n    // Store off the match so we can call it's shouldRevalidate on subsequent\n    // revalidations\n    fetchLoadMatches.set(key, { routeId, path, match, matches });\n    handleFetcherLoader(key, routeId, path, match, matches, submission);\n  }\n\n  // Call the action for the matched fetcher.submit(), and then handle redirects,\n  // errors, and revalidation\n  async function handleFetcherAction(\n    key: string,\n    routeId: string,\n    path: string,\n    match: AgnosticDataRouteMatch,\n    requestMatches: AgnosticDataRouteMatch[],\n    submission: Submission\n  ) {\n    interruptActiveLoads();\n    fetchLoadMatches.delete(key);\n\n    if (!match.route.action) {\n      let error = getInternalRouterError(405, {\n        method: submission.formMethod,\n        pathname: path,\n        routeId: routeId,\n      });\n      setFetcherError(key, routeId, error);\n      return;\n    }\n\n    // Put this fetcher into it's submitting state\n    let existingFetcher = state.fetchers.get(key);\n    let fetcher: FetcherStates[\"Submitting\"] = {\n      state: \"submitting\",\n      ...submission,\n      data: existingFetcher && existingFetcher.data,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    state.fetchers.set(key, fetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    // Call the action for the fetcher\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal,\n      submission\n    );\n    fetchControllers.set(key, abortController);\n\n    let actionResult = await callLoaderOrAction(\n      \"action\",\n      fetchRequest,\n      match,\n      requestMatches,\n      router.basename\n    );\n\n    if (fetchRequest.signal.aborted) {\n      // We can delete this so long as we weren't aborted by ou our own fetcher\n      // re-submit which would have put _new_ controller is in fetchControllers\n      if (fetchControllers.get(key) === abortController) {\n        fetchControllers.delete(key);\n      }\n      return;\n    }\n\n    if (isRedirectResult(actionResult)) {\n      fetchControllers.delete(key);\n      fetchRedirectIds.add(key);\n      let loadingFetcher: FetcherStates[\"Loading\"] = {\n        state: \"loading\",\n        ...submission,\n        data: undefined,\n        \" _hasFetcherDoneAnything \": true,\n      };\n      state.fetchers.set(key, loadingFetcher);\n      updateState({ fetchers: new Map(state.fetchers) });\n\n      return startRedirectNavigation(state, actionResult, {\n        isFetchActionRedirect: true,\n      });\n    }\n\n    // Process any non-redirect errors thrown\n    if (isErrorResult(actionResult)) {\n      setFetcherError(key, routeId, actionResult.error);\n      return;\n    }\n\n    if (isDeferredResult(actionResult)) {\n      throw getInternalRouterError(400, { type: \"defer-action\" });\n    }\n\n    // Start the data load for current matches, or the next location if we're\n    // in the middle of a navigation\n    let nextLocation = state.navigation.location || state.location;\n    let revalidationRequest = createClientSideRequest(\n      init.history,\n\n      nextLocation,\n      abortController.signal\n    );\n    let matches =\n      state.navigation.state !== \"idle\"\n        ? matchRoutes(dataRoutes, state.navigation.location, init.basename)\n        : state.matches;\n\n    invariant(matches, \"Didn't find any matches after fetcher action\");\n\n    let loadId = ++incrementingLoadId;\n    fetchReloadIds.set(key, loadId);\n\n    let loadFetcher: FetcherStates[\"Loading\"] = {\n      state: \"loading\",\n      data: actionResult.data,\n      ...submission,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    state.fetchers.set(key, loadFetcher);\n\n    let [matchesToLoad, revalidatingFetchers] = getMatchesToLoad(\n      init.history,\n      state,\n      matches,\n      submission,\n      nextLocation,\n      isRevalidationRequired,\n      cancelledDeferredRoutes,\n      cancelledFetcherLoads,\n      { [match.route.id]: actionResult.data },\n      undefined, // No need to send through errors since we short circuit above\n      fetchLoadMatches\n    );\n\n    // Put all revalidating fetchers into the loading state, except for the\n    // current fetcher which we want to keep in it's current loading state which\n    // contains it's action submission info + action data\n    revalidatingFetchers\n      .filter((rf) => rf.key !== key)\n      .forEach((rf) => {\n        let staleKey = rf.key;\n        let existingFetcher = state.fetchers.get(staleKey);\n        let revalidatingFetcher: FetcherStates[\"Loading\"] = {\n          state: \"loading\",\n          data: existingFetcher && existingFetcher.data,\n          formMethod: undefined,\n          formAction: undefined,\n          formEncType: undefined,\n          formData: undefined,\n          \" _hasFetcherDoneAnything \": true,\n        };\n        state.fetchers.set(staleKey, revalidatingFetcher);\n        fetchControllers.set(staleKey, abortController);\n      });\n\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    let { results, loaderResults, fetcherResults } =\n      await callLoadersAndMaybeResolveData(\n        state.matches,\n        matches,\n        matchesToLoad,\n        revalidatingFetchers,\n        revalidationRequest\n      );\n\n    if (abortController.signal.aborted) {\n      return;\n    }\n\n    fetchReloadIds.delete(key);\n    fetchControllers.delete(key);\n    revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key));\n\n    let redirect = findRedirect(results);\n    if (redirect) {\n      return startRedirectNavigation(state, redirect);\n    }\n\n    // Process and commit output from loaders\n    let { loaderData, errors } = processLoaderData(\n      state,\n      state.matches,\n      matchesToLoad,\n      loaderResults,\n      undefined,\n      revalidatingFetchers,\n      fetcherResults,\n      activeDeferreds\n    );\n\n    let doneFetcher: FetcherStates[\"Idle\"] = {\n      state: \"idle\",\n      data: actionResult.data,\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    state.fetchers.set(key, doneFetcher);\n\n    let didAbortFetchLoads = abortStaleFetchLoads(loadId);\n\n    // If we are currently in a navigation loading state and this fetcher is\n    // more recent than the navigation, we want the newer data so abort the\n    // navigation and complete it with the fetcher data\n    if (\n      state.navigation.state === \"loading\" &&\n      loadId > pendingNavigationLoadId\n    ) {\n      invariant(pendingAction, \"Expected pending action\");\n      pendingNavigationController && pendingNavigationController.abort();\n\n      completeNavigation(state.navigation.location, {\n        matches,\n        loaderData,\n        errors,\n        fetchers: new Map(state.fetchers),\n      });\n    } else {\n      // otherwise just update with the fetcher data, preserving any existing\n      // loaderData for loaders that did not need to reload.  We have to\n      // manually merge here since we aren't going through completeNavigation\n      updateState({\n        errors,\n        loaderData: mergeLoaderData(\n          state.loaderData,\n          loaderData,\n          matches,\n          errors\n        ),\n        ...(didAbortFetchLoads ? { fetchers: new Map(state.fetchers) } : {}),\n      });\n      isRevalidationRequired = false;\n    }\n  }\n\n  // Call the matched loader for fetcher.load(), handling redirects, errors, etc.\n  async function handleFetcherLoader(\n    key: string,\n    routeId: string,\n    path: string,\n    match: AgnosticDataRouteMatch,\n    matches: AgnosticDataRouteMatch[],\n    submission?: Submission\n  ) {\n    let existingFetcher = state.fetchers.get(key);\n    // Put this fetcher into it's loading state\n    let loadingFetcher: FetcherStates[\"Loading\"] = {\n      state: \"loading\",\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      ...submission,\n      data: existingFetcher && existingFetcher.data,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    state.fetchers.set(key, loadingFetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n\n    // Call the loader for this fetcher route match\n    let abortController = new AbortController();\n    let fetchRequest = createClientSideRequest(\n      init.history,\n      path,\n      abortController.signal\n    );\n    fetchControllers.set(key, abortController);\n    let result: DataResult = await callLoaderOrAction(\n      \"loader\",\n      fetchRequest,\n      match,\n      matches,\n      router.basename\n    );\n\n    // Deferred isn't supported for fetcher loads, await everything and treat it\n    // as a normal load.  resolveDeferredData will return undefined if this\n    // fetcher gets aborted, so we just leave result untouched and short circuit\n    // below if that happens\n    if (isDeferredResult(result)) {\n      result =\n        (await resolveDeferredData(result, fetchRequest.signal, true)) ||\n        result;\n    }\n\n    // We can delete this so long as we weren't aborted by ou our own fetcher\n    // re-load which would have put _new_ controller is in fetchControllers\n    if (fetchControllers.get(key) === abortController) {\n      fetchControllers.delete(key);\n    }\n\n    if (fetchRequest.signal.aborted) {\n      return;\n    }\n\n    // If the loader threw a redirect Response, start a new REPLACE navigation\n    if (isRedirectResult(result)) {\n      await startRedirectNavigation(state, result);\n      return;\n    }\n\n    // Process any non-redirect errors thrown\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, routeId);\n      state.fetchers.delete(key);\n      // TODO: In remix, this would reset to IDLE_NAVIGATION if it was a catch -\n      // do we need to behave any differently with our non-redirect errors?\n      // What if it was a non-redirect Response?\n      updateState({\n        fetchers: new Map(state.fetchers),\n        errors: {\n          [boundaryMatch.route.id]: result.error,\n        },\n      });\n      return;\n    }\n\n    invariant(!isDeferredResult(result), \"Unhandled fetcher deferred data\");\n\n    // Put the fetcher back into an idle state\n    let doneFetcher: FetcherStates[\"Idle\"] = {\n      state: \"idle\",\n      data: result.data,\n      formMethod: undefined,\n      formAction: undefined,\n      formEncType: undefined,\n      formData: undefined,\n      \" _hasFetcherDoneAnything \": true,\n    };\n    state.fetchers.set(key, doneFetcher);\n    updateState({ fetchers: new Map(state.fetchers) });\n  }\n\n  /**\n   * Utility function to handle redirects returned from an action or loader.\n   * Normally, a redirect \"replaces\" the navigation that triggered it.  So, for\n   * example:\n   *\n   *  - user is on /a\n   *  - user clicks a link to /b\n   *  - loader for /b redirects to /c\n   *\n   * In a non-JS app the browser would track the in-flight navigation to /b and\n   * then replace it with /c when it encountered the redirect response.  In\n   * the end it would only ever update the URL bar with /c.\n   *\n   * In client-side routing using pushState/replaceState, we aim to emulate\n   * this behavior and we also do not update history until the end of the\n   * navigation (including processed redirects).  This means that we never\n   * actually touch history until we've processed redirects, so we just use\n   * the history action from the original navigation (PUSH or REPLACE).\n   */\n  async function startRedirectNavigation(\n    state: RouterState,\n    redirect: RedirectResult,\n    {\n      submission,\n      replace,\n      isFetchActionRedirect,\n    }: {\n      submission?: Submission;\n      replace?: boolean;\n      isFetchActionRedirect?: boolean;\n    } = {}\n  ) {\n    if (redirect.revalidate) {\n      isRevalidationRequired = true;\n    }\n\n    let redirectLocation = createLocation(\n      state.location,\n      redirect.location,\n      // TODO: This can be removed once we get rid of useTransition in Remix v2\n      {\n        _isRedirect: true,\n        ...(isFetchActionRedirect ? { _isFetchActionRedirect: true } : {}),\n      }\n    );\n    invariant(\n      redirectLocation,\n      \"Expected a location on the redirect navigation\"\n    );\n\n    // Check if this an absolute external redirect that goes to a new origin\n    if (\n      ABSOLUTE_URL_REGEX.test(redirect.location) &&\n      isBrowser &&\n      typeof window?.location !== \"undefined\"\n    ) {\n      let newOrigin = init.history.createURL(redirect.location).origin;\n      if (window.location.origin !== newOrigin) {\n        if (replace) {\n          window.location.replace(redirect.location);\n        } else {\n          window.location.assign(redirect.location);\n        }\n        return;\n      }\n    }\n\n    // There's no need to abort on redirects, since we don't detect the\n    // redirect until the action/loaders have settled\n    pendingNavigationController = null;\n\n    let redirectHistoryAction =\n      replace === true ? HistoryAction.Replace : HistoryAction.Push;\n\n    // Use the incoming submission if provided, fallback on the active one in\n    // state.navigation\n    let { formMethod, formAction, formEncType, formData } = state.navigation;\n    if (!submission && formMethod && formAction && formData && formEncType) {\n      submission = {\n        formMethod,\n        formAction,\n        formEncType,\n        formData,\n      };\n    }\n\n    // If this was a 307/308 submission we want to preserve the HTTP method and\n    // re-submit the GET/POST/PUT/PATCH/DELETE as a submission navigation to the\n    // redirected location\n    if (\n      redirectPreserveMethodStatusCodes.has(redirect.status) &&\n      submission &&\n      isMutationMethod(submission.formMethod)\n    ) {\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        submission: {\n          ...submission,\n          formAction: redirect.location,\n        },\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    } else {\n      // Otherwise, we kick off a new loading navigation, preserving the\n      // submission info for the duration of this navigation\n      await startNavigation(redirectHistoryAction, redirectLocation, {\n        overrideNavigation: {\n          state: \"loading\",\n          location: redirectLocation,\n          formMethod: submission ? submission.formMethod : undefined,\n          formAction: submission ? submission.formAction : undefined,\n          formEncType: submission ? submission.formEncType : undefined,\n          formData: submission ? submission.formData : undefined,\n        },\n        // Preserve this flag across redirects\n        preventScrollReset: pendingPreventScrollReset,\n      });\n    }\n  }\n\n  async function callLoadersAndMaybeResolveData(\n    currentMatches: AgnosticDataRouteMatch[],\n    matches: AgnosticDataRouteMatch[],\n    matchesToLoad: AgnosticDataRouteMatch[],\n    fetchersToLoad: RevalidatingFetcher[],\n    request: Request\n  ) {\n    // Call all navigation loaders and revalidating fetcher loaders in parallel,\n    // then slice off the results into separate arrays so we can handle them\n    // accordingly\n    let results = await Promise.all([\n      ...matchesToLoad.map((match) =>\n        callLoaderOrAction(\"loader\", request, match, matches, router.basename)\n      ),\n      ...fetchersToLoad.map((f) =>\n        callLoaderOrAction(\n          \"loader\",\n          createClientSideRequest(init.history, f.path, request.signal),\n          f.match,\n          f.matches,\n          router.basename\n        )\n      ),\n    ]);\n    let loaderResults = results.slice(0, matchesToLoad.length);\n    let fetcherResults = results.slice(matchesToLoad.length);\n\n    await Promise.all([\n      resolveDeferredResults(\n        currentMatches,\n        matchesToLoad,\n        loaderResults,\n        request.signal,\n        false,\n        state.loaderData\n      ),\n      resolveDeferredResults(\n        currentMatches,\n        fetchersToLoad.map((f) => f.match),\n        fetcherResults,\n        request.signal,\n        true\n      ),\n    ]);\n\n    return { results, loaderResults, fetcherResults };\n  }\n\n  function interruptActiveLoads() {\n    // Every interruption triggers a revalidation\n    isRevalidationRequired = true;\n\n    // Cancel pending route-level deferreds and mark cancelled routes for\n    // revalidation\n    cancelledDeferredRoutes.push(...cancelActiveDeferreds());\n\n    // Abort in-flight fetcher loads\n    fetchLoadMatches.forEach((_, key) => {\n      if (fetchControllers.has(key)) {\n        cancelledFetcherLoads.push(key);\n        abortFetcher(key);\n      }\n    });\n  }\n\n  function setFetcherError(key: string, routeId: string, error: any) {\n    let boundaryMatch = findNearestBoundary(state.matches, routeId);\n    deleteFetcher(key);\n    updateState({\n      errors: {\n        [boundaryMatch.route.id]: error,\n      },\n      fetchers: new Map(state.fetchers),\n    });\n  }\n\n  function deleteFetcher(key: string): void {\n    if (fetchControllers.has(key)) abortFetcher(key);\n    fetchLoadMatches.delete(key);\n    fetchReloadIds.delete(key);\n    fetchRedirectIds.delete(key);\n    state.fetchers.delete(key);\n  }\n\n  function abortFetcher(key: string) {\n    let controller = fetchControllers.get(key);\n    invariant(controller, `Expected fetch controller: ${key}`);\n    controller.abort();\n    fetchControllers.delete(key);\n  }\n\n  function markFetchersDone(keys: string[]) {\n    for (let key of keys) {\n      let fetcher = getFetcher(key);\n      let doneFetcher: FetcherStates[\"Idle\"] = {\n        state: \"idle\",\n        data: fetcher.data,\n        formMethod: undefined,\n        formAction: undefined,\n        formEncType: undefined,\n        formData: undefined,\n        \" _hasFetcherDoneAnything \": true,\n      };\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n\n  function markFetchRedirectsDone(): void {\n    let doneKeys = [];\n    for (let key of fetchRedirectIds) {\n      let fetcher = state.fetchers.get(key);\n      invariant(fetcher, `Expected fetcher: ${key}`);\n      if (fetcher.state === \"loading\") {\n        fetchRedirectIds.delete(key);\n        doneKeys.push(key);\n      }\n    }\n    markFetchersDone(doneKeys);\n  }\n\n  function abortStaleFetchLoads(landedId: number): boolean {\n    let yeetedKeys = [];\n    for (let [key, id] of fetchReloadIds) {\n      if (id < landedId) {\n        let fetcher = state.fetchers.get(key);\n        invariant(fetcher, `Expected fetcher: ${key}`);\n        if (fetcher.state === \"loading\") {\n          abortFetcher(key);\n          fetchReloadIds.delete(key);\n          yeetedKeys.push(key);\n        }\n      }\n    }\n    markFetchersDone(yeetedKeys);\n    return yeetedKeys.length > 0;\n  }\n\n  function getBlocker(key: string, fn: BlockerFunction) {\n    let blocker: Blocker = state.blockers.get(key) || IDLE_BLOCKER;\n\n    if (blockerFunctions.get(key) !== fn) {\n      blockerFunctions.set(key, fn);\n    }\n\n    return blocker;\n  }\n\n  function deleteBlocker(key: string) {\n    state.blockers.delete(key);\n    blockerFunctions.delete(key);\n  }\n\n  // Utility function to update blockers, ensuring valid state transitions\n  function updateBlocker(key: string, newBlocker: Blocker) {\n    let blocker = state.blockers.get(key) || IDLE_BLOCKER;\n\n    // Poor mans state machine :)\n    // https://mermaid.live/edit#pako:eNqVkc9OwzAMxl8l8nnjAYrEtDIOHEBIgwvKJTReGy3_lDpIqO27k6awMG0XcrLlnz87nwdonESogKXXBuE79rq75XZO3-yHds0RJVuv70YrPlUrCEe2HfrORS3rubqZfuhtpg5C9wk5tZ4VKcRUq88q9Z8RS0-48cE1iHJkL0ugbHuFLus9L6spZy8nX9MP2CNdomVaposqu3fGayT8T8-jJQwhepo_UtpgBQaDEUom04dZhAN1aJBDlUKJBxE1ceB2Smj0Mln-IBW5AFU2dwUiktt_2Qaq2dBfaKdEup85UV7Yd-dKjlnkabl2Pvr0DTkTreM\n    invariant(\n      (blocker.state === \"unblocked\" && newBlocker.state === \"blocked\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"blocked\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"proceeding\") ||\n        (blocker.state === \"blocked\" && newBlocker.state === \"unblocked\") ||\n        (blocker.state === \"proceeding\" && newBlocker.state === \"unblocked\"),\n      `Invalid blocker state transition: ${blocker.state} -> ${newBlocker.state}`\n    );\n\n    state.blockers.set(key, newBlocker);\n    updateState({ blockers: new Map(state.blockers) });\n  }\n\n  function shouldBlockNavigation({\n    currentLocation,\n    nextLocation,\n    historyAction,\n  }: {\n    currentLocation: Location;\n    nextLocation: Location;\n    historyAction: HistoryAction;\n  }): string | undefined {\n    if (blockerFunctions.size === 0) {\n      return;\n    }\n\n    // We ony support a single active blocker at the moment since we don't have\n    // any compelling use cases for multi-blocker yet\n    if (blockerFunctions.size > 1) {\n      warning(false, \"A router only supports one blocker at a time\");\n    }\n\n    let entries = Array.from(blockerFunctions.entries());\n    let [blockerKey, blockerFunction] = entries[entries.length - 1];\n    let blocker = state.blockers.get(blockerKey);\n\n    if (blocker && blocker.state === \"proceeding\") {\n      // If the blocker is currently proceeding, we don't need to re-check\n      // it and can let this navigation continue\n      return;\n    }\n\n    // At this point, we know we're unblocked/blocked so we need to check the\n    // user-provided blocker function\n    if (blockerFunction({ currentLocation, nextLocation, historyAction })) {\n      return blockerKey;\n    }\n  }\n\n  function cancelActiveDeferreds(\n    predicate?: (routeId: string) => boolean\n  ): string[] {\n    let cancelledRouteIds: string[] = [];\n    activeDeferreds.forEach((dfd, routeId) => {\n      if (!predicate || predicate(routeId)) {\n        // Cancel the deferred - but do not remove from activeDeferreds here -\n        // we rely on the subscribers to do that so our tests can assert proper\n        // cleanup via _internalActiveDeferreds\n        dfd.cancel();\n        cancelledRouteIds.push(routeId);\n        activeDeferreds.delete(routeId);\n      }\n    });\n    return cancelledRouteIds;\n  }\n\n  // Opt in to capturing and reporting scroll positions during navigations,\n  // used by the <ScrollRestoration> component\n  function enableScrollRestoration(\n    positions: Record<string, number>,\n    getPosition: GetScrollPositionFunction,\n    getKey?: GetScrollRestorationKeyFunction\n  ) {\n    savedScrollPositions = positions;\n    getScrollPosition = getPosition;\n    getScrollRestorationKey = getKey || ((location) => location.key);\n\n    // Perform initial hydration scroll restoration, since we miss the boat on\n    // the initial updateState() because we've not yet rendered <ScrollRestoration/>\n    // and therefore have no savedScrollPositions available\n    if (!initialScrollRestored && state.navigation === IDLE_NAVIGATION) {\n      initialScrollRestored = true;\n      let y = getSavedScrollPosition(state.location, state.matches);\n      if (y != null) {\n        updateState({ restoreScrollPosition: y });\n      }\n    }\n\n    return () => {\n      savedScrollPositions = null;\n      getScrollPosition = null;\n      getScrollRestorationKey = null;\n    };\n  }\n\n  function saveScrollPosition(\n    location: Location,\n    matches: AgnosticDataRouteMatch[]\n  ): void {\n    if (savedScrollPositions && getScrollRestorationKey && getScrollPosition) {\n      let userMatches = matches.map((m) =>\n        createUseMatchesMatch(m, state.loaderData)\n      );\n      let key = getScrollRestorationKey(location, userMatches) || location.key;\n      savedScrollPositions[key] = getScrollPosition();\n    }\n  }\n\n  function getSavedScrollPosition(\n    location: Location,\n    matches: AgnosticDataRouteMatch[]\n  ): number | null {\n    if (savedScrollPositions && getScrollRestorationKey && getScrollPosition) {\n      let userMatches = matches.map((m) =>\n        createUseMatchesMatch(m, state.loaderData)\n      );\n      let key = getScrollRestorationKey(location, userMatches) || location.key;\n      let y = savedScrollPositions[key];\n      if (typeof y === \"number\") {\n        return y;\n      }\n    }\n    return null;\n  }\n\n  router = {\n    get basename() {\n      return init.basename;\n    },\n    get state() {\n      return state;\n    },\n    get routes() {\n      return dataRoutes;\n    },\n    initialize,\n    subscribe,\n    enableScrollRestoration,\n    navigate,\n    fetch,\n    revalidate,\n    // Passthrough to history-aware createHref used by useHref so we get proper\n    // hash-aware URLs in DOM paths\n    createHref: (to: To) => init.history.createHref(to),\n    encodeLocation: (to: To) => init.history.encodeLocation(to),\n    getFetcher,\n    deleteFetcher,\n    dispose,\n    getBlocker,\n    deleteBlocker,\n    _internalFetchControllers: fetchControllers,\n    _internalActiveDeferreds: activeDeferreds,\n  };\n\n  return router;\n}\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region createStaticHandler\n////////////////////////////////////////////////////////////////////////////////\n\nexport const UNSAFE_DEFERRED_SYMBOL = Symbol(\"deferred\");\n\nexport function createStaticHandler(\n  routes: AgnosticRouteObject[],\n  opts?: {\n    basename?: string;\n  }\n): StaticHandler {\n  invariant(\n    routes.length > 0,\n    \"You must provide a non-empty routes array to createStaticHandler\"\n  );\n\n  let dataRoutes = convertRoutesToDataRoutes(routes);\n  let basename = (opts ? opts.basename : null) || \"/\";\n\n  /**\n   * The query() method is intended for document requests, in which we want to\n   * call an optional action and potentially multiple loaders for all nested\n   * routes.  It returns a StaticHandlerContext object, which is very similar\n   * to the router state (location, loaderData, actionData, errors, etc.) and\n   * also adds SSR-specific information such as the statusCode and headers\n   * from action/loaders Responses.\n   *\n   * It _should_ never throw and should report all errors through the\n   * returned context.errors object, properly associating errors to their error\n   * boundary.  Additionally, it tracks _deepestRenderedBoundaryId which can be\n   * used to emulate React error boundaries during SSr by performing a second\n   * pass only down to the boundaryId.\n   *\n   * The one exception where we do not return a StaticHandlerContext is when a\n   * redirect response is returned or thrown from any action/loader.  We\n   * propagate that out and return the raw Response so the HTTP server can\n   * return it directly.\n   */\n  async function query(\n    request: Request,\n    { requestContext }: { requestContext?: unknown } = {}\n  ): Promise<StaticHandlerContext | Response> {\n    let url = new URL(request.url);\n    let method = request.method.toLowerCase();\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"head\") {\n      let error = getInternalRouterError(405, { method });\n      let { matches: methodNotAllowedMatches, route } =\n        getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: methodNotAllowedMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error,\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    } else if (!matches) {\n      let error = getInternalRouterError(404, { pathname: location.pathname });\n      let { matches: notFoundMatches, route } =\n        getShortCircuitMatches(dataRoutes);\n      return {\n        basename,\n        location,\n        matches: notFoundMatches,\n        loaderData: {},\n        actionData: null,\n        errors: {\n          [route.id]: error,\n        },\n        statusCode: error.status,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    let result = await queryImpl(request, location, matches, requestContext);\n    if (isResponse(result)) {\n      return result;\n    }\n\n    // When returning StaticHandlerContext, we patch back in the location here\n    // since we need it for React Context.  But this helps keep our submit and\n    // loadRouteData operating on a Request instead of a Location\n    return { location, basename, ...result };\n  }\n\n  /**\n   * The queryRoute() method is intended for targeted route requests, either\n   * for fetch ?_data requests or resource route requests.  In this case, we\n   * are only ever calling a single action or loader, and we are returning the\n   * returned value directly.  In most cases, this will be a Response returned\n   * from the action/loader, but it may be a primitive or other value as well -\n   * and in such cases the calling context should handle that accordingly.\n   *\n   * We do respect the throw/return differentiation, so if an action/loader\n   * throws, then this method will throw the value.  This is important so we\n   * can do proper boundary identification in Remix where a thrown Response\n   * must go to the Catch Boundary but a returned Response is happy-path.\n   *\n   * One thing to note is that any Router-initiated Errors that make sense\n   * to associate with a status code will be thrown as an ErrorResponse\n   * instance which include the raw Error, such that the calling context can\n   * serialize the error as they see fit while including the proper response\n   * code.  Examples here are 404 and 405 errors that occur prior to reaching\n   * any user-defined loaders.\n   */\n  async function queryRoute(\n    request: Request,\n    {\n      routeId,\n      requestContext,\n    }: { requestContext?: unknown; routeId?: string } = {}\n  ): Promise<any> {\n    let url = new URL(request.url);\n    let method = request.method.toLowerCase();\n    let location = createLocation(\"\", createPath(url), null, \"default\");\n    let matches = matchRoutes(dataRoutes, location, basename);\n\n    // SSR supports HEAD requests while SPA doesn't\n    if (!isValidMethod(method) && method !== \"head\" && method !== \"options\") {\n      throw getInternalRouterError(405, { method });\n    } else if (!matches) {\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n\n    let match = routeId\n      ? matches.find((m) => m.route.id === routeId)\n      : getTargetMatch(matches, location);\n\n    if (routeId && !match) {\n      throw getInternalRouterError(403, {\n        pathname: location.pathname,\n        routeId,\n      });\n    } else if (!match) {\n      // This should never hit I don't think?\n      throw getInternalRouterError(404, { pathname: location.pathname });\n    }\n\n    let result = await queryImpl(\n      request,\n      location,\n      matches,\n      requestContext,\n      match\n    );\n    if (isResponse(result)) {\n      return result;\n    }\n\n    let error = result.errors ? Object.values(result.errors)[0] : undefined;\n    if (error !== undefined) {\n      // If we got back result.errors, that means the loader/action threw\n      // _something_ that wasn't a Response, but it's not guaranteed/required\n      // to be an `instanceof Error` either, so we have to use throw here to\n      // preserve the \"error\" state outside of queryImpl.\n      throw error;\n    }\n\n    // Pick off the right state value to return\n    if (result.actionData) {\n      return Object.values(result.actionData)[0];\n    }\n\n    if (result.loaderData) {\n      let data = Object.values(result.loaderData)[0];\n      if (result.activeDeferreds?.[match.route.id]) {\n        data[UNSAFE_DEFERRED_SYMBOL] = result.activeDeferreds[match.route.id];\n      }\n      return data;\n    }\n\n    return undefined;\n  }\n\n  async function queryImpl(\n    request: Request,\n    location: Location,\n    matches: AgnosticDataRouteMatch[],\n    requestContext: unknown,\n    routeMatch?: AgnosticDataRouteMatch\n  ): Promise<Omit<StaticHandlerContext, \"location\" | \"basename\"> | Response> {\n    invariant(\n      request.signal,\n      \"query()/queryRoute() requests must contain an AbortController signal\"\n    );\n\n    try {\n      if (isMutationMethod(request.method.toLowerCase())) {\n        let result = await submit(\n          request,\n          matches,\n          routeMatch || getTargetMatch(matches, location),\n          requestContext,\n          routeMatch != null\n        );\n        return result;\n      }\n\n      let result = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        routeMatch\n      );\n      return isResponse(result)\n        ? result\n        : {\n            ...result,\n            actionData: null,\n            actionHeaders: {},\n          };\n    } catch (e) {\n      // If the user threw/returned a Response in callLoaderOrAction, we throw\n      // it to bail out and then return or throw here based on whether the user\n      // returned or threw\n      if (isQueryRouteResponse(e)) {\n        if (e.type === ResultType.error && !isRedirectResponse(e.response)) {\n          throw e.response;\n        }\n        return e.response;\n      }\n      // Redirects are always returned since they don't propagate to catch\n      // boundaries\n      if (isRedirectResponse(e)) {\n        return e;\n      }\n      throw e;\n    }\n  }\n\n  async function submit(\n    request: Request,\n    matches: AgnosticDataRouteMatch[],\n    actionMatch: AgnosticDataRouteMatch,\n    requestContext: unknown,\n    isRouteRequest: boolean\n  ): Promise<Omit<StaticHandlerContext, \"location\" | \"basename\"> | Response> {\n    let result: DataResult;\n\n    if (!actionMatch.route.action) {\n      let error = getInternalRouterError(405, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: actionMatch.route.id,\n      });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error,\n      };\n    } else {\n      result = await callLoaderOrAction(\n        \"action\",\n        request,\n        actionMatch,\n        matches,\n        basename,\n        true,\n        isRouteRequest,\n        requestContext\n      );\n\n      if (request.signal.aborted) {\n        let method = isRouteRequest ? \"queryRoute\" : \"query\";\n        throw new Error(`${method}() call aborted`);\n      }\n    }\n\n    if (isRedirectResult(result)) {\n      // Uhhhh - this should never happen, we should always throw these from\n      // callLoaderOrAction, but the type narrowing here keeps TS happy and we\n      // can get back on the \"throw all redirect responses\" train here should\n      // this ever happen :/\n      throw new Response(null, {\n        status: result.status,\n        headers: {\n          Location: result.location,\n        },\n      });\n    }\n\n    if (isDeferredResult(result)) {\n      let error = getInternalRouterError(400, { type: \"defer-action\" });\n      if (isRouteRequest) {\n        throw error;\n      }\n      result = {\n        type: ResultType.error,\n        error,\n      };\n    }\n\n    if (isRouteRequest) {\n      // Note: This should only be non-Response values if we get here, since\n      // isRouteRequest should throw any Response received in callLoaderOrAction\n      if (isErrorResult(result)) {\n        throw result.error;\n      }\n\n      return {\n        matches: [actionMatch],\n        loaderData: {},\n        actionData: { [actionMatch.route.id]: result.data },\n        errors: null,\n        // Note: statusCode + headers are unused here since queryRoute will\n        // return the raw Response or value\n        statusCode: 200,\n        loaderHeaders: {},\n        actionHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    if (isErrorResult(result)) {\n      // Store off the pending error - we use it to determine which loaders\n      // to call and will commit it when we complete the navigation\n      let boundaryMatch = findNearestBoundary(matches, actionMatch.route.id);\n      let context = await loadRouteData(\n        request,\n        matches,\n        requestContext,\n        undefined,\n        {\n          [boundaryMatch.route.id]: result.error,\n        }\n      );\n\n      // action status codes take precedence over loader status codes\n      return {\n        ...context,\n        statusCode: isRouteErrorResponse(result.error)\n          ? result.error.status\n          : 500,\n        actionData: null,\n        actionHeaders: {\n          ...(result.headers ? { [actionMatch.route.id]: result.headers } : {}),\n        },\n      };\n    }\n\n    // Create a GET request for the loaders\n    let loaderRequest = new Request(request.url, {\n      headers: request.headers,\n      redirect: request.redirect,\n      signal: request.signal,\n    });\n    let context = await loadRouteData(loaderRequest, matches, requestContext);\n\n    return {\n      ...context,\n      // action status codes take precedence over loader status codes\n      ...(result.statusCode ? { statusCode: result.statusCode } : {}),\n      actionData: {\n        [actionMatch.route.id]: result.data,\n      },\n      actionHeaders: {\n        ...(result.headers ? { [actionMatch.route.id]: result.headers } : {}),\n      },\n    };\n  }\n\n  async function loadRouteData(\n    request: Request,\n    matches: AgnosticDataRouteMatch[],\n    requestContext: unknown,\n    routeMatch?: AgnosticDataRouteMatch,\n    pendingActionError?: RouteData\n  ): Promise<\n    | Omit<\n        StaticHandlerContext,\n        \"location\" | \"basename\" | \"actionData\" | \"actionHeaders\"\n      >\n    | Response\n  > {\n    let isRouteRequest = routeMatch != null;\n\n    // Short circuit if we have no loaders to run (queryRoute())\n    if (isRouteRequest && !routeMatch?.route.loader) {\n      throw getInternalRouterError(400, {\n        method: request.method,\n        pathname: new URL(request.url).pathname,\n        routeId: routeMatch?.route.id,\n      });\n    }\n\n    let requestMatches = routeMatch\n      ? [routeMatch]\n      : getLoaderMatchesUntilBoundary(\n          matches,\n          Object.keys(pendingActionError || {})[0]\n        );\n    let matchesToLoad = requestMatches.filter((m) => m.route.loader);\n\n    // Short circuit if we have no loaders to run (query())\n    if (matchesToLoad.length === 0) {\n      return {\n        matches,\n        // Add a null for all matched routes for proper revalidation on the client\n        loaderData: matches.reduce(\n          (acc, m) => Object.assign(acc, { [m.route.id]: null }),\n          {}\n        ),\n        errors: pendingActionError || null,\n        statusCode: 200,\n        loaderHeaders: {},\n        activeDeferreds: null,\n      };\n    }\n\n    let results = await Promise.all([\n      ...matchesToLoad.map((match) =>\n        callLoaderOrAction(\n          \"loader\",\n          request,\n          match,\n          matches,\n          basename,\n          true,\n          isRouteRequest,\n          requestContext\n        )\n      ),\n    ]);\n\n    if (request.signal.aborted) {\n      let method = isRouteRequest ? \"queryRoute\" : \"query\";\n      throw new Error(`${method}() call aborted`);\n    }\n\n    // Process and commit output from loaders\n    let activeDeferreds = new Map<string, DeferredData>();\n    let context = processRouteLoaderData(\n      matches,\n      matchesToLoad,\n      results,\n      pendingActionError,\n      activeDeferreds\n    );\n\n    // Add a null for any non-loader matches for proper revalidation on the client\n    let executedLoaders = new Set<string>(\n      matchesToLoad.map((match) => match.route.id)\n    );\n    matches.forEach((match) => {\n      if (!executedLoaders.has(match.route.id)) {\n        context.loaderData[match.route.id] = null;\n      }\n    });\n\n    return {\n      ...context,\n      matches,\n      activeDeferreds:\n        activeDeferreds.size > 0\n          ? Object.fromEntries(activeDeferreds.entries())\n          : null,\n    };\n  }\n\n  return {\n    dataRoutes,\n    query,\n    queryRoute,\n  };\n}\n\n//#endregion\n\n////////////////////////////////////////////////////////////////////////////////\n//#region Helpers\n////////////////////////////////////////////////////////////////////////////////\n\n/**\n * Given an existing StaticHandlerContext and an error thrown at render time,\n * provide an updated StaticHandlerContext suitable for a second SSR render\n */\nexport function getStaticContextFromError(\n  routes: AgnosticDataRouteObject[],\n  context: StaticHandlerContext,\n  error: any\n) {\n  let newContext: StaticHandlerContext = {\n    ...context,\n    statusCode: 500,\n    errors: {\n      [context._deepestRenderedBoundaryId || routes[0].id]: error,\n    },\n  };\n  return newContext;\n}\n\nfunction isSubmissionNavigation(\n  opts: RouterNavigateOptions\n): opts is SubmissionNavigateOptions {\n  return opts != null && \"formData\" in opts;\n}\n\n// Normalize navigation options by converting formMethod=GET formData objects to\n// URLSearchParams so they behave identically to links with query params\nfunction normalizeNavigateOptions(\n  to: To,\n  opts?: RouterNavigateOptions,\n  isFetcher = false\n): {\n  path: string;\n  submission?: Submission;\n  error?: ErrorResponse;\n} {\n  let path = typeof to === \"string\" ? to : createPath(to);\n\n  // Return location verbatim on non-submission navigations\n  if (!opts || !isSubmissionNavigation(opts)) {\n    return { path };\n  }\n\n  if (opts.formMethod && !isValidMethod(opts.formMethod)) {\n    return {\n      path,\n      error: getInternalRouterError(405, { method: opts.formMethod }),\n    };\n  }\n\n  // Create a Submission on non-GET navigations\n  let submission: Submission | undefined;\n  if (opts.formData) {\n    submission = {\n      formMethod: opts.formMethod || \"get\",\n      formAction: stripHashFromPath(path),\n      formEncType:\n        (opts && opts.formEncType) || \"application/x-www-form-urlencoded\",\n      formData: opts.formData,\n    };\n\n    if (isMutationMethod(submission.formMethod)) {\n      return { path, submission };\n    }\n  }\n\n  // Flatten submission onto URLSearchParams for GET submissions\n  let parsedPath = parsePath(path);\n  let searchParams = convertFormDataToSearchParams(opts.formData);\n  // Since fetcher GET submissions only run a single loader (as opposed to\n  // navigation GET submissions which run all loaders), we need to preserve\n  // any incoming ?index params\n  if (isFetcher && parsedPath.search && hasNakedIndexQuery(parsedPath.search)) {\n    searchParams.append(\"index\", \"\");\n  }\n  parsedPath.search = `?${searchParams}`;\n\n  return { path: createPath(parsedPath), submission };\n}\n\n// Filter out all routes below any caught error as they aren't going to\n// render so we don't need to load them\nfunction getLoaderMatchesUntilBoundary(\n  matches: AgnosticDataRouteMatch[],\n  boundaryId?: string\n) {\n  let boundaryMatches = matches;\n  if (boundaryId) {\n    let index = matches.findIndex((m) => m.route.id === boundaryId);\n    if (index >= 0) {\n      boundaryMatches = matches.slice(0, index);\n    }\n  }\n  return boundaryMatches;\n}\n\nfunction getMatchesToLoad(\n  history: History,\n  state: RouterState,\n  matches: AgnosticDataRouteMatch[],\n  submission: Submission | undefined,\n  location: Location,\n  isRevalidationRequired: boolean,\n  cancelledDeferredRoutes: string[],\n  cancelledFetcherLoads: string[],\n  pendingActionData?: RouteData,\n  pendingError?: RouteData,\n  fetchLoadMatches?: Map<string, FetchLoadMatch>\n): [AgnosticDataRouteMatch[], RevalidatingFetcher[]] {\n  let actionResult = pendingError\n    ? Object.values(pendingError)[0]\n    : pendingActionData\n    ? Object.values(pendingActionData)[0]\n    : undefined;\n\n  let currentUrl = history.createURL(state.location);\n  let nextUrl = history.createURL(location);\n\n  let defaultShouldRevalidate =\n    // Forced revalidation due to submission, useRevalidate, or X-Remix-Revalidate\n    isRevalidationRequired ||\n    // Clicked the same link, resubmitted a GET form\n    currentUrl.toString() === nextUrl.toString() ||\n    // Search params affect all loaders\n    currentUrl.search !== nextUrl.search;\n\n  // Pick navigation matches that are net-new or qualify for revalidation\n  let boundaryId = pendingError ? Object.keys(pendingError)[0] : undefined;\n  let boundaryMatches = getLoaderMatchesUntilBoundary(matches, boundaryId);\n\n  let navigationMatches = boundaryMatches.filter((match, index) => {\n    if (match.route.loader == null) {\n      return false;\n    }\n\n    // Always call the loader on new route instances and pending defer cancellations\n    if (\n      isNewLoader(state.loaderData, state.matches[index], match) ||\n      cancelledDeferredRoutes.some((id) => id === match.route.id)\n    ) {\n      return true;\n    }\n\n    // This is the default implementation for when we revalidate.  If the route\n    // provides it's own implementation, then we give them full control but\n    // provide this value so they can leverage it if needed after they check\n    // their own specific use cases\n    let currentRouteMatch = state.matches[index];\n    let nextRouteMatch = match;\n\n    return shouldRevalidateLoader(match, {\n      currentUrl,\n      currentParams: currentRouteMatch.params,\n      nextUrl,\n      nextParams: nextRouteMatch.params,\n      ...submission,\n      actionResult,\n      defaultShouldRevalidate:\n        defaultShouldRevalidate ||\n        isNewRouteInstance(currentRouteMatch, nextRouteMatch),\n    });\n  });\n\n  // Pick fetcher.loads that need to be revalidated\n  let revalidatingFetchers: RevalidatingFetcher[] = [];\n  fetchLoadMatches &&\n    fetchLoadMatches.forEach((f, key) => {\n      if (!matches.some((m) => m.route.id === f.routeId)) {\n        // This fetcher is not going to be present in the subsequent render so\n        // there's no need to revalidate it\n        return;\n      } else if (cancelledFetcherLoads.includes(key)) {\n        // This fetcher was cancelled from a prior action submission - force reload\n        revalidatingFetchers.push({ key, ...f });\n      } else {\n        // Revalidating fetchers are decoupled from the route matches since they\n        // hit a static href, so they _always_ check shouldRevalidate and the\n        // default is strictly if a revalidation is explicitly required (action\n        // submissions, useRevalidator, X-Remix-Revalidate).\n        let shouldRevalidate = shouldRevalidateLoader(f.match, {\n          currentUrl,\n          currentParams: state.matches[state.matches.length - 1].params,\n          nextUrl,\n          nextParams: matches[matches.length - 1].params,\n          ...submission,\n          actionResult,\n          defaultShouldRevalidate,\n        });\n        if (shouldRevalidate) {\n          revalidatingFetchers.push({ key, ...f });\n        }\n      }\n    });\n\n  return [navigationMatches, revalidatingFetchers];\n}\n\nfunction isNewLoader(\n  currentLoaderData: RouteData,\n  currentMatch: AgnosticDataRouteMatch,\n  match: AgnosticDataRouteMatch\n) {\n  let isNew =\n    // [a] -> [a, b]\n    !currentMatch ||\n    // [a, b] -> [a, c]\n    match.route.id !== currentMatch.route.id;\n\n  // Handle the case that we don't have data for a re-used route, potentially\n  // from a prior error or from a cancelled pending deferred\n  let isMissingData = currentLoaderData[match.route.id] === undefined;\n\n  // Always load if this is a net-new route or we don't yet have data\n  return isNew || isMissingData;\n}\n\nfunction isNewRouteInstance(\n  currentMatch: AgnosticDataRouteMatch,\n  match: AgnosticDataRouteMatch\n) {\n  let currentPath = currentMatch.route.path;\n  return (\n    // param change for this match, /users/123 -> /users/456\n    currentMatch.pathname !== match.pathname ||\n    // splat param changed, which is not present in match.path\n    // e.g. /files/images/avatar.jpg -> files/finances.xls\n    (currentPath != null &&\n      currentPath.endsWith(\"*\") &&\n      currentMatch.params[\"*\"] !== match.params[\"*\"])\n  );\n}\n\nfunction shouldRevalidateLoader(\n  loaderMatch: AgnosticDataRouteMatch,\n  arg: Parameters<ShouldRevalidateFunction>[0]\n) {\n  if (loaderMatch.route.shouldRevalidate) {\n    let routeChoice = loaderMatch.route.shouldRevalidate(arg);\n    if (typeof routeChoice === \"boolean\") {\n      return routeChoice;\n    }\n  }\n\n  return arg.defaultShouldRevalidate;\n}\n\nasync function callLoaderOrAction(\n  type: \"loader\" | \"action\",\n  request: Request,\n  match: AgnosticDataRouteMatch,\n  matches: AgnosticDataRouteMatch[],\n  basename = \"/\",\n  isStaticRequest: boolean = false,\n  isRouteRequest: boolean = false,\n  requestContext?: unknown\n): Promise<DataResult> {\n  let resultType;\n  let result;\n\n  // Setup a promise we can race against so that abort signals short circuit\n  let reject: () => void;\n  let abortPromise = new Promise((_, r) => (reject = r));\n  let onReject = () => reject();\n  request.signal.addEventListener(\"abort\", onReject);\n\n  try {\n    let handler = match.route[type];\n    invariant<Function>(\n      handler,\n      `Could not find the ${type} to run on the \"${match.route.id}\" route`\n    );\n\n    result = await Promise.race([\n      handler({ request, params: match.params, context: requestContext }),\n      abortPromise,\n    ]);\n\n    invariant(\n      result !== undefined,\n      `You defined ${type === \"action\" ? \"an action\" : \"a loader\"} for route ` +\n        `\"${match.route.id}\" but didn't return anything from your \\`${type}\\` ` +\n        `function. Please return a value or \\`null\\`.`\n    );\n  } catch (e) {\n    resultType = ResultType.error;\n    result = e;\n  } finally {\n    request.signal.removeEventListener(\"abort\", onReject);\n  }\n\n  if (isResponse(result)) {\n    let status = result.status;\n\n    // Process redirects\n    if (redirectStatusCodes.has(status)) {\n      let location = result.headers.get(\"Location\");\n      invariant(\n        location,\n        \"Redirects returned/thrown from loaders/actions must have a Location header\"\n      );\n\n      // Support relative routing in internal redirects\n      if (!ABSOLUTE_URL_REGEX.test(location)) {\n        let activeMatches = matches.slice(0, matches.indexOf(match) + 1);\n        let routePathnames = getPathContributingMatches(activeMatches).map(\n          (match) => match.pathnameBase\n        );\n        let resolvedLocation = resolveTo(\n          location,\n          routePathnames,\n          new URL(request.url).pathname\n        );\n        invariant(\n          createPath(resolvedLocation),\n          `Unable to resolve redirect location: ${location}`\n        );\n\n        // Prepend the basename to the redirect location if we have one\n        if (basename) {\n          let path = resolvedLocation.pathname;\n          resolvedLocation.pathname =\n            path === \"/\" ? basename : joinPaths([basename, path]);\n        }\n\n        location = createPath(resolvedLocation);\n      } else if (!isStaticRequest) {\n        // Strip off the protocol+origin for same-origin absolute redirects.\n        // If this is a static reques, we can let it go back to the browser\n        // as-is\n        let currentUrl = new URL(request.url);\n        let url = location.startsWith(\"//\")\n          ? new URL(currentUrl.protocol + location)\n          : new URL(location);\n        if (url.origin === currentUrl.origin) {\n          location = url.pathname + url.search + url.hash;\n        }\n      }\n\n      // Don't process redirects in the router during static requests requests.\n      // Instead, throw the Response and let the server handle it with an HTTP\n      // redirect.  We also update the Location header in place in this flow so\n      // basename and relative routing is taken into account\n      if (isStaticRequest) {\n        result.headers.set(\"Location\", location);\n        throw result;\n      }\n\n      return {\n        type: ResultType.redirect,\n        status,\n        location,\n        revalidate: result.headers.get(\"X-Remix-Revalidate\") !== null,\n      };\n    }\n\n    // For SSR single-route requests, we want to hand Responses back directly\n    // without unwrapping.  We do this with the QueryRouteResponse wrapper\n    // interface so we can know whether it was returned or thrown\n    if (isRouteRequest) {\n      // eslint-disable-next-line no-throw-literal\n      throw {\n        type: resultType || ResultType.data,\n        response: result,\n      };\n    }\n\n    let data: any;\n    let contentType = result.headers.get(\"Content-Type\");\n    // Check between word boundaries instead of startsWith() due to the last\n    // paragraph of https://httpwg.org/specs/rfc9110.html#field.content-type\n    if (contentType && /\\bapplication\\/json\\b/.test(contentType)) {\n      data = await result.json();\n    } else {\n      data = await result.text();\n    }\n\n    if (resultType === ResultType.error) {\n      return {\n        type: resultType,\n        error: new ErrorResponse(status, result.statusText, data),\n        headers: result.headers,\n      };\n    }\n\n    return {\n      type: ResultType.data,\n      data,\n      statusCode: result.status,\n      headers: result.headers,\n    };\n  }\n\n  if (resultType === ResultType.error) {\n    return { type: resultType, error: result };\n  }\n\n  if (result instanceof DeferredData) {\n    return { type: ResultType.deferred, deferredData: result };\n  }\n\n  return { type: ResultType.data, data: result };\n}\n\n// Utility method for creating the Request instances for loaders/actions during\n// client-side navigations and fetches.  During SSR we will always have a\n// Request instance from the static handler (query/queryRoute)\nfunction createClientSideRequest(\n  history: History,\n  location: string | Location,\n  signal: AbortSignal,\n  submission?: Submission\n): Request {\n  let url = history.createURL(stripHashFromPath(location)).toString();\n  let init: RequestInit = { signal };\n\n  if (submission && isMutationMethod(submission.formMethod)) {\n    let { formMethod, formEncType, formData } = submission;\n    init.method = formMethod.toUpperCase();\n    init.body =\n      formEncType === \"application/x-www-form-urlencoded\"\n        ? convertFormDataToSearchParams(formData)\n        : formData;\n  }\n\n  // Content-Type is inferred (https://fetch.spec.whatwg.org/#dom-request)\n  return new Request(url, init);\n}\n\nfunction convertFormDataToSearchParams(formData: FormData): URLSearchParams {\n  let searchParams = new URLSearchParams();\n\n  for (let [key, value] of formData.entries()) {\n    // https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#converting-an-entry-list-to-a-list-of-name-value-pairs\n    searchParams.append(key, value instanceof File ? value.name : value);\n  }\n\n  return searchParams;\n}\n\nfunction processRouteLoaderData(\n  matches: AgnosticDataRouteMatch[],\n  matchesToLoad: AgnosticDataRouteMatch[],\n  results: DataResult[],\n  pendingError: RouteData | undefined,\n  activeDeferreds: Map<string, DeferredData>\n): {\n  loaderData: RouterState[\"loaderData\"];\n  errors: RouterState[\"errors\"] | null;\n  statusCode: number;\n  loaderHeaders: Record<string, Headers>;\n} {\n  // Fill in loaderData/errors from our loaders\n  let loaderData: RouterState[\"loaderData\"] = {};\n  let errors: RouterState[\"errors\"] | null = null;\n  let statusCode: number | undefined;\n  let foundError = false;\n  let loaderHeaders: Record<string, Headers> = {};\n\n  // Process loader results into state.loaderData/state.errors\n  results.forEach((result, index) => {\n    let id = matchesToLoad[index].route.id;\n    invariant(\n      !isRedirectResult(result),\n      \"Cannot handle redirect results in processLoaderData\"\n    );\n    if (isErrorResult(result)) {\n      // Look upwards from the matched route for the closest ancestor\n      // error boundary, defaulting to the root match\n      let boundaryMatch = findNearestBoundary(matches, id);\n      let error = result.error;\n      // If we have a pending action error, we report it at the highest-route\n      // that throws a loader error, and then clear it out to indicate that\n      // it was consumed\n      if (pendingError) {\n        error = Object.values(pendingError)[0];\n        pendingError = undefined;\n      }\n\n      errors = errors || {};\n\n      // Prefer higher error values if lower errors bubble to the same boundary\n      if (errors[boundaryMatch.route.id] == null) {\n        errors[boundaryMatch.route.id] = error;\n      }\n\n      // Clear our any prior loaderData for the throwing route\n      loaderData[id] = undefined;\n\n      // Once we find our first (highest) error, we set the status code and\n      // prevent deeper status codes from overriding\n      if (!foundError) {\n        foundError = true;\n        statusCode = isRouteErrorResponse(result.error)\n          ? result.error.status\n          : 500;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    } else {\n      if (isDeferredResult(result)) {\n        activeDeferreds.set(id, result.deferredData);\n        loaderData[id] = result.deferredData.data;\n      } else {\n        loaderData[id] = result.data;\n      }\n\n      // Error status codes always override success status codes, but if all\n      // loaders are successful we take the deepest status code.\n      if (\n        result.statusCode != null &&\n        result.statusCode !== 200 &&\n        !foundError\n      ) {\n        statusCode = result.statusCode;\n      }\n      if (result.headers) {\n        loaderHeaders[id] = result.headers;\n      }\n    }\n  });\n\n  // If we didn't consume the pending action error (i.e., all loaders\n  // resolved), then consume it here.  Also clear out any loaderData for the\n  // throwing route\n  if (pendingError) {\n    errors = pendingError;\n    loaderData[Object.keys(pendingError)[0]] = undefined;\n  }\n\n  return {\n    loaderData,\n    errors,\n    statusCode: statusCode || 200,\n    loaderHeaders,\n  };\n}\n\nfunction processLoaderData(\n  state: RouterState,\n  matches: AgnosticDataRouteMatch[],\n  matchesToLoad: AgnosticDataRouteMatch[],\n  results: DataResult[],\n  pendingError: RouteData | undefined,\n  revalidatingFetchers: RevalidatingFetcher[],\n  fetcherResults: DataResult[],\n  activeDeferreds: Map<string, DeferredData>\n): {\n  loaderData: RouterState[\"loaderData\"];\n  errors?: RouterState[\"errors\"];\n} {\n  let { loaderData, errors } = processRouteLoaderData(\n    matches,\n    matchesToLoad,\n    results,\n    pendingError,\n    activeDeferreds\n  );\n\n  // Process results from our revalidating fetchers\n  for (let index = 0; index < revalidatingFetchers.length; index++) {\n    let { key, match } = revalidatingFetchers[index];\n    invariant(\n      fetcherResults !== undefined && fetcherResults[index] !== undefined,\n      \"Did not find corresponding fetcher result\"\n    );\n    let result = fetcherResults[index];\n\n    // Process fetcher non-redirect errors\n    if (isErrorResult(result)) {\n      let boundaryMatch = findNearestBoundary(state.matches, match.route.id);\n      if (!(errors && errors[boundaryMatch.route.id])) {\n        errors = {\n          ...errors,\n          [boundaryMatch.route.id]: result.error,\n        };\n      }\n      state.fetchers.delete(key);\n    } else if (isRedirectResult(result)) {\n      // Should never get here, redirects should get processed above, but we\n      // keep this to type narrow to a success result in the else\n      invariant(false, \"Unhandled fetcher revalidation redirect\");\n    } else if (isDeferredResult(result)) {\n      // Should never get here, deferred data should be awaited for fetchers\n      // in resolveDeferredResults\n      invariant(false, \"Unhandled fetcher deferred data\");\n    } else {\n      let doneFetcher: FetcherStates[\"Idle\"] = {\n        state: \"idle\",\n        data: result.data,\n        formMethod: undefined,\n        formAction: undefined,\n        formEncType: undefined,\n        formData: undefined,\n        \" _hasFetcherDoneAnything \": true,\n      };\n      state.fetchers.set(key, doneFetcher);\n    }\n  }\n\n  return { loaderData, errors };\n}\n\nfunction mergeLoaderData(\n  loaderData: RouteData,\n  newLoaderData: RouteData,\n  matches: AgnosticDataRouteMatch[],\n  errors: RouteData | null | undefined\n): RouteData {\n  let mergedLoaderData = { ...newLoaderData };\n  for (let match of matches) {\n    let id = match.route.id;\n    if (newLoaderData.hasOwnProperty(id)) {\n      if (newLoaderData[id] !== undefined) {\n        mergedLoaderData[id] = newLoaderData[id];\n      } else {\n        // No-op - this is so we ignore existing data if we have a key in the\n        // incoming object with an undefined value, which is how we unset a prior\n        // loaderData if we encounter a loader error\n      }\n    } else if (loaderData[id] !== undefined) {\n      mergedLoaderData[id] = loaderData[id];\n    }\n\n    if (errors && errors.hasOwnProperty(id)) {\n      // Don't keep any loader data below the boundary\n      break;\n    }\n  }\n  return mergedLoaderData;\n}\n\n// Find the nearest error boundary, looking upwards from the leaf route (or the\n// route specified by routeId) for the closest ancestor error boundary,\n// defaulting to the root match\nfunction findNearestBoundary(\n  matches: AgnosticDataRouteMatch[],\n  routeId?: string\n): AgnosticDataRouteMatch {\n  let eligibleMatches = routeId\n    ? matches.slice(0, matches.findIndex((m) => m.route.id === routeId) + 1)\n    : [...matches];\n  return (\n    eligibleMatches.reverse().find((m) => m.route.hasErrorBoundary === true) ||\n    matches[0]\n  );\n}\n\nfunction getShortCircuitMatches(routes: AgnosticDataRouteObject[]): {\n  matches: AgnosticDataRouteMatch[];\n  route: AgnosticDataRouteObject;\n} {\n  // Prefer a root layout route if present, otherwise shim in a route object\n  let route = routes.find((r) => r.index || !r.path || r.path === \"/\") || {\n    id: `__shim-error-route__`,\n  };\n\n  return {\n    matches: [\n      {\n        params: {},\n        pathname: \"\",\n        pathnameBase: \"\",\n        route,\n      },\n    ],\n    route,\n  };\n}\n\nfunction getInternalRouterError(\n  status: number,\n  {\n    pathname,\n    routeId,\n    method,\n    type,\n  }: {\n    pathname?: string;\n    routeId?: string;\n    method?: string;\n    type?: \"defer-action\";\n  } = {}\n) {\n  let statusText = \"Unknown Server Error\";\n  let errorMessage = \"Unknown @remix-run/router error\";\n\n  if (status === 400) {\n    statusText = \"Bad Request\";\n    if (method && pathname && routeId) {\n      errorMessage =\n        `You made a ${method} request to \"${pathname}\" but ` +\n        `did not provide a \\`loader\\` for route \"${routeId}\", ` +\n        `so there is no way to handle the request.`;\n    } else if (type === \"defer-action\") {\n      errorMessage = \"defer() is not supported in actions\";\n    }\n  } else if (status === 403) {\n    statusText = \"Forbidden\";\n    errorMessage = `Route \"${routeId}\" does not match URL \"${pathname}\"`;\n  } else if (status === 404) {\n    statusText = \"Not Found\";\n    errorMessage = `No route matches URL \"${pathname}\"`;\n  } else if (status === 405) {\n    statusText = \"Method Not Allowed\";\n    if (method && pathname && routeId) {\n      errorMessage =\n        `You made a ${method.toUpperCase()} request to \"${pathname}\" but ` +\n        `did not provide an \\`action\\` for route \"${routeId}\", ` +\n        `so there is no way to handle the request.`;\n    } else if (method) {\n      errorMessage = `Invalid request method \"${method.toUpperCase()}\"`;\n    }\n  }\n\n  return new ErrorResponse(\n    status || 500,\n    statusText,\n    new Error(errorMessage),\n    true\n  );\n}\n\n// Find any returned redirect errors, starting from the lowest match\nfunction findRedirect(results: DataResult[]): RedirectResult | undefined {\n  for (let i = results.length - 1; i >= 0; i--) {\n    let result = results[i];\n    if (isRedirectResult(result)) {\n      return result;\n    }\n  }\n}\n\nfunction stripHashFromPath(path: To) {\n  let parsedPath = typeof path === \"string\" ? parsePath(path) : path;\n  return createPath({ ...parsedPath, hash: \"\" });\n}\n\nfunction isHashChangeOnly(a: Location, b: Location): boolean {\n  return (\n    a.pathname === b.pathname && a.search === b.search && a.hash !== b.hash\n  );\n}\n\nfunction isDeferredResult(result: DataResult): result is DeferredResult {\n  return result.type === ResultType.deferred;\n}\n\nfunction isErrorResult(result: DataResult): result is ErrorResult {\n  return result.type === ResultType.error;\n}\n\nfunction isRedirectResult(result?: DataResult): result is RedirectResult {\n  return (result && result.type) === ResultType.redirect;\n}\n\nfunction isResponse(value: any): value is Response {\n  return (\n    value != null &&\n    typeof value.status === \"number\" &&\n    typeof value.statusText === \"string\" &&\n    typeof value.headers === \"object\" &&\n    typeof value.body !== \"undefined\"\n  );\n}\n\nfunction isRedirectResponse(result: any): result is Response {\n  if (!isResponse(result)) {\n    return false;\n  }\n\n  let status = result.status;\n  let location = result.headers.get(\"Location\");\n  return status >= 300 && status <= 399 && location != null;\n}\n\nfunction isQueryRouteResponse(obj: any): obj is QueryRouteResponse {\n  return (\n    obj &&\n    isResponse(obj.response) &&\n    (obj.type === ResultType.data || ResultType.error)\n  );\n}\n\nfunction isValidMethod(method: string): method is FormMethod {\n  return validRequestMethods.has(method as FormMethod);\n}\n\nfunction isMutationMethod(method?: string): method is MutationFormMethod {\n  return validMutationMethods.has(method as MutationFormMethod);\n}\n\nasync function resolveDeferredResults(\n  currentMatches: AgnosticDataRouteMatch[],\n  matchesToLoad: AgnosticDataRouteMatch[],\n  results: DataResult[],\n  signal: AbortSignal,\n  isFetcher: boolean,\n  currentLoaderData?: RouteData\n) {\n  for (let index = 0; index < results.length; index++) {\n    let result = results[index];\n    let match = matchesToLoad[index];\n    let currentMatch = currentMatches.find(\n      (m) => m.route.id === match.route.id\n    );\n    let isRevalidatingLoader =\n      currentMatch != null &&\n      !isNewRouteInstance(currentMatch, match) &&\n      (currentLoaderData && currentLoaderData[match.route.id]) !== undefined;\n\n    if (isDeferredResult(result) && (isFetcher || isRevalidatingLoader)) {\n      // Note: we do not have to touch activeDeferreds here since we race them\n      // against the signal in resolveDeferredData and they'll get aborted\n      // there if needed\n      await resolveDeferredData(result, signal, isFetcher).then((result) => {\n        if (result) {\n          results[index] = result || results[index];\n        }\n      });\n    }\n  }\n}\n\nasync function resolveDeferredData(\n  result: DeferredResult,\n  signal: AbortSignal,\n  unwrap = false\n): Promise<SuccessResult | ErrorResult | undefined> {\n  let aborted = await result.deferredData.resolveData(signal);\n  if (aborted) {\n    return;\n  }\n\n  if (unwrap) {\n    try {\n      return {\n        type: ResultType.data,\n        data: result.deferredData.unwrappedData,\n      };\n    } catch (e) {\n      // Handle any TrackedPromise._error values encountered while unwrapping\n      return {\n        type: ResultType.error,\n        error: e,\n      };\n    }\n  }\n\n  return {\n    type: ResultType.data,\n    data: result.deferredData.data,\n  };\n}\n\nfunction hasNakedIndexQuery(search: string): boolean {\n  return new URLSearchParams(search).getAll(\"index\").some((v) => v === \"\");\n}\n\n// Note: This should match the format exported by useMatches, so if you change\n// this please also change that :)  Eventually we'll DRY this up\nfunction createUseMatchesMatch(\n  match: AgnosticDataRouteMatch,\n  loaderData: RouteData\n): UseMatchesMatch {\n  let { route, pathname, params } = match;\n  return {\n    id: route.id,\n    pathname,\n    params,\n    data: loaderData[route.id] as unknown,\n    handle: route.handle as unknown,\n  };\n}\n\nfunction getTargetMatch(\n  matches: AgnosticDataRouteMatch[],\n  location: Location | string\n) {\n  let search =\n    typeof location === \"string\" ? parsePath(location).search : location.search;\n  if (\n    matches[matches.length - 1].route.index &&\n    hasNakedIndexQuery(search || \"\")\n  ) {\n    // Return the leaf index route when index is present\n    return matches[matches.length - 1];\n  }\n  // Otherwise grab the deepest \"path contributing\" match (ignoring index and\n  // pathless layout routes)\n  let pathMatches = getPathContributingMatches(matches);\n  return pathMatches[pathMatches.length - 1];\n}\n//#endregion\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport * as React from \"react\";\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction isPolyfill(x: any, y: any) {\n  return (\n    (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y) // eslint-disable-line no-self-compare\n  );\n}\n\nconst is: (x: any, y: any) => boolean =\n  typeof Object.is === \"function\" ? Object.is : isPolyfill;\n\n// Intentionally not using named imports because Rollup uses dynamic\n// dispatch for CommonJS interop named imports.\nconst { useState, useEffect, useLayoutEffect, useDebugValue } = React;\n\nlet didWarnOld18Alpha = false;\nlet didWarnUncachedGetSnapshot = false;\n\n// Disclaimer: This shim breaks many of the rules of React, and only works\n// because of a very particular set of implementation details and assumptions\n// -- change any one of them and it will break. The most important assumption\n// is that updates are always synchronous, because concurrent rendering is\n// only available in versions of React that also have a built-in\n// useSyncExternalStore API. And we only use this shim when the built-in API\n// does not exist.\n//\n// Do not assume that the clever hacks used by this hook also work in general.\n// The point of this shim is to replace the need for hacks by other libraries.\nexport function useSyncExternalStore<T>(\n  subscribe: (fn: () => void) => () => void,\n  getSnapshot: () => T,\n  // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n  // React do not expose a way to check if we're hydrating. So users of the shim\n  // will need to track that themselves and return the correct value\n  // from `getSnapshot`.\n  getServerSnapshot?: () => T\n): T {\n  if (__DEV__) {\n    if (!didWarnOld18Alpha) {\n      if (\"startTransition\" in React) {\n        didWarnOld18Alpha = true;\n        console.error(\n          \"You are using an outdated, pre-release alpha of React 18 that \" +\n            \"does not support useSyncExternalStore. The \" +\n            \"use-sync-external-store shim will not work correctly. Upgrade \" +\n            \"to a newer pre-release.\"\n        );\n      }\n    }\n  }\n\n  // Read the current snapshot from the store on every render. Again, this\n  // breaks the rules of React, and only works here because of specific\n  // implementation details, most importantly that updates are\n  // always synchronous.\n  const value = getSnapshot();\n  if (__DEV__) {\n    if (!didWarnUncachedGetSnapshot) {\n      const cachedValue = getSnapshot();\n      if (!is(value, cachedValue)) {\n        console.error(\n          \"The result of getSnapshot should be cached to avoid an infinite loop\"\n        );\n        didWarnUncachedGetSnapshot = true;\n      }\n    }\n  }\n\n  // Because updates are synchronous, we don't queue them. Instead we force a\n  // re-render whenever the subscribed state changes by updating an some\n  // arbitrary useState hook. Then, during render, we call getSnapshot to read\n  // the current value.\n  //\n  // Because we don't actually use the state returned by the useState hook, we\n  // can save a bit of memory by storing other stuff in that slot.\n  //\n  // To implement the early bailout, we need to track some things on a mutable\n  // object. Usually, we would put that in a useRef hook, but we can stash it in\n  // our useState hook instead.\n  //\n  // To force a re-render, we call forceUpdate({inst}). That works because the\n  // new object always fails an equality check.\n  const [{ inst }, forceUpdate] = useState({ inst: { value, getSnapshot } });\n\n  // Track the latest getSnapshot function with a ref. This needs to be updated\n  // in the layout phase so we can access it during the tearing check that\n  // happens on subscribe.\n  useLayoutEffect(() => {\n    inst.value = value;\n    inst.getSnapshot = getSnapshot;\n\n    // Whenever getSnapshot or subscribe changes, we need to check in the\n    // commit phase if there was an interleaved mutation. In concurrent mode\n    // this can happen all the time, but even in synchronous mode, an earlier\n    // effect may have mutated the store.\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({ inst });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [subscribe, value, getSnapshot]);\n\n  useEffect(() => {\n    // Check for changes right before subscribing. Subsequent changes will be\n    // detected in the subscription handler.\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({ inst });\n    }\n    const handleStoreChange = () => {\n      // TODO: Because there is no cross-renderer API for batching updates, it's\n      // up to the consumer of this library to wrap their subscription event\n      // with unstable_batchedUpdates. Should we try to detect when this isn't\n      // the case and print a warning in development?\n\n      // The store changed. Check if the snapshot changed since the last time we\n      // read from the store.\n      if (checkIfSnapshotChanged(inst)) {\n        // Force a re-render.\n        forceUpdate({ inst });\n      }\n    };\n    // Subscribe to the store and return a clean-up function.\n    return subscribe(handleStoreChange);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [subscribe]);\n\n  useDebugValue(value);\n  return value;\n}\n\nfunction checkIfSnapshotChanged(inst: any) {\n  const latestGetSnapshot = inst.getSnapshot;\n  const prevValue = inst.value;\n  try {\n    const nextValue = latestGetSnapshot();\n    return !is(prevValue, nextValue);\n  } catch (error) {\n    return true;\n  }\n}\n","/**\n * Inlined into the react-router repo since use-sync-external-store does not\n * provide a UMD-compatible package, so we need this to be able to distribute\n * UMD react-router bundles\n */\n\n/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nimport * as React from \"react\";\n\nimport { useSyncExternalStore as client } from \"./useSyncExternalStoreShimClient\";\nimport { useSyncExternalStore as server } from \"./useSyncExternalStoreShimServer\";\n\nconst canUseDOM: boolean = !!(\n  typeof window !== \"undefined\" &&\n  typeof window.document !== \"undefined\" &&\n  typeof window.document.createElement !== \"undefined\"\n);\nconst isServerEnvironment = !canUseDOM;\nconst shim = isServerEnvironment ? server : client;\n\nexport const useSyncExternalStore =\n  \"useSyncExternalStore\" in React\n    ? ((module) => module.useSyncExternalStore)(React)\n    : shim;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @flow\n */\n\nexport function useSyncExternalStore<T>(\n  subscribe: (fn: () => void) => () => void,\n  getSnapshot: () => T,\n  getServerSnapshot?: () => T\n): T {\n  // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n  // React do not expose a way to check if we're hydrating. So users of the shim\n  // will need to track that themselves and return the correct value\n  // from `getSnapshot`.\n  return getSnapshot();\n}\n","import * as React from \"react\";\nimport type {\n  AgnosticRouteMatch,\n  AgnosticIndexRouteObject,\n  AgnosticNonIndexRouteObject,\n  History,\n  Location,\n  Router,\n  StaticHandlerContext,\n  To,\n  TrackedPromise,\n} from \"@remix-run/router\";\nimport type { Action as NavigationType } from \"@remix-run/router\";\n\n// Create react-specific types from the agnostic types in @remix-run/router to\n// export from react-router\nexport interface IndexRouteObject {\n  caseSensitive?: AgnosticIndexRouteObject[\"caseSensitive\"];\n  path?: AgnosticIndexRouteObject[\"path\"];\n  id?: AgnosticIndexRouteObject[\"id\"];\n  loader?: AgnosticIndexRouteObject[\"loader\"];\n  action?: AgnosticIndexRouteObject[\"action\"];\n  hasErrorBoundary?: AgnosticIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: AgnosticIndexRouteObject[\"shouldRevalidate\"];\n  handle?: AgnosticIndexRouteObject[\"handle\"];\n  index: true;\n  children?: undefined;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n}\n\nexport interface NonIndexRouteObject {\n  caseSensitive?: AgnosticNonIndexRouteObject[\"caseSensitive\"];\n  path?: AgnosticNonIndexRouteObject[\"path\"];\n  id?: AgnosticNonIndexRouteObject[\"id\"];\n  loader?: AgnosticNonIndexRouteObject[\"loader\"];\n  action?: AgnosticNonIndexRouteObject[\"action\"];\n  hasErrorBoundary?: AgnosticNonIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: AgnosticNonIndexRouteObject[\"shouldRevalidate\"];\n  handle?: AgnosticNonIndexRouteObject[\"handle\"];\n  index?: false;\n  children?: RouteObject[];\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n}\n\nexport type RouteObject = IndexRouteObject | NonIndexRouteObject;\n\nexport type DataRouteObject = RouteObject & {\n  children?: DataRouteObject[];\n  id: string;\n};\n\nexport interface RouteMatch<\n  ParamKey extends string = string,\n  RouteObjectType extends RouteObject = RouteObject\n> extends AgnosticRouteMatch<ParamKey, RouteObjectType> {}\n\nexport interface DataRouteMatch extends RouteMatch<string, DataRouteObject> {}\n\nexport interface DataRouterContextObject extends NavigationContextObject {\n  router: Router;\n  staticContext?: StaticHandlerContext;\n}\n\nexport const DataRouterContext =\n  React.createContext<DataRouterContextObject | null>(null);\nif (__DEV__) {\n  DataRouterContext.displayName = \"DataRouter\";\n}\n\nexport const DataRouterStateContext = React.createContext<\n  Router[\"state\"] | null\n>(null);\nif (__DEV__) {\n  DataRouterStateContext.displayName = \"DataRouterState\";\n}\n\nexport const AwaitContext = React.createContext<TrackedPromise | null>(null);\nif (__DEV__) {\n  AwaitContext.displayName = \"Await\";\n}\n\nexport type RelativeRoutingType = \"route\" | \"path\";\n\nexport interface NavigateOptions {\n  replace?: boolean;\n  state?: any;\n  preventScrollReset?: boolean;\n  relative?: RelativeRoutingType;\n}\n\n/**\n * A Navigator is a \"location changer\"; it's how you get to different locations.\n *\n * Every history instance conforms to the Navigator interface, but the\n * distinction is useful primarily when it comes to the low-level <Router> API\n * where both the location and a navigator must be provided separately in order\n * to avoid \"tearing\" that may occur in a suspense-enabled app if the action\n * and/or location were to be read directly from the history instance.\n */\nexport interface Navigator {\n  createHref: History[\"createHref\"];\n  // Optional for backwards-compat with Router/HistoryRouter usage (edge case)\n  encodeLocation?: History[\"encodeLocation\"];\n  go: History[\"go\"];\n  push(to: To, state?: any, opts?: NavigateOptions): void;\n  replace(to: To, state?: any, opts?: NavigateOptions): void;\n}\n\ninterface NavigationContextObject {\n  basename: string;\n  navigator: Navigator;\n  static: boolean;\n}\n\nexport const NavigationContext = React.createContext<NavigationContextObject>(\n  null!\n);\n\nif (__DEV__) {\n  NavigationContext.displayName = \"Navigation\";\n}\n\ninterface LocationContextObject {\n  location: Location;\n  navigationType: NavigationType;\n}\n\nexport const LocationContext = React.createContext<LocationContextObject>(\n  null!\n);\n\nif (__DEV__) {\n  LocationContext.displayName = \"Location\";\n}\n\nexport interface RouteContextObject {\n  outlet: React.ReactElement | null;\n  matches: RouteMatch[];\n}\n\nexport const RouteContext = React.createContext<RouteContextObject>({\n  outlet: null,\n  matches: [],\n});\n\nif (__DEV__) {\n  RouteContext.displayName = \"Route\";\n}\n\nexport const RouteErrorContext = React.createContext<any>(null);\n\nif (__DEV__) {\n  RouteErrorContext.displayName = \"RouteError\";\n}\n","import * as React from \"react\";\nimport type {\n  Blocker,\n  BlockerFunction,\n  Location,\n  ParamParseKey,\n  Params,\n  Path,\n  PathMatch,\n  PathPattern,\n  Router as RemixRouter,\n  To,\n} from \"@remix-run/router\";\nimport {\n  Action as NavigationType,\n  invariant,\n  isRouteErrorResponse,\n  joinPaths,\n  matchPath,\n  matchRoutes,\n  parsePath,\n  resolveTo,\n  warning,\n  UNSAFE_getPathContributingMatches as getPathContributingMatches,\n} from \"@remix-run/router\";\n\nimport type {\n  NavigateOptions,\n  RouteContextObject,\n  RouteMatch,\n  RouteObject,\n  DataRouteMatch,\n  RelativeRoutingType,\n} from \"./context\";\nimport {\n  DataRouterContext,\n  DataRouterStateContext,\n  LocationContext,\n  NavigationContext,\n  RouteContext,\n  RouteErrorContext,\n  AwaitContext,\n} from \"./context\";\n\n/**\n * Returns the full href for the given \"to\" value. This is useful for building\n * custom links that are also accessible and preserve right-click behavior.\n *\n * @see https://reactrouter.com/hooks/use-href\n */\nexport function useHref(\n  to: To,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): string {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useHref() may be used only in the context of a <Router> component.`\n  );\n\n  let { basename, navigator } = React.useContext(NavigationContext);\n  let { hash, pathname, search } = useResolvedPath(to, { relative });\n\n  let joinedPathname = pathname;\n\n  // If we're operating within a basename, prepend it to the pathname prior\n  // to creating the href.  If this is a root navigation, then just use the raw\n  // basename which allows the basename to have full control over the presence\n  // of a trailing slash on root links\n  if (basename !== \"/\") {\n    joinedPathname =\n      pathname === \"/\" ? basename : joinPaths([basename, pathname]);\n  }\n\n  return navigator.createHref({ pathname: joinedPathname, search, hash });\n}\n\n/**\n * Returns true if this component is a descendant of a <Router>.\n *\n * @see https://reactrouter.com/hooks/use-in-router-context\n */\nexport function useInRouterContext(): boolean {\n  return React.useContext(LocationContext) != null;\n}\n\n/**\n * Returns the current location object, which represents the current URL in web\n * browsers.\n *\n * Note: If you're using this it may mean you're doing some of your own\n * \"routing\" in your app, and we'd like to know what your use case is. We may\n * be able to provide something higher-level to better suit your needs.\n *\n * @see https://reactrouter.com/hooks/use-location\n */\nexport function useLocation(): Location {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useLocation() may be used only in the context of a <Router> component.`\n  );\n\n  return React.useContext(LocationContext).location;\n}\n\n/**\n * Returns the current navigation action which describes how the router came to\n * the current location, either by a pop, push, or replace on the history stack.\n *\n * @see https://reactrouter.com/hooks/use-navigation-type\n */\nexport function useNavigationType(): NavigationType {\n  return React.useContext(LocationContext).navigationType;\n}\n\n/**\n * Returns a PathMatch object if the given pattern matches the current URL.\n * This is useful for components that need to know \"active\" state, e.g.\n * <NavLink>.\n *\n * @see https://reactrouter.com/hooks/use-match\n */\nexport function useMatch<\n  ParamKey extends ParamParseKey<Path>,\n  Path extends string\n>(pattern: PathPattern<Path> | Path): PathMatch<ParamKey> | null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useMatch() may be used only in the context of a <Router> component.`\n  );\n\n  let { pathname } = useLocation();\n  return React.useMemo(\n    () => matchPath<ParamKey, Path>(pattern, pathname),\n    [pathname, pattern]\n  );\n}\n\n/**\n * The interface for the navigate() function returned from useNavigate().\n */\nexport interface NavigateFunction {\n  (to: To, options?: NavigateOptions): void;\n  (delta: number): void;\n}\n\n/**\n * Returns an imperative method for changing the location. Used by <Link>s, but\n * may also be used by other elements to change the location.\n *\n * @see https://reactrouter.com/hooks/use-navigate\n */\nexport function useNavigate(): NavigateFunction {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useNavigate() may be used only in the context of a <Router> component.`\n  );\n\n  let { basename, navigator } = React.useContext(NavigationContext);\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n\n  let routePathnamesJson = JSON.stringify(\n    getPathContributingMatches(matches).map((match) => match.pathnameBase)\n  );\n\n  let activeRef = React.useRef(false);\n  React.useEffect(() => {\n    activeRef.current = true;\n  });\n\n  let navigate: NavigateFunction = React.useCallback(\n    (to: To | number, options: NavigateOptions = {}) => {\n      warning(\n        activeRef.current,\n        `You should call navigate() in a React.useEffect(), not when ` +\n          `your component is first rendered.`\n      );\n\n      if (!activeRef.current) return;\n\n      if (typeof to === \"number\") {\n        navigator.go(to);\n        return;\n      }\n\n      let path = resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        options.relative === \"path\"\n      );\n\n      // If we're operating within a basename, prepend it to the pathname prior\n      // to handing off to history.  If this is a root navigation, then we\n      // navigate to the raw basename which allows the basename to have full\n      // control over the presence of a trailing slash on root links\n      if (basename !== \"/\") {\n        path.pathname =\n          path.pathname === \"/\"\n            ? basename\n            : joinPaths([basename, path.pathname]);\n      }\n\n      (!!options.replace ? navigator.replace : navigator.push)(\n        path,\n        options.state,\n        options\n      );\n    },\n    [basename, navigator, routePathnamesJson, locationPathname]\n  );\n\n  return navigate;\n}\n\nconst OutletContext = React.createContext<unknown>(null);\n\n/**\n * Returns the context (if provided) for the child route at this level of the route\n * hierarchy.\n * @see https://reactrouter.com/hooks/use-outlet-context\n */\nexport function useOutletContext<Context = unknown>(): Context {\n  return React.useContext(OutletContext) as Context;\n}\n\n/**\n * Returns the element for the child route at this level of the route\n * hierarchy. Used internally by <Outlet> to render child routes.\n *\n * @see https://reactrouter.com/hooks/use-outlet\n */\nexport function useOutlet(context?: unknown): React.ReactElement | null {\n  let outlet = React.useContext(RouteContext).outlet;\n  if (outlet) {\n    return (\n      <OutletContext.Provider value={context}>{outlet}</OutletContext.Provider>\n    );\n  }\n  return outlet;\n}\n\n/**\n * Returns an object of key/value pairs of the dynamic params from the current\n * URL that were matched by the route path.\n *\n * @see https://reactrouter.com/hooks/use-params\n */\nexport function useParams<\n  ParamsOrKey extends string | Record<string, string | undefined> = string\n>(): Readonly<\n  [ParamsOrKey] extends [string] ? Params<ParamsOrKey> : Partial<ParamsOrKey>\n> {\n  let { matches } = React.useContext(RouteContext);\n  let routeMatch = matches[matches.length - 1];\n  return routeMatch ? (routeMatch.params as any) : {};\n}\n\n/**\n * Resolves the pathname of the given `to` value against the current location.\n *\n * @see https://reactrouter.com/hooks/use-resolved-path\n */\nexport function useResolvedPath(\n  to: To,\n  { relative }: { relative?: RelativeRoutingType } = {}\n): Path {\n  let { matches } = React.useContext(RouteContext);\n  let { pathname: locationPathname } = useLocation();\n\n  let routePathnamesJson = JSON.stringify(\n    getPathContributingMatches(matches).map((match) => match.pathnameBase)\n  );\n\n  return React.useMemo(\n    () =>\n      resolveTo(\n        to,\n        JSON.parse(routePathnamesJson),\n        locationPathname,\n        relative === \"path\"\n      ),\n    [to, routePathnamesJson, locationPathname, relative]\n  );\n}\n\n/**\n * Returns the element of the route that matched the current location, prepared\n * with the correct context to render the remainder of the route tree. Route\n * elements in the tree must render an <Outlet> to render their child route's\n * element.\n *\n * @see https://reactrouter.com/hooks/use-routes\n */\nexport function useRoutes(\n  routes: RouteObject[],\n  locationArg?: Partial<Location> | string\n): React.ReactElement | null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of the\n    // router loaded. We can help them understand how to avoid that.\n    `useRoutes() may be used only in the context of a <Router> component.`\n  );\n\n  let { navigator } = React.useContext(NavigationContext);\n  let dataRouterStateContext = React.useContext(DataRouterStateContext);\n  let { matches: parentMatches } = React.useContext(RouteContext);\n  let routeMatch = parentMatches[parentMatches.length - 1];\n  let parentParams = routeMatch ? routeMatch.params : {};\n  let parentPathname = routeMatch ? routeMatch.pathname : \"/\";\n  let parentPathnameBase = routeMatch ? routeMatch.pathnameBase : \"/\";\n  let parentRoute = routeMatch && routeMatch.route;\n\n  if (__DEV__) {\n    // You won't get a warning about 2 different <Routes> under a <Route>\n    // without a trailing *, but this is a best-effort warning anyway since we\n    // cannot even give the warning unless they land at the parent route.\n    //\n    // Example:\n    //\n    // <Routes>\n    //   {/* This route path MUST end with /* because otherwise\n    //       it will never match /blog/post/123 */}\n    //   <Route path=\"blog\" element={<Blog />} />\n    //   <Route path=\"blog/feed\" element={<BlogFeed />} />\n    // </Routes>\n    //\n    // function Blog() {\n    //   return (\n    //     <Routes>\n    //       <Route path=\"post/:id\" element={<Post />} />\n    //     </Routes>\n    //   );\n    // }\n    let parentPath = (parentRoute && parentRoute.path) || \"\";\n    warningOnce(\n      parentPathname,\n      !parentRoute || parentPath.endsWith(\"*\"),\n      `You rendered descendant <Routes> (or called \\`useRoutes()\\`) at ` +\n        `\"${parentPathname}\" (under <Route path=\"${parentPath}\">) but the ` +\n        `parent route path has no trailing \"*\". This means if you navigate ` +\n        `deeper, the parent won't match anymore and therefore the child ` +\n        `routes will never render.\\n\\n` +\n        `Please change the parent <Route path=\"${parentPath}\"> to <Route ` +\n        `path=\"${parentPath === \"/\" ? \"*\" : `${parentPath}/*`}\">.`\n    );\n  }\n\n  let locationFromContext = useLocation();\n\n  let location;\n  if (locationArg) {\n    let parsedLocationArg =\n      typeof locationArg === \"string\" ? parsePath(locationArg) : locationArg;\n\n    invariant(\n      parentPathnameBase === \"/\" ||\n        parsedLocationArg.pathname?.startsWith(parentPathnameBase),\n      `When overriding the location using \\`<Routes location>\\` or \\`useRoutes(routes, location)\\`, ` +\n        `the location pathname must begin with the portion of the URL pathname that was ` +\n        `matched by all parent routes. The current pathname base is \"${parentPathnameBase}\" ` +\n        `but pathname \"${parsedLocationArg.pathname}\" was given in the \\`location\\` prop.`\n    );\n\n    location = parsedLocationArg;\n  } else {\n    location = locationFromContext;\n  }\n\n  let pathname = location.pathname || \"/\";\n  let remainingPathname =\n    parentPathnameBase === \"/\"\n      ? pathname\n      : pathname.slice(parentPathnameBase.length) || \"/\";\n\n  let matches = matchRoutes(routes, { pathname: remainingPathname });\n\n  if (__DEV__) {\n    warning(\n      parentRoute || matches != null,\n      `No routes matched location \"${location.pathname}${location.search}${location.hash}\" `\n    );\n\n    warning(\n      matches == null ||\n        matches[matches.length - 1].route.element !== undefined,\n      `Matched leaf route at location \"${location.pathname}${location.search}${location.hash}\" does not have an element. ` +\n        `This means it will render an <Outlet /> with a null value by default resulting in an \"empty\" page.`\n    );\n  }\n\n  let renderedMatches = _renderMatches(\n    matches &&\n      matches.map((match) =>\n        Object.assign({}, match, {\n          params: Object.assign({}, parentParams, match.params),\n          pathname: joinPaths([\n            parentPathnameBase,\n            // Re-encode pathnames that were decoded inside matchRoutes\n            navigator.encodeLocation\n              ? navigator.encodeLocation(match.pathname).pathname\n              : match.pathname,\n          ]),\n          pathnameBase:\n            match.pathnameBase === \"/\"\n              ? parentPathnameBase\n              : joinPaths([\n                  parentPathnameBase,\n                  // Re-encode pathnames that were decoded inside matchRoutes\n                  navigator.encodeLocation\n                    ? navigator.encodeLocation(match.pathnameBase).pathname\n                    : match.pathnameBase,\n                ]),\n        })\n      ),\n    parentMatches,\n    dataRouterStateContext || undefined\n  );\n\n  // When a user passes in a `locationArg`, the associated routes need to\n  // be wrapped in a new `LocationContext.Provider` in order for `useLocation`\n  // to use the scoped location instead of the global location.\n  if (locationArg && renderedMatches) {\n    return (\n      <LocationContext.Provider\n        value={{\n          location: {\n            pathname: \"/\",\n            search: \"\",\n            hash: \"\",\n            state: null,\n            key: \"default\",\n            ...location,\n          },\n          navigationType: NavigationType.Pop,\n        }}\n      >\n        {renderedMatches}\n      </LocationContext.Provider>\n    );\n  }\n\n  return renderedMatches;\n}\n\nfunction DefaultErrorElement() {\n  let error = useRouteError();\n  let message = isRouteErrorResponse(error)\n    ? `${error.status} ${error.statusText}`\n    : error instanceof Error\n    ? error.message\n    : JSON.stringify(error);\n  let stack = error instanceof Error ? error.stack : null;\n  let lightgrey = \"rgba(200,200,200, 0.5)\";\n  let preStyles = { padding: \"0.5rem\", backgroundColor: lightgrey };\n  let codeStyles = { padding: \"2px 4px\", backgroundColor: lightgrey };\n\n  let devInfo = null;\n  if (__DEV__) {\n    devInfo = (\n      <>\n        <p> Hey developer </p>\n        <p>\n          You can provide a way better UX than this when your app throws errors\n          by providing your own&nbsp;\n          <code style={codeStyles}>errorElement</code> props on&nbsp;\n          <code style={codeStyles}>&lt;Route&gt;</code>\n        </p>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <h2>Unexpected Application Error!</h2>\n      <h3 style={{ fontStyle: \"italic\" }}>{message}</h3>\n      {stack ? <pre style={preStyles}>{stack}</pre> : null}\n      {devInfo}\n    </>\n  );\n}\n\ntype RenderErrorBoundaryProps = React.PropsWithChildren<{\n  location: Location;\n  error: any;\n  component: React.ReactNode;\n  routeContext: RouteContextObject;\n}>;\n\ntype RenderErrorBoundaryState = {\n  location: Location;\n  error: any;\n};\n\nexport class RenderErrorBoundary extends React.Component<\n  RenderErrorBoundaryProps,\n  RenderErrorBoundaryState\n> {\n  constructor(props: RenderErrorBoundaryProps) {\n    super(props);\n    this.state = {\n      location: props.location,\n      error: props.error,\n    };\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { error: error };\n  }\n\n  static getDerivedStateFromProps(\n    props: RenderErrorBoundaryProps,\n    state: RenderErrorBoundaryState\n  ) {\n    // When we get into an error state, the user will likely click \"back\" to the\n    // previous page that didn't have an error. Because this wraps the entire\n    // application, that will have no effect--the error page continues to display.\n    // This gives us a mechanism to recover from the error when the location changes.\n    //\n    // Whether we're in an error state or not, we update the location in state\n    // so that when we are in an error state, it gets reset when a new location\n    // comes in and the user recovers from the error.\n    if (state.location !== props.location) {\n      return {\n        error: props.error,\n        location: props.location,\n      };\n    }\n\n    // If we're not changing locations, preserve the location but still surface\n    // any new errors that may come through. We retain the existing error, we do\n    // this because the error provided from the app state may be cleared without\n    // the location changing.\n    return {\n      error: props.error || state.error,\n      location: state.location,\n    };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(\n      \"React Router caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n\n  render() {\n    return this.state.error ? (\n      <RouteContext.Provider value={this.props.routeContext}>\n        <RouteErrorContext.Provider\n          value={this.state.error}\n          children={this.props.component}\n        />\n      </RouteContext.Provider>\n    ) : (\n      this.props.children\n    );\n  }\n}\n\ninterface RenderedRouteProps {\n  routeContext: RouteContextObject;\n  match: RouteMatch<string, RouteObject>;\n  children: React.ReactNode | null;\n}\n\nfunction RenderedRoute({ routeContext, match, children }: RenderedRouteProps) {\n  let dataRouterContext = React.useContext(DataRouterContext);\n\n  // Track how deep we got in our render pass to emulate SSR componentDidCatch\n  // in a DataStaticRouter\n  if (\n    dataRouterContext &&\n    dataRouterContext.static &&\n    dataRouterContext.staticContext &&\n    match.route.errorElement\n  ) {\n    dataRouterContext.staticContext._deepestRenderedBoundaryId = match.route.id;\n  }\n\n  return (\n    <RouteContext.Provider value={routeContext}>\n      {children}\n    </RouteContext.Provider>\n  );\n}\n\nexport function _renderMatches(\n  matches: RouteMatch[] | null,\n  parentMatches: RouteMatch[] = [],\n  dataRouterState?: RemixRouter[\"state\"]\n): React.ReactElement | null {\n  if (matches == null) {\n    if (dataRouterState?.errors) {\n      // Don't bail if we have data router errors so we can render them in the\n      // boundary.  Use the pre-matched (or shimmed) matches\n      matches = dataRouterState.matches as DataRouteMatch[];\n    } else {\n      return null;\n    }\n  }\n\n  let renderedMatches = matches;\n\n  // If we have data errors, trim matches to the highest error boundary\n  let errors = dataRouterState?.errors;\n  if (errors != null) {\n    let errorIndex = renderedMatches.findIndex(\n      (m) => m.route.id && errors?.[m.route.id]\n    );\n    invariant(\n      errorIndex >= 0,\n      `Could not find a matching route for the current errors: ${errors}`\n    );\n    renderedMatches = renderedMatches.slice(\n      0,\n      Math.min(renderedMatches.length, errorIndex + 1)\n    );\n  }\n\n  return renderedMatches.reduceRight((outlet, match, index) => {\n    let error = match.route.id ? errors?.[match.route.id] : null;\n    // Only data routers handle errors\n    let errorElement = dataRouterState\n      ? match.route.errorElement || <DefaultErrorElement />\n      : null;\n    let matches = parentMatches.concat(renderedMatches.slice(0, index + 1));\n    let getChildren = () => (\n      <RenderedRoute match={match} routeContext={{ outlet, matches }}>\n        {error\n          ? errorElement\n          : match.route.element !== undefined\n          ? match.route.element\n          : outlet}\n      </RenderedRoute>\n    );\n    // Only wrap in an error boundary within data router usages when we have an\n    // errorElement on this route.  Otherwise let it bubble up to an ancestor\n    // errorElement\n    return dataRouterState && (match.route.errorElement || index === 0) ? (\n      <RenderErrorBoundary\n        location={dataRouterState.location}\n        component={errorElement}\n        error={error}\n        children={getChildren()}\n        routeContext={{ outlet: null, matches }}\n      />\n    ) : (\n      getChildren()\n    );\n  }, null as React.ReactElement | null);\n}\n\nenum DataRouterHook {\n  UseBlocker = \"useBlocker\",\n  UseRevalidator = \"useRevalidator\",\n}\n\nenum DataRouterStateHook {\n  UseLoaderData = \"useLoaderData\",\n  UseActionData = \"useActionData\",\n  UseRouteError = \"useRouteError\",\n  UseNavigation = \"useNavigation\",\n  UseRouteLoaderData = \"useRouteLoaderData\",\n  UseMatches = \"useMatches\",\n  UseRevalidator = \"useRevalidator\",\n}\n\nfunction getDataRouterConsoleError(\n  hookName: DataRouterHook | DataRouterStateHook\n) {\n  return `${hookName} must be used within a data router.  See https://reactrouter.com/routers/picking-a-router.`;\n}\n\nfunction useDataRouterContext(hookName: DataRouterHook) {\n  let ctx = React.useContext(DataRouterContext);\n  invariant(ctx, getDataRouterConsoleError(hookName));\n  return ctx;\n}\n\nfunction useDataRouterState(hookName: DataRouterStateHook) {\n  let state = React.useContext(DataRouterStateContext);\n  invariant(state, getDataRouterConsoleError(hookName));\n  return state;\n}\n\nfunction useRouteContext(hookName: DataRouterStateHook) {\n  let route = React.useContext(RouteContext);\n  invariant(route, getDataRouterConsoleError(hookName));\n  return route;\n}\n\nfunction useCurrentRouteId(hookName: DataRouterStateHook) {\n  let route = useRouteContext(hookName);\n  let thisRoute = route.matches[route.matches.length - 1];\n  invariant(\n    thisRoute.route.id,\n    `${hookName} can only be used on routes that contain a unique \"id\"`\n  );\n  return thisRoute.route.id;\n}\n\n/**\n * Returns the current navigation, defaulting to an \"idle\" navigation when\n * no navigation is in progress\n */\nexport function useNavigation() {\n  let state = useDataRouterState(DataRouterStateHook.UseNavigation);\n  return state.navigation;\n}\n\n/**\n * Returns a revalidate function for manually triggering revalidation, as well\n * as the current state of any manual revalidations\n */\nexport function useRevalidator() {\n  let dataRouterContext = useDataRouterContext(DataRouterHook.UseRevalidator);\n  let state = useDataRouterState(DataRouterStateHook.UseRevalidator);\n  return {\n    revalidate: dataRouterContext.router.revalidate,\n    state: state.revalidation,\n  };\n}\n\n/**\n * Returns the active route matches, useful for accessing loaderData for\n * parent/child routes or the route \"handle\" property\n */\nexport function useMatches() {\n  let { matches, loaderData } = useDataRouterState(\n    DataRouterStateHook.UseMatches\n  );\n  return React.useMemo(\n    () =>\n      matches.map((match) => {\n        let { pathname, params } = match;\n        // Note: This structure matches that created by createUseMatchesMatch\n        // in the @remix-run/router , so if you change this please also change\n        // that :)  Eventually we'll DRY this up\n        return {\n          id: match.route.id,\n          pathname,\n          params,\n          data: loaderData[match.route.id] as unknown,\n          handle: match.route.handle as unknown,\n        };\n      }),\n    [matches, loaderData]\n  );\n}\n\n/**\n * Returns the loader data for the nearest ancestor Route loader\n */\nexport function useLoaderData(): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseLoaderData);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseLoaderData);\n\n  if (state.errors && state.errors[routeId] != null) {\n    console.error(\n      `You cannot \\`useLoaderData\\` in an errorElement (routeId: ${routeId})`\n    );\n    return undefined;\n  }\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the loaderData for the given routeId\n */\nexport function useRouteLoaderData(routeId: string): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseRouteLoaderData);\n  return state.loaderData[routeId];\n}\n\n/**\n * Returns the action data for the nearest ancestor Route action\n */\nexport function useActionData(): unknown {\n  let state = useDataRouterState(DataRouterStateHook.UseActionData);\n\n  let route = React.useContext(RouteContext);\n  invariant(route, `useActionData must be used inside a RouteContext`);\n\n  return Object.values(state?.actionData || {})[0];\n}\n\n/**\n * Returns the nearest ancestor Route error, which could be a loader/action\n * error or a render error.  This is intended to be called from your\n * errorElement to display a proper error message.\n */\nexport function useRouteError(): unknown {\n  let error = React.useContext(RouteErrorContext);\n  let state = useDataRouterState(DataRouterStateHook.UseRouteError);\n  let routeId = useCurrentRouteId(DataRouterStateHook.UseRouteError);\n\n  // If this was a render error, we put it in a RouteError context inside\n  // of RenderErrorBoundary\n  if (error) {\n    return error;\n  }\n\n  // Otherwise look for errors from our data router state\n  return state.errors?.[routeId];\n}\n\n/**\n * Returns the happy-path data from the nearest ancestor <Await /> value\n */\nexport function useAsyncValue(): unknown {\n  let value = React.useContext(AwaitContext);\n  return value?._data;\n}\n\n/**\n * Returns the error from the nearest ancestor <Await /> value\n */\nexport function useAsyncError(): unknown {\n  let value = React.useContext(AwaitContext);\n  return value?._error;\n}\n\nlet blockerId = 0;\n\n/**\n * Allow the application to block navigations within the SPA and present the\n * user a confirmation dialog to confirm the navigation.  Mostly used to avoid\n * using half-filled form data.  This does not handle hard-reloads or\n * cross-origin navigations.\n */\nexport function useBlocker(shouldBlock: boolean | BlockerFunction): Blocker {\n  let { router } = useDataRouterContext(DataRouterHook.UseBlocker);\n  let [blockerKey] = React.useState(() => String(++blockerId));\n\n  let blockerFunction = React.useCallback<BlockerFunction>(\n    (args) => {\n      return typeof shouldBlock === \"function\"\n        ? !!shouldBlock(args)\n        : !!shouldBlock;\n    },\n    [shouldBlock]\n  );\n\n  let blocker = router.getBlocker(blockerKey, blockerFunction);\n\n  // Cleanup on unmount\n  React.useEffect(\n    () => () => router.deleteBlocker(blockerKey),\n    [router, blockerKey]\n  );\n\n  return blocker;\n}\n\nconst alreadyWarned: Record<string, boolean> = {};\n\nfunction warningOnce(key: string, cond: boolean, message: string) {\n  if (!cond && !alreadyWarned[key]) {\n    alreadyWarned[key] = true;\n    warning(false, message);\n  }\n}\n","import * as React from \"react\";\nimport type {\n  TrackedPromise,\n  InitialEntry,\n  Location,\n  MemoryHistory,\n  Router as RemixRouter,\n  RouterState,\n  To,\n} from \"@remix-run/router\";\nimport {\n  Action as NavigationType,\n  AbortedDeferredError,\n  createMemoryHistory,\n  invariant,\n  parsePath,\n  stripBasename,\n  warning,\n} from \"@remix-run/router\";\nimport { useSyncExternalStore as useSyncExternalStoreShim } from \"./use-sync-external-store-shim\";\n\nimport type {\n  DataRouteObject,\n  IndexRouteObject,\n  RouteMatch,\n  RouteObject,\n  Navigator,\n  NonIndexRouteObject,\n  RelativeRoutingType,\n} from \"./context\";\nimport {\n  LocationContext,\n  NavigationContext,\n  DataRouterContext,\n  DataRouterStateContext,\n  AwaitContext,\n} from \"./context\";\nimport {\n  useAsyncValue,\n  useInRouterContext,\n  useNavigate,\n  useOutlet,\n  useRoutes,\n  _renderMatches,\n} from \"./hooks\";\n\nexport interface RouterProviderProps {\n  fallbackElement?: React.ReactNode;\n  router: RemixRouter;\n}\n\n/**\n * Given a Remix Router instance, render the appropriate UI\n */\nexport function RouterProvider({\n  fallbackElement,\n  router,\n}: RouterProviderProps): React.ReactElement {\n  // Sync router state to our component state to force re-renders\n  let state: RouterState = useSyncExternalStoreShim(\n    router.subscribe,\n    () => router.state,\n    // We have to provide this so React@18 doesn't complain during hydration,\n    // but we pass our serialized hydration data into the router so state here\n    // is already synced with what the server saw\n    () => router.state\n  );\n\n  let navigator = React.useMemo((): Navigator => {\n    return {\n      createHref: router.createHref,\n      encodeLocation: router.encodeLocation,\n      go: (n) => router.navigate(n),\n      push: (to, state, opts) =>\n        router.navigate(to, {\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n      replace: (to, state, opts) =>\n        router.navigate(to, {\n          replace: true,\n          state,\n          preventScrollReset: opts?.preventScrollReset,\n        }),\n    };\n  }, [router]);\n\n  let basename = router.basename || \"/\";\n\n  // The fragment and {null} here are important!  We need them to keep React 18's\n  // useId happy when we are server-rendering since we may have a <script> here\n  // containing the hydrated server-side staticContext (from StaticRouterProvider).\n  // useId relies on the component tree structure to generate deterministic id's\n  // so we need to ensure it remains the same on the client even though\n  // we don't need the <script> tag\n  return (\n    <>\n      <DataRouterContext.Provider\n        value={{\n          router,\n          navigator,\n          static: false,\n          // Do we need this?\n          basename,\n        }}\n      >\n        <DataRouterStateContext.Provider value={state}>\n          <Router\n            basename={router.basename}\n            location={router.state.location}\n            navigationType={router.state.historyAction}\n            navigator={navigator}\n          >\n            {router.state.initialized ? <Routes /> : fallbackElement}\n          </Router>\n        </DataRouterStateContext.Provider>\n      </DataRouterContext.Provider>\n      {null}\n    </>\n  );\n}\n\nexport interface MemoryRouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  initialEntries?: InitialEntry[];\n  initialIndex?: number;\n}\n\n/**\n * A <Router> that stores all entries in memory.\n *\n * @see https://reactrouter.com/router-components/memory-router\n */\nexport function MemoryRouter({\n  basename,\n  children,\n  initialEntries,\n  initialIndex,\n}: MemoryRouterProps): React.ReactElement {\n  let historyRef = React.useRef<MemoryHistory>();\n  if (historyRef.current == null) {\n    historyRef.current = createMemoryHistory({\n      initialEntries,\n      initialIndex,\n      v5Compat: true,\n    });\n  }\n\n  let history = historyRef.current;\n  let [state, setState] = React.useState({\n    action: history.action,\n    location: history.location,\n  });\n\n  React.useLayoutEffect(() => history.listen(setState), [history]);\n\n  return (\n    <Router\n      basename={basename}\n      children={children}\n      location={state.location}\n      navigationType={state.action}\n      navigator={history}\n    />\n  );\n}\n\nexport interface NavigateProps {\n  to: To;\n  replace?: boolean;\n  state?: any;\n  relative?: RelativeRoutingType;\n}\n\n/**\n * Changes the current location.\n *\n * Note: This API is mostly useful in React.Component subclasses that are not\n * able to use hooks. In functional components, we recommend you use the\n * `useNavigate` hook instead.\n *\n * @see https://reactrouter.com/components/navigate\n */\nexport function Navigate({\n  to,\n  replace,\n  state,\n  relative,\n}: NavigateProps): null {\n  invariant(\n    useInRouterContext(),\n    // TODO: This error is probably because they somehow have 2 versions of\n    // the router loaded. We can help them understand how to avoid that.\n    `<Navigate> may be used only in the context of a <Router> component.`\n  );\n\n  warning(\n    !React.useContext(NavigationContext).static,\n    `<Navigate> must not be used on the initial render in a <StaticRouter>. ` +\n      `This is a no-op, but you should modify your code so the <Navigate> is ` +\n      `only ever rendered in response to some user interaction or state change.`\n  );\n\n  let dataRouterState = React.useContext(DataRouterStateContext);\n  let navigate = useNavigate();\n\n  React.useEffect(() => {\n    // Avoid kicking off multiple navigations if we're in the middle of a\n    // data-router navigation, since components get re-rendered when we enter\n    // a submitting/loading state\n    if (dataRouterState && dataRouterState.navigation.state !== \"idle\") {\n      return;\n    }\n    navigate(to, { replace, state, relative });\n  });\n\n  return null;\n}\n\nexport interface OutletProps {\n  context?: unknown;\n}\n\n/**\n * Renders the child route's element, if there is one.\n *\n * @see https://reactrouter.com/components/outlet\n */\nexport function Outlet(props: OutletProps): React.ReactElement | null {\n  return useOutlet(props.context);\n}\n\nexport interface PathRouteProps {\n  caseSensitive?: NonIndexRouteObject[\"caseSensitive\"];\n  path?: NonIndexRouteObject[\"path\"];\n  id?: NonIndexRouteObject[\"id\"];\n  loader?: NonIndexRouteObject[\"loader\"];\n  action?: NonIndexRouteObject[\"action\"];\n  hasErrorBoundary?: NonIndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: NonIndexRouteObject[\"shouldRevalidate\"];\n  handle?: NonIndexRouteObject[\"handle\"];\n  index?: false;\n  children?: React.ReactNode;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n}\n\nexport interface LayoutRouteProps extends PathRouteProps {}\n\nexport interface IndexRouteProps {\n  caseSensitive?: IndexRouteObject[\"caseSensitive\"];\n  path?: IndexRouteObject[\"path\"];\n  id?: IndexRouteObject[\"id\"];\n  loader?: IndexRouteObject[\"loader\"];\n  action?: IndexRouteObject[\"action\"];\n  hasErrorBoundary?: IndexRouteObject[\"hasErrorBoundary\"];\n  shouldRevalidate?: IndexRouteObject[\"shouldRevalidate\"];\n  handle?: IndexRouteObject[\"handle\"];\n  index: true;\n  children?: undefined;\n  element?: React.ReactNode | null;\n  errorElement?: React.ReactNode | null;\n}\n\nexport type RouteProps = PathRouteProps | LayoutRouteProps | IndexRouteProps;\n\n/**\n * Declares an element that should be rendered at a certain URL path.\n *\n * @see https://reactrouter.com/components/route\n */\nexport function Route(_props: RouteProps): React.ReactElement | null {\n  invariant(\n    false,\n    `A <Route> is only ever to be used as the child of <Routes> element, ` +\n      `never rendered directly. Please wrap your <Route> in a <Routes>.`\n  );\n}\n\nexport interface RouterProps {\n  basename?: string;\n  children?: React.ReactNode;\n  location: Partial<Location> | string;\n  navigationType?: NavigationType;\n  navigator: Navigator;\n  static?: boolean;\n}\n\n/**\n * Provides location context for the rest of the app.\n *\n * Note: You usually won't render a <Router> directly. Instead, you'll render a\n * router that is more specific to your environment such as a <BrowserRouter>\n * in web browsers or a <StaticRouter> for server rendering.\n *\n * @see https://reactrouter.com/router-components/router\n */\nexport function Router({\n  basename: basenameProp = \"/\",\n  children = null,\n  location: locationProp,\n  navigationType = NavigationType.Pop,\n  navigator,\n  static: staticProp = false,\n}: RouterProps): React.ReactElement | null {\n  invariant(\n    !useInRouterContext(),\n    `You cannot render a <Router> inside another <Router>.` +\n      ` You should never have more than one in your app.`\n  );\n\n  // Preserve trailing slashes on basename, so we can let the user control\n  // the enforcement of trailing slashes throughout the app\n  let basename = basenameProp.replace(/^\\/*/, \"/\");\n  let navigationContext = React.useMemo(\n    () => ({ basename, navigator, static: staticProp }),\n    [basename, navigator, staticProp]\n  );\n\n  if (typeof locationProp === \"string\") {\n    locationProp = parsePath(locationProp);\n  }\n\n  let {\n    pathname = \"/\",\n    search = \"\",\n    hash = \"\",\n    state = null,\n    key = \"default\",\n  } = locationProp;\n\n  let location = React.useMemo(() => {\n    let trailingPathname = stripBasename(pathname, basename);\n\n    if (trailingPathname == null) {\n      return null;\n    }\n\n    return {\n      pathname: trailingPathname,\n      search,\n      hash,\n      state,\n      key,\n    };\n  }, [basename, pathname, search, hash, state, key]);\n\n  warning(\n    location != null,\n    `<Router basename=\"${basename}\"> is not able to match the URL ` +\n      `\"${pathname}${search}${hash}\" because it does not start with the ` +\n      `basename, so the <Router> won't render anything.`\n  );\n\n  if (location == null) {\n    return null;\n  }\n\n  return (\n    <NavigationContext.Provider value={navigationContext}>\n      <LocationContext.Provider\n        children={children}\n        value={{ location, navigationType }}\n      />\n    </NavigationContext.Provider>\n  );\n}\n\nexport interface RoutesProps {\n  children?: React.ReactNode;\n  location?: Partial<Location> | string;\n}\n\n/**\n * A container for a nested tree of <Route> elements that renders the branch\n * that best matches the current location.\n *\n * @see https://reactrouter.com/components/routes\n */\nexport function Routes({\n  children,\n  location,\n}: RoutesProps): React.ReactElement | null {\n  let dataRouterContext = React.useContext(DataRouterContext);\n  // When in a DataRouterContext _without_ children, we use the router routes\n  // directly.  If we have children, then we're in a descendant tree and we\n  // need to use child routes.\n  let routes =\n    dataRouterContext && !children\n      ? (dataRouterContext.router.routes as DataRouteObject[])\n      : createRoutesFromChildren(children);\n  return useRoutes(routes, location);\n}\n\nexport interface AwaitResolveRenderFunction {\n  (data: Awaited<any>): React.ReactNode;\n}\n\nexport interface AwaitProps {\n  children: React.ReactNode | AwaitResolveRenderFunction;\n  errorElement?: React.ReactNode;\n  resolve: TrackedPromise | any;\n}\n\n/**\n * Component to use for rendering lazily loaded data from returning defer()\n * in a loader function\n */\nexport function Await({ children, errorElement, resolve }: AwaitProps) {\n  return (\n    <AwaitErrorBoundary resolve={resolve} errorElement={errorElement}>\n      <ResolveAwait>{children}</ResolveAwait>\n    </AwaitErrorBoundary>\n  );\n}\n\ntype AwaitErrorBoundaryProps = React.PropsWithChildren<{\n  errorElement?: React.ReactNode;\n  resolve: TrackedPromise | any;\n}>;\n\ntype AwaitErrorBoundaryState = {\n  error: any;\n};\n\nenum AwaitRenderStatus {\n  pending,\n  success,\n  error,\n}\n\nconst neverSettledPromise = new Promise(() => {});\n\nclass AwaitErrorBoundary extends React.Component<\n  AwaitErrorBoundaryProps,\n  AwaitErrorBoundaryState\n> {\n  constructor(props: AwaitErrorBoundaryProps) {\n    super(props);\n    this.state = { error: null };\n  }\n\n  static getDerivedStateFromError(error: any) {\n    return { error };\n  }\n\n  componentDidCatch(error: any, errorInfo: any) {\n    console.error(\n      \"<Await> caught the following error during render\",\n      error,\n      errorInfo\n    );\n  }\n\n  render() {\n    let { children, errorElement, resolve } = this.props;\n\n    let promise: TrackedPromise | null = null;\n    let status: AwaitRenderStatus = AwaitRenderStatus.pending;\n\n    if (!(resolve instanceof Promise)) {\n      // Didn't get a promise - provide as a resolved promise\n      status = AwaitRenderStatus.success;\n      promise = Promise.resolve();\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_data\", { get: () => resolve });\n    } else if (this.state.error) {\n      // Caught a render error, provide it as a rejected promise\n      status = AwaitRenderStatus.error;\n      let renderError = this.state.error;\n      promise = Promise.reject().catch(() => {}); // Avoid unhandled rejection warnings\n      Object.defineProperty(promise, \"_tracked\", { get: () => true });\n      Object.defineProperty(promise, \"_error\", { get: () => renderError });\n    } else if ((resolve as TrackedPromise)._tracked) {\n      // Already tracked promise - check contents\n      promise = resolve;\n      status =\n        promise._error !== undefined\n          ? AwaitRenderStatus.error\n          : promise._data !== undefined\n          ? AwaitRenderStatus.success\n          : AwaitRenderStatus.pending;\n    } else {\n      // Raw (untracked) promise - track it\n      status = AwaitRenderStatus.pending;\n      Object.defineProperty(resolve, \"_tracked\", { get: () => true });\n      promise = resolve.then(\n        (data: any) =>\n          Object.defineProperty(resolve, \"_data\", { get: () => data }),\n        (error: any) =>\n          Object.defineProperty(resolve, \"_error\", { get: () => error })\n      );\n    }\n\n    if (\n      status === AwaitRenderStatus.error &&\n      promise._error instanceof AbortedDeferredError\n    ) {\n      // Freeze the UI by throwing a never resolved promise\n      throw neverSettledPromise;\n    }\n\n    if (status === AwaitRenderStatus.error && !errorElement) {\n      // No errorElement, throw to the nearest route-level error boundary\n      throw promise._error;\n    }\n\n    if (status === AwaitRenderStatus.error) {\n      // Render via our errorElement\n      return <AwaitContext.Provider value={promise} children={errorElement} />;\n    }\n\n    if (status === AwaitRenderStatus.success) {\n      // Render children with resolved value\n      return <AwaitContext.Provider value={promise} children={children} />;\n    }\n\n    // Throw to the suspense boundary\n    throw promise;\n  }\n}\n\n/**\n * @private\n * Indirection to leverage useAsyncValue for a render-prop API on <Await>\n */\nfunction ResolveAwait({\n  children,\n}: {\n  children: React.ReactNode | AwaitResolveRenderFunction;\n}) {\n  let data = useAsyncValue();\n  let toRender = typeof children === \"function\" ? children(data) : children;\n  return <>{toRender}</>;\n}\n\n///////////////////////////////////////////////////////////////////////////////\n// UTILS\n///////////////////////////////////////////////////////////////////////////////\n\n/**\n * Creates a route config from a React \"children\" object, which is usually\n * either a `<Route>` element or an array of them. Used internally by\n * `<Routes>` to create a route config from its children.\n *\n * @see https://reactrouter.com/utils/create-routes-from-children\n */\nexport function createRoutesFromChildren(\n  children: React.ReactNode,\n  parentPath: number[] = []\n): RouteObject[] {\n  let routes: RouteObject[] = [];\n\n  React.Children.forEach(children, (element, index) => {\n    if (!React.isValidElement(element)) {\n      // Ignore non-elements. This allows people to more easily inline\n      // conditionals in their route config.\n      return;\n    }\n\n    if (element.type === React.Fragment) {\n      // Transparently support React.Fragment and its children.\n      routes.push.apply(\n        routes,\n        createRoutesFromChildren(element.props.children, parentPath)\n      );\n      return;\n    }\n\n    invariant(\n      element.type === Route,\n      `[${\n        typeof element.type === \"string\" ? element.type : element.type.name\n      }] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`\n    );\n\n    invariant(\n      !element.props.index || !element.props.children,\n      \"An index route cannot have child routes.\"\n    );\n\n    let treePath = [...parentPath, index];\n    let route: RouteObject = {\n      id: element.props.id || treePath.join(\"-\"),\n      caseSensitive: element.props.caseSensitive,\n      element: element.props.element,\n      index: element.props.index,\n      path: element.props.path,\n      loader: element.props.loader,\n      action: element.props.action,\n      errorElement: element.props.errorElement,\n      hasErrorBoundary: element.props.errorElement != null,\n      shouldRevalidate: element.props.shouldRevalidate,\n      handle: element.props.handle,\n    };\n\n    if (element.props.children) {\n      route.children = createRoutesFromChildren(\n        element.props.children,\n        treePath\n      );\n    }\n\n    routes.push(route);\n  });\n\n  return routes;\n}\n\n/**\n * Renders the result of `matchRoutes()` into a React element.\n */\nexport function renderMatches(\n  matches: RouteMatch[] | null\n): React.ReactElement | null {\n  return _renderMatches(matches);\n}\n\n/**\n * @private\n * Walk the route tree and add hasErrorBoundary if it's not provided, so that\n * users providing manual route arrays can just specify errorElement\n */\nexport function enhanceManualRouteObjects(\n  routes: RouteObject[]\n): RouteObject[] {\n  return routes.map((route) => {\n    let routeClone = { ...route };\n    if (routeClone.hasErrorBoundary == null) {\n      routeClone.hasErrorBoundary = routeClone.errorElement != null;\n    }\n    if (routeClone.children) {\n      routeClone.children = enhanceManualRouteObjects(routeClone.children);\n    }\n    return routeClone;\n  });\n}\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\nimport { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\n\nimport photos from \"~/src/features/photos/photos.slice\";\nimport theme from \"~/src/features/theme/theme.slice\";\n\nconst middleware = getDefaultMiddleware();\n\n/* eslint-disable */\n/* istanbul ignore next */\nif (process.env.NODE_ENV === \"development\") {\n  const { logger } = require(\"redux-logger\");\n  middleware.push(logger);\n}\n/* eslint-enable */\n\nconst store = configureStore({\n  reducer: {\n    photos,\n    theme,\n  },\n  middleware,\n});\n\nexport type AppDispatch = typeof store.dispatch;\nexport const useAppDispatch = (): AppDispatch => useDispatch<AppDispatch>();\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n\nexport default store;\n","// The primary entry point assumes we're working with standard ReactDOM/RN, but\n// older versions that do not include `useSyncExternalStore` (React 16.9 - 17.x).\n// Because of that, the useSyncExternalStore compat shim is needed.\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\nimport { useSyncExternalStoreWithSelector } from 'use-sync-external-store/shim/with-selector';\nimport { unstable_batchedUpdates as batch } from './utils/reactBatchedUpdates';\nimport { setBatch } from './utils/batch';\nimport { initializeUseSelector } from './hooks/useSelector';\nimport { initializeConnect } from './components/connect';\ninitializeUseSelector(useSyncExternalStoreWithSelector);\ninitializeConnect(useSyncExternalStore); // Enable batched updates in our subscriptions for use\n// with standard React renderers (ReactDOM, React Native)\n\nsetBatch(batch);\nexport { batch };\nexport * from './exports';","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n","export { unstable_batchedUpdates } from 'react-dom';","// Default to a dummy \"batch\" implementation that just runs the callback\nfunction defaultNoopBatch(callback) {\n  callback();\n}\n\nlet batch = defaultNoopBatch; // Allow injecting another batching function later\n\nexport const setBatch = newBatch => batch = newBatch; // Supply a getter just to skip dealing with ESM bindings\n\nexport const getBatch = () => batch;","import { useContext, useDebugValue } from 'react';\nimport { useReduxContext as useDefaultReduxContext } from './useReduxContext';\nimport { ReactReduxContext } from '../components/Context';\nimport { notInitialized } from '../utils/useSyncExternalStore';\nlet useSyncExternalStoreWithSelector = notInitialized;\nexport const initializeUseSelector = fn => {\n  useSyncExternalStoreWithSelector = fn;\n};\n\nconst refEquality = (a, b) => a === b;\n/**\r\n * Hook factory, which creates a `useSelector` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useSelector` hook bound to the specified context.\r\n */\n\n\nexport function createSelectorHook(context = ReactReduxContext) {\n  const useReduxContext = context === ReactReduxContext ? useDefaultReduxContext : () => useContext(context);\n  return function useSelector(selector, equalityFn = refEquality) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!selector) {\n        throw new Error(`You must pass a selector to useSelector`);\n      }\n\n      if (typeof selector !== 'function') {\n        throw new Error(`You must pass a function as a selector to useSelector`);\n      }\n\n      if (typeof equalityFn !== 'function') {\n        throw new Error(`You must pass a function as an equality function to useSelector`);\n      }\n    }\n\n    const {\n      store,\n      subscription,\n      getServerState\n    } = useReduxContext();\n    const selectedState = useSyncExternalStoreWithSelector(subscription.addNestedSub, store.getState, getServerState || store.getState, selector, equalityFn);\n    useDebugValue(selectedState);\n    return selectedState;\n  };\n}\n/**\r\n * A hook to access the redux store's state. This hook takes a selector function\r\n * as an argument. The selector is called with the store state.\r\n *\r\n * This hook takes an optional equality comparison function as the second parameter\r\n * that allows you to customize the way the selected state is compared to determine\r\n * whether the component needs to be re-rendered.\r\n *\r\n * @param {Function} selector the selector function\r\n * @param {Function=} equalityFn the function that will be used to determine equality\r\n *\r\n * @returns {any} the selected state\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useSelector } from 'react-redux'\r\n *\r\n * export const CounterComponent = () => {\r\n *   const counter = useSelector(state => state.counter)\r\n *   return <div>{counter}</div>\r\n * }\r\n */\n\nexport const useSelector = /*#__PURE__*/createSelectorHook();","import { useContext } from 'react';\nimport { ReactReduxContext } from '../components/Context';\n\n/**\r\n * A hook to access the value of the `ReactReduxContext`. This is a low-level\r\n * hook that you should usually not need to call directly.\r\n *\r\n * @returns {any} the value of the `ReactReduxContext`\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useReduxContext } from 'react-redux'\r\n *\r\n * export const CounterComponent = () => {\r\n *   const { store } = useReduxContext()\r\n *   return <div>{store.getState()}</div>\r\n * }\r\n */\nexport function useReduxContext() {\n  const contextValue = useContext(ReactReduxContext);\n\n  if (process.env.NODE_ENV !== 'production' && !contextValue) {\n    throw new Error('could not find react-redux context value; please ensure the component is wrapped in a <Provider>');\n  }\n\n  return contextValue;\n}","import { createContext } from 'react';\nexport const ReactReduxContext = /*#__PURE__*/createContext(null);\n\nif (process.env.NODE_ENV !== 'production') {\n  ReactReduxContext.displayName = 'ReactRedux';\n}\n\nexport default ReactReduxContext;","export const notInitialized = () => {\n  throw new Error('uSES not initialized!');\n};","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"reactReduxForwardedRef\"];\n\n/* eslint-disable valid-jsdoc, @typescript-eslint/no-unused-vars */\nimport hoistStatics from 'hoist-non-react-statics';\nimport React, { useContext, useMemo, useRef } from 'react';\nimport { isValidElementType, isContextConsumer } from 'react-is';\nimport defaultSelectorFactory from '../connect/selectorFactory';\nimport { mapDispatchToPropsFactory } from '../connect/mapDispatchToProps';\nimport { mapStateToPropsFactory } from '../connect/mapStateToProps';\nimport { mergePropsFactory } from '../connect/mergeProps';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\nimport shallowEqual from '../utils/shallowEqual';\nimport warning from '../utils/warning';\nimport { ReactReduxContext } from './Context';\nimport { notInitialized } from '../utils/useSyncExternalStore';\nlet useSyncExternalStore = notInitialized;\nexport const initializeConnect = fn => {\n  useSyncExternalStore = fn;\n}; // Define some constant arrays just to avoid re-creating these\n\nconst EMPTY_ARRAY = [null, 0];\nconst NO_SUBSCRIPTION_ARRAY = [null, null]; // Attempts to stringify whatever not-really-a-component value we were given\n// for logging in an error message\n\nconst stringifyComponent = Comp => {\n  try {\n    return JSON.stringify(Comp);\n  } catch (err) {\n    return String(Comp);\n  }\n};\n\n// This is \"just\" a `useLayoutEffect`, but with two modifications:\n// - we need to fall back to `useEffect` in SSR to avoid annoying warnings\n// - we extract this to a separate function to avoid closing over values\n//   and causing memory leaks\nfunction useIsomorphicLayoutEffectWithArgs(effectFunc, effectArgs, dependencies) {\n  useIsomorphicLayoutEffect(() => effectFunc(...effectArgs), dependencies);\n} // Effect callback, extracted: assign the latest props values to refs for later usage\n\n\nfunction captureWrapperProps(lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, // actualChildProps: unknown,\nchildPropsFromStoreUpdate, notifyNestedSubs) {\n  // We want to capture the wrapper props and child props we used for later comparisons\n  lastWrapperProps.current = wrapperProps;\n  renderIsScheduled.current = false; // If the render was from a store update, clear out that reference and cascade the subscriber update\n\n  if (childPropsFromStoreUpdate.current) {\n    childPropsFromStoreUpdate.current = null;\n    notifyNestedSubs();\n  }\n} // Effect callback, extracted: subscribe to the Redux store or nearest connected ancestor,\n// check for updates after dispatched actions, and trigger re-renders.\n\n\nfunction subscribeUpdates(shouldHandleStateChanges, store, subscription, childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, isMounted, childPropsFromStoreUpdate, notifyNestedSubs, // forceComponentUpdateDispatch: React.Dispatch<any>,\nadditionalSubscribeListener) {\n  // If we're not subscribed to the store, nothing to do here\n  if (!shouldHandleStateChanges) return () => {}; // Capture values for checking if and when this component unmounts\n\n  let didUnsubscribe = false;\n  let lastThrownError = null; // We'll run this callback every time a store subscription update propagates to this component\n\n  const checkForUpdates = () => {\n    if (didUnsubscribe || !isMounted.current) {\n      // Don't run stale listeners.\n      // Redux doesn't guarantee unsubscriptions happen until next dispatch.\n      return;\n    } // TODO We're currently calling getState ourselves here, rather than letting `uSES` do it\n\n\n    const latestStoreState = store.getState();\n    let newChildProps, error;\n\n    try {\n      // Actually run the selector with the most recent store state and wrapper props\n      // to determine what the child props should be\n      newChildProps = childPropsSelector(latestStoreState, lastWrapperProps.current);\n    } catch (e) {\n      error = e;\n      lastThrownError = e;\n    }\n\n    if (!error) {\n      lastThrownError = null;\n    } // If the child props haven't changed, nothing to do here - cascade the subscription update\n\n\n    if (newChildProps === lastChildProps.current) {\n      if (!renderIsScheduled.current) {\n        notifyNestedSubs();\n      }\n    } else {\n      // Save references to the new child props.  Note that we track the \"child props from store update\"\n      // as a ref instead of a useState/useReducer because we need a way to determine if that value has\n      // been processed.  If this went into useState/useReducer, we couldn't clear out the value without\n      // forcing another re-render, which we don't want.\n      lastChildProps.current = newChildProps;\n      childPropsFromStoreUpdate.current = newChildProps;\n      renderIsScheduled.current = true; // TODO This is hacky and not how `uSES` is meant to be used\n      // Trigger the React `useSyncExternalStore` subscriber\n\n      additionalSubscribeListener();\n    }\n  }; // Actually subscribe to the nearest connected ancestor (or store)\n\n\n  subscription.onStateChange = checkForUpdates;\n  subscription.trySubscribe(); // Pull data from the store after first render in case the store has\n  // changed since we began.\n\n  checkForUpdates();\n\n  const unsubscribeWrapper = () => {\n    didUnsubscribe = true;\n    subscription.tryUnsubscribe();\n    subscription.onStateChange = null;\n\n    if (lastThrownError) {\n      // It's possible that we caught an error due to a bad mapState function, but the\n      // parent re-rendered without this component and we're about to unmount.\n      // This shouldn't happen as long as we do top-down subscriptions correctly, but\n      // if we ever do those wrong, this throw will surface the error in our tests.\n      // In that case, throw the error from here so it doesn't get lost.\n      throw lastThrownError;\n    }\n  };\n\n  return unsubscribeWrapper;\n} // Reducer initial state creation for our update reducer\n\n\nconst initStateUpdates = () => EMPTY_ARRAY;\n\nfunction strictEqual(a, b) {\n  return a === b;\n}\n/**\r\n * Infers the type of props that a connector will inject into a component.\r\n */\n\n\nlet hasWarnedAboutDeprecatedPureOption = false;\n/**\r\n * Connects a React component to a Redux store.\r\n *\r\n * - Without arguments, just wraps the component, without changing the behavior / props\r\n *\r\n * - If 2 params are passed (3rd param, mergeProps, is skipped), default behavior\r\n * is to override ownProps (as stated in the docs), so what remains is everything that's\r\n * not a state or dispatch prop\r\n *\r\n * - When 3rd param is passed, we don't know if ownProps propagate and whether they\r\n * should be valid component props, because it depends on mergeProps implementation.\r\n * As such, it is the user's responsibility to extend ownProps interface from state or\r\n * dispatch props or both when applicable\r\n *\r\n * @param mapStateToProps A function that extracts values from state\r\n * @param mapDispatchToProps Setup for dispatching actions\r\n * @param mergeProps Optional callback to merge state and dispatch props together\r\n * @param options Options for configuring the connection\r\n *\r\n */\n\nfunction connect(mapStateToProps, mapDispatchToProps, mergeProps, {\n  // The `pure` option has been removed, so TS doesn't like us destructuring this to check its existence.\n  // @ts-ignore\n  pure,\n  areStatesEqual = strictEqual,\n  areOwnPropsEqual = shallowEqual,\n  areStatePropsEqual = shallowEqual,\n  areMergedPropsEqual = shallowEqual,\n  // use React's forwardRef to expose a ref of the wrapped component\n  forwardRef = false,\n  // the context consumer to use\n  context = ReactReduxContext\n} = {}) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (pure !== undefined && !hasWarnedAboutDeprecatedPureOption) {\n      hasWarnedAboutDeprecatedPureOption = true;\n      warning('The `pure` option has been removed. `connect` is now always a \"pure/memoized\" component');\n    }\n  }\n\n  const Context = context;\n  const initMapStateToProps = mapStateToPropsFactory(mapStateToProps);\n  const initMapDispatchToProps = mapDispatchToPropsFactory(mapDispatchToProps);\n  const initMergeProps = mergePropsFactory(mergeProps);\n  const shouldHandleStateChanges = Boolean(mapStateToProps);\n\n  const wrapWithConnect = WrappedComponent => {\n    if (process.env.NODE_ENV !== 'production' && !isValidElementType(WrappedComponent)) {\n      throw new Error(`You must pass a component to the function returned by connect. Instead received ${stringifyComponent(WrappedComponent)}`);\n    }\n\n    const wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || 'Component';\n    const displayName = `Connect(${wrappedComponentName})`;\n    const selectorFactoryOptions = {\n      shouldHandleStateChanges,\n      displayName,\n      wrappedComponentName,\n      WrappedComponent,\n      // @ts-ignore\n      initMapStateToProps,\n      // @ts-ignore\n      initMapDispatchToProps,\n      initMergeProps,\n      areStatesEqual,\n      areStatePropsEqual,\n      areOwnPropsEqual,\n      areMergedPropsEqual\n    };\n\n    function ConnectFunction(props) {\n      const [propsContext, reactReduxForwardedRef, wrapperProps] = useMemo(() => {\n        // Distinguish between actual \"data\" props that were passed to the wrapper component,\n        // and values needed to control behavior (forwarded refs, alternate context instances).\n        // To maintain the wrapperProps object reference, memoize this destructuring.\n        const {\n          reactReduxForwardedRef\n        } = props,\n              wrapperProps = _objectWithoutPropertiesLoose(props, _excluded);\n\n        return [props.context, reactReduxForwardedRef, wrapperProps];\n      }, [props]);\n      const ContextToUse = useMemo(() => {\n        // Users may optionally pass in a custom context instance to use instead of our ReactReduxContext.\n        // Memoize the check that determines which context instance we should use.\n        return propsContext && propsContext.Consumer && // @ts-ignore\n        isContextConsumer( /*#__PURE__*/React.createElement(propsContext.Consumer, null)) ? propsContext : Context;\n      }, [propsContext, Context]); // Retrieve the store and ancestor subscription via context, if available\n\n      const contextValue = useContext(ContextToUse); // The store _must_ exist as either a prop or in context.\n      // We'll check to see if it _looks_ like a Redux store first.\n      // This allows us to pass through a `store` prop that is just a plain value.\n\n      const didStoreComeFromProps = Boolean(props.store) && Boolean(props.store.getState) && Boolean(props.store.dispatch);\n      const didStoreComeFromContext = Boolean(contextValue) && Boolean(contextValue.store);\n\n      if (process.env.NODE_ENV !== 'production' && !didStoreComeFromProps && !didStoreComeFromContext) {\n        throw new Error(`Could not find \"store\" in the context of ` + `\"${displayName}\". Either wrap the root component in a <Provider>, ` + `or pass a custom React context provider to <Provider> and the corresponding ` + `React context consumer to ${displayName} in connect options.`);\n      } // Based on the previous check, one of these must be true\n\n\n      const store = didStoreComeFromProps ? props.store : contextValue.store;\n      const getServerState = didStoreComeFromContext ? contextValue.getServerState : store.getState;\n      const childPropsSelector = useMemo(() => {\n        // The child props selector needs the store reference as an input.\n        // Re-create this selector whenever the store changes.\n        return defaultSelectorFactory(store.dispatch, selectorFactoryOptions);\n      }, [store]);\n      const [subscription, notifyNestedSubs] = useMemo(() => {\n        if (!shouldHandleStateChanges) return NO_SUBSCRIPTION_ARRAY; // This Subscription's source should match where store came from: props vs. context. A component\n        // connected to the store via props shouldn't use subscription from context, or vice versa.\n\n        const subscription = createSubscription(store, didStoreComeFromProps ? undefined : contextValue.subscription); // `notifyNestedSubs` is duplicated to handle the case where the component is unmounted in\n        // the middle of the notification loop, where `subscription` will then be null. This can\n        // probably be avoided if Subscription's listeners logic is changed to not call listeners\n        // that have been unsubscribed in the  middle of the notification loop.\n\n        const notifyNestedSubs = subscription.notifyNestedSubs.bind(subscription);\n        return [subscription, notifyNestedSubs];\n      }, [store, didStoreComeFromProps, contextValue]); // Determine what {store, subscription} value should be put into nested context, if necessary,\n      // and memoize that value to avoid unnecessary context updates.\n\n      const overriddenContextValue = useMemo(() => {\n        if (didStoreComeFromProps) {\n          // This component is directly subscribed to a store from props.\n          // We don't want descendants reading from this store - pass down whatever\n          // the existing context value is from the nearest connected ancestor.\n          return contextValue;\n        } // Otherwise, put this component's subscription instance into context, so that\n        // connected descendants won't update until after this component is done\n\n\n        return _extends({}, contextValue, {\n          subscription\n        });\n      }, [didStoreComeFromProps, contextValue, subscription]); // Set up refs to coordinate values between the subscription effect and the render logic\n\n      const lastChildProps = useRef();\n      const lastWrapperProps = useRef(wrapperProps);\n      const childPropsFromStoreUpdate = useRef();\n      const renderIsScheduled = useRef(false);\n      const isProcessingDispatch = useRef(false);\n      const isMounted = useRef(false);\n      const latestSubscriptionCallbackError = useRef();\n      useIsomorphicLayoutEffect(() => {\n        isMounted.current = true;\n        return () => {\n          isMounted.current = false;\n        };\n      }, []);\n      const actualChildPropsSelector = useMemo(() => {\n        const selector = () => {\n          // Tricky logic here:\n          // - This render may have been triggered by a Redux store update that produced new child props\n          // - However, we may have gotten new wrapper props after that\n          // If we have new child props, and the same wrapper props, we know we should use the new child props as-is.\n          // But, if we have new wrapper props, those might change the child props, so we have to recalculate things.\n          // So, we'll use the child props from store update only if the wrapper props are the same as last time.\n          if (childPropsFromStoreUpdate.current && wrapperProps === lastWrapperProps.current) {\n            return childPropsFromStoreUpdate.current;\n          } // TODO We're reading the store directly in render() here. Bad idea?\n          // This will likely cause Bad Things (TM) to happen in Concurrent Mode.\n          // Note that we do this because on renders _not_ caused by store updates, we need the latest store state\n          // to determine what the child props should be.\n\n\n          return childPropsSelector(store.getState(), wrapperProps);\n        };\n\n        return selector;\n      }, [store, wrapperProps]); // We need this to execute synchronously every time we re-render. However, React warns\n      // about useLayoutEffect in SSR, so we try to detect environment and fall back to\n      // just useEffect instead to avoid the warning, since neither will run anyway.\n\n      const subscribeForReact = useMemo(() => {\n        const subscribe = reactListener => {\n          if (!subscription) {\n            return () => {};\n          }\n\n          return subscribeUpdates(shouldHandleStateChanges, store, subscription, // @ts-ignore\n          childPropsSelector, lastWrapperProps, lastChildProps, renderIsScheduled, isMounted, childPropsFromStoreUpdate, notifyNestedSubs, reactListener);\n        };\n\n        return subscribe;\n      }, [subscription]);\n      useIsomorphicLayoutEffectWithArgs(captureWrapperProps, [lastWrapperProps, lastChildProps, renderIsScheduled, wrapperProps, childPropsFromStoreUpdate, notifyNestedSubs]);\n      let actualChildProps;\n\n      try {\n        actualChildProps = useSyncExternalStore( // TODO We're passing through a big wrapper that does a bunch of extra side effects besides subscribing\n        subscribeForReact, // TODO This is incredibly hacky. We've already processed the store update and calculated new child props,\n        // TODO and we're just passing that through so it triggers a re-render for us rather than relying on `uSES`.\n        actualChildPropsSelector, getServerState ? () => childPropsSelector(getServerState(), wrapperProps) : actualChildPropsSelector);\n      } catch (err) {\n        if (latestSubscriptionCallbackError.current) {\n          ;\n          err.message += `\\nThe error may be correlated with this previous error:\\n${latestSubscriptionCallbackError.current.stack}\\n\\n`;\n        }\n\n        throw err;\n      }\n\n      useIsomorphicLayoutEffect(() => {\n        latestSubscriptionCallbackError.current = undefined;\n        childPropsFromStoreUpdate.current = undefined;\n        lastChildProps.current = actualChildProps;\n      }); // Now that all that's done, we can finally try to actually render the child component.\n      // We memoize the elements for the rendered child component as an optimization.\n\n      const renderedWrappedComponent = useMemo(() => {\n        return (\n          /*#__PURE__*/\n          // @ts-ignore\n          React.createElement(WrappedComponent, _extends({}, actualChildProps, {\n            ref: reactReduxForwardedRef\n          }))\n        );\n      }, [reactReduxForwardedRef, WrappedComponent, actualChildProps]); // If React sees the exact same element reference as last time, it bails out of re-rendering\n      // that child, same as if it was wrapped in React.memo() or returned false from shouldComponentUpdate.\n\n      const renderedChild = useMemo(() => {\n        if (shouldHandleStateChanges) {\n          // If this component is subscribed to store updates, we need to pass its own\n          // subscription instance down to our descendants. That means rendering the same\n          // Context instance, and putting a different value into the context.\n          return /*#__PURE__*/React.createElement(ContextToUse.Provider, {\n            value: overriddenContextValue\n          }, renderedWrappedComponent);\n        }\n\n        return renderedWrappedComponent;\n      }, [ContextToUse, renderedWrappedComponent, overriddenContextValue]);\n      return renderedChild;\n    }\n\n    const _Connect = React.memo(ConnectFunction);\n\n    // Add a hacky cast to get the right output type\n    const Connect = _Connect;\n    Connect.WrappedComponent = WrappedComponent;\n    Connect.displayName = ConnectFunction.displayName = displayName;\n\n    if (forwardRef) {\n      const _forwarded = React.forwardRef(function forwardConnectRef(props, ref) {\n        // @ts-ignore\n        return /*#__PURE__*/React.createElement(Connect, _extends({}, props, {\n          reactReduxForwardedRef: ref\n        }));\n      });\n\n      const forwarded = _forwarded;\n      forwarded.displayName = displayName;\n      forwarded.WrappedComponent = WrappedComponent;\n      return hoistStatics(forwarded, WrappedComponent);\n    }\n\n    return hoistStatics(Connect, WrappedComponent);\n  };\n\n  return wrapWithConnect;\n}\n\nexport default connect;","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"initMapStateToProps\", \"initMapDispatchToProps\", \"initMergeProps\"];\nimport verifySubselectors from './verifySubselectors';\nexport function pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, {\n  areStatesEqual,\n  areOwnPropsEqual,\n  areStatePropsEqual\n}) {\n  let hasRunAtLeastOnce = false;\n  let state;\n  let ownProps;\n  let stateProps;\n  let dispatchProps;\n  let mergedProps;\n\n  function handleFirstCall(firstState, firstOwnProps) {\n    state = firstState;\n    ownProps = firstOwnProps;\n    stateProps = mapStateToProps(state, ownProps);\n    dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    hasRunAtLeastOnce = true;\n    return mergedProps;\n  }\n\n  function handleNewPropsAndNewState() {\n    stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleNewProps() {\n    if (mapStateToProps.dependsOnOwnProps) stateProps = mapStateToProps(state, ownProps);\n    if (mapDispatchToProps.dependsOnOwnProps) dispatchProps = mapDispatchToProps(dispatch, ownProps);\n    mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleNewState() {\n    const nextStateProps = mapStateToProps(state, ownProps);\n    const statePropsChanged = !areStatePropsEqual(nextStateProps, stateProps);\n    stateProps = nextStateProps;\n    if (statePropsChanged) mergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n    return mergedProps;\n  }\n\n  function handleSubsequentCalls(nextState, nextOwnProps) {\n    const propsChanged = !areOwnPropsEqual(nextOwnProps, ownProps);\n    const stateChanged = !areStatesEqual(nextState, state, nextOwnProps, ownProps);\n    state = nextState;\n    ownProps = nextOwnProps;\n    if (propsChanged && stateChanged) return handleNewPropsAndNewState();\n    if (propsChanged) return handleNewProps();\n    if (stateChanged) return handleNewState();\n    return mergedProps;\n  }\n\n  return function pureFinalPropsSelector(nextState, nextOwnProps) {\n    return hasRunAtLeastOnce ? handleSubsequentCalls(nextState, nextOwnProps) : handleFirstCall(nextState, nextOwnProps);\n  };\n}\n// TODO: Add more comments\n// The selector returned by selectorFactory will memoize its results,\n// allowing connect's shouldComponentUpdate to return false if final\n// props have not changed.\nexport default function finalPropsSelectorFactory(dispatch, _ref) {\n  let {\n    initMapStateToProps,\n    initMapDispatchToProps,\n    initMergeProps\n  } = _ref,\n      options = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  const mapStateToProps = initMapStateToProps(dispatch, options);\n  const mapDispatchToProps = initMapDispatchToProps(dispatch, options);\n  const mergeProps = initMergeProps(dispatch, options);\n\n  if (process.env.NODE_ENV !== 'production') {\n    verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps);\n  }\n\n  return pureFinalPropsSelectorFactory(mapStateToProps, mapDispatchToProps, mergeProps, dispatch, options);\n}","import warning from '../utils/warning';\n\nfunction verify(selector, methodName) {\n  if (!selector) {\n    throw new Error(`Unexpected value for ${methodName} in connect.`);\n  } else if (methodName === 'mapStateToProps' || methodName === 'mapDispatchToProps') {\n    if (!Object.prototype.hasOwnProperty.call(selector, 'dependsOnOwnProps')) {\n      warning(`The selector for ${methodName} of connect did not specify a value for dependsOnOwnProps.`);\n    }\n  }\n}\n\nexport default function verifySubselectors(mapStateToProps, mapDispatchToProps, mergeProps) {\n  verify(mapStateToProps, 'mapStateToProps');\n  verify(mapDispatchToProps, 'mapDispatchToProps');\n  verify(mergeProps, 'mergeProps');\n}","/**\r\n * Prints a warning in the console if it exists.\r\n *\r\n * @param {String} message The warning message.\r\n * @returns {void}\r\n */\nexport default function warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n\n}","import bindActionCreators from '../utils/bindActionCreators';\nimport { wrapMapToPropsConstant, wrapMapToPropsFunc } from './wrapMapToProps';\nimport { createInvalidArgFactory } from './invalidArgFactory';\nexport function mapDispatchToPropsFactory(mapDispatchToProps) {\n  return mapDispatchToProps && typeof mapDispatchToProps === 'object' ? wrapMapToPropsConstant(dispatch => // @ts-ignore\n  bindActionCreators(mapDispatchToProps, dispatch)) : !mapDispatchToProps ? wrapMapToPropsConstant(dispatch => ({\n    dispatch\n  })) : typeof mapDispatchToProps === 'function' ? // @ts-ignore\n  wrapMapToPropsFunc(mapDispatchToProps, 'mapDispatchToProps') : createInvalidArgFactory(mapDispatchToProps, 'mapDispatchToProps');\n}","export default function bindActionCreators(actionCreators, dispatch) {\n  const boundActionCreators = {};\n\n  for (const key in actionCreators) {\n    const actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = (...args) => dispatch(actionCreator(...args));\n    }\n  }\n\n  return boundActionCreators;\n}","import verifyPlainObject from '../utils/verifyPlainObject';\nexport function wrapMapToPropsConstant( // * Note:\n//  It seems that the dispatch argument\n//  could be a dispatch function in some cases (ex: whenMapDispatchToPropsIsMissing)\n//  and a state object in some others (ex: whenMapStateToPropsIsMissing)\n// eslint-disable-next-line no-unused-vars\ngetConstant) {\n  return function initConstantSelector(dispatch) {\n    const constant = getConstant(dispatch);\n\n    function constantSelector() {\n      return constant;\n    }\n\n    constantSelector.dependsOnOwnProps = false;\n    return constantSelector;\n  };\n} // dependsOnOwnProps is used by createMapToPropsProxy to determine whether to pass props as args\n// to the mapToProps function being wrapped. It is also used by makePurePropsSelector to determine\n// whether mapToProps needs to be invoked when props have changed.\n//\n// A length of one signals that mapToProps does not depend on props from the parent component.\n// A length of zero is assumed to mean mapToProps is getting args via arguments or ...args and\n// therefore not reporting its length accurately..\n// TODO Can this get pulled out so that we can subscribe directly to the store if we don't need ownProps?\n\nexport function getDependsOnOwnProps(mapToProps) {\n  return mapToProps.dependsOnOwnProps ? Boolean(mapToProps.dependsOnOwnProps) : mapToProps.length !== 1;\n} // Used by whenMapStateToPropsIsFunction and whenMapDispatchToPropsIsFunction,\n// this function wraps mapToProps in a proxy function which does several things:\n//\n//  * Detects whether the mapToProps function being called depends on props, which\n//    is used by selectorFactory to decide if it should reinvoke on props changes.\n//\n//  * On first call, handles mapToProps if returns another function, and treats that\n//    new function as the true mapToProps for subsequent calls.\n//\n//  * On first call, verifies the first result is a plain object, in order to warn\n//    the developer that their mapToProps function is not returning a valid result.\n//\n\nexport function wrapMapToPropsFunc(mapToProps, methodName) {\n  return function initProxySelector(dispatch, {\n    displayName\n  }) {\n    const proxy = function mapToPropsProxy(stateOrDispatch, ownProps) {\n      return proxy.dependsOnOwnProps ? proxy.mapToProps(stateOrDispatch, ownProps) : proxy.mapToProps(stateOrDispatch, undefined);\n    }; // allow detectFactoryAndVerify to get ownProps\n\n\n    proxy.dependsOnOwnProps = true;\n\n    proxy.mapToProps = function detectFactoryAndVerify(stateOrDispatch, ownProps) {\n      proxy.mapToProps = mapToProps;\n      proxy.dependsOnOwnProps = getDependsOnOwnProps(mapToProps);\n      let props = proxy(stateOrDispatch, ownProps);\n\n      if (typeof props === 'function') {\n        proxy.mapToProps = props;\n        proxy.dependsOnOwnProps = getDependsOnOwnProps(props);\n        props = proxy(stateOrDispatch, ownProps);\n      }\n\n      if (process.env.NODE_ENV !== 'production') verifyPlainObject(props, displayName, methodName);\n      return props;\n    };\n\n    return proxy;\n  };\n}","import isPlainObject from './isPlainObject';\nimport warning from './warning';\nexport default function verifyPlainObject(value, displayName, methodName) {\n  if (!isPlainObject(value)) {\n    warning(`${methodName}() in ${displayName} must return a plain object. Instead received ${value}.`);\n  }\n}","/**\r\n * @param {any} obj The object to inspect.\r\n * @returns {boolean} True if the argument appears to be a plain object.\r\n */\nexport default function isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  let proto = Object.getPrototypeOf(obj);\n  if (proto === null) return true;\n  let baseProto = proto;\n\n  while (Object.getPrototypeOf(baseProto) !== null) {\n    baseProto = Object.getPrototypeOf(baseProto);\n  }\n\n  return proto === baseProto;\n}","export function createInvalidArgFactory(arg, name) {\n  return (dispatch, options) => {\n    throw new Error(`Invalid value of type ${typeof arg} for ${name} argument when connecting component ${options.wrappedComponentName}.`);\n  };\n}","import { wrapMapToPropsConstant, wrapMapToPropsFunc } from './wrapMapToProps';\nimport { createInvalidArgFactory } from './invalidArgFactory';\nexport function mapStateToPropsFactory(mapStateToProps) {\n  return !mapStateToProps ? wrapMapToPropsConstant(() => ({})) : typeof mapStateToProps === 'function' ? // @ts-ignore\n  wrapMapToPropsFunc(mapStateToProps, 'mapStateToProps') : createInvalidArgFactory(mapStateToProps, 'mapStateToProps');\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport verifyPlainObject from '../utils/verifyPlainObject';\nimport { createInvalidArgFactory } from './invalidArgFactory';\nexport function defaultMergeProps(stateProps, dispatchProps, ownProps) {\n  // @ts-ignore\n  return _extends({}, ownProps, stateProps, dispatchProps);\n}\nexport function wrapMergePropsFunc(mergeProps) {\n  return function initMergePropsProxy(dispatch, {\n    displayName,\n    areMergedPropsEqual\n  }) {\n    let hasRunOnce = false;\n    let mergedProps;\n    return function mergePropsProxy(stateProps, dispatchProps, ownProps) {\n      const nextMergedProps = mergeProps(stateProps, dispatchProps, ownProps);\n\n      if (hasRunOnce) {\n        if (!areMergedPropsEqual(nextMergedProps, mergedProps)) mergedProps = nextMergedProps;\n      } else {\n        hasRunOnce = true;\n        mergedProps = nextMergedProps;\n        if (process.env.NODE_ENV !== 'production') verifyPlainObject(mergedProps, displayName, 'mergeProps');\n      }\n\n      return mergedProps;\n    };\n  };\n}\nexport function mergePropsFactory(mergeProps) {\n  return !mergeProps ? () => defaultMergeProps : typeof mergeProps === 'function' ? wrapMergePropsFunc(mergeProps) : createInvalidArgFactory(mergeProps, 'mergeProps');\n}","import { getBatch } from './batch'; // encapsulates the subscription logic for connecting a component to the redux store, as\n// well as nesting subscriptions of descendant components, so that we can ensure the\n// ancestor components re-render before descendants\n\nfunction createListenerCollection() {\n  const batch = getBatch();\n  let first = null;\n  let last = null;\n  return {\n    clear() {\n      first = null;\n      last = null;\n    },\n\n    notify() {\n      batch(() => {\n        let listener = first;\n\n        while (listener) {\n          listener.callback();\n          listener = listener.next;\n        }\n      });\n    },\n\n    get() {\n      let listeners = [];\n      let listener = first;\n\n      while (listener) {\n        listeners.push(listener);\n        listener = listener.next;\n      }\n\n      return listeners;\n    },\n\n    subscribe(callback) {\n      let isSubscribed = true;\n      let listener = last = {\n        callback,\n        next: null,\n        prev: last\n      };\n\n      if (listener.prev) {\n        listener.prev.next = listener;\n      } else {\n        first = listener;\n      }\n\n      return function unsubscribe() {\n        if (!isSubscribed || first === null) return;\n        isSubscribed = false;\n\n        if (listener.next) {\n          listener.next.prev = listener.prev;\n        } else {\n          last = listener.prev;\n        }\n\n        if (listener.prev) {\n          listener.prev.next = listener.next;\n        } else {\n          first = listener.next;\n        }\n      };\n    }\n\n  };\n}\n\nconst nullListeners = {\n  notify() {},\n\n  get: () => []\n};\nexport function createSubscription(store, parentSub) {\n  let unsubscribe;\n  let listeners = nullListeners;\n\n  function addNestedSub(listener) {\n    trySubscribe();\n    return listeners.subscribe(listener);\n  }\n\n  function notifyNestedSubs() {\n    listeners.notify();\n  }\n\n  function handleChangeWrapper() {\n    if (subscription.onStateChange) {\n      subscription.onStateChange();\n    }\n  }\n\n  function isSubscribed() {\n    return Boolean(unsubscribe);\n  }\n\n  function trySubscribe() {\n    if (!unsubscribe) {\n      unsubscribe = parentSub ? parentSub.addNestedSub(handleChangeWrapper) : store.subscribe(handleChangeWrapper);\n      listeners = createListenerCollection();\n    }\n  }\n\n  function tryUnsubscribe() {\n    if (unsubscribe) {\n      unsubscribe();\n      unsubscribe = undefined;\n      listeners.clear();\n      listeners = nullListeners;\n    }\n  }\n\n  const subscription = {\n    addNestedSub,\n    notifyNestedSubs,\n    handleChangeWrapper,\n    isSubscribed,\n    trySubscribe,\n    tryUnsubscribe,\n    getListeners: () => listeners\n  };\n  return subscription;\n}","import { useEffect, useLayoutEffect } from 'react'; // React currently throws a warning when using useLayoutEffect on the server.\n// To get around it, we can conditionally useEffect on the server (no-op) and\n// useLayoutEffect in the browser. We need useLayoutEffect to ensure the store\n// subscription callback always has the selector from the latest render commit\n// available, otherwise a store update may happen between render and the effect,\n// which may cause missed updates; we also must ensure the store subscription\n// is created synchronously, otherwise a store update may occur before the\n// subscription is created and an inconsistent state may be observed\n// Matches logic in React's `shared/ExecutionEnvironment` file\n\nexport const canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\nexport const useIsomorphicLayoutEffect = canUseDOM ? useLayoutEffect : useEffect;","function is(x, y) {\n  if (x === y) {\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nexport default function shallowEqual(objA, objB) {\n  if (is(objA, objB)) return true;\n\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n  if (keysA.length !== keysB.length) return false;\n\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n\n  return true;\n}","import Provider from './components/Provider';\nimport connect from './components/connect';\nimport { ReactReduxContext } from './components/Context';\nimport { useDispatch, createDispatchHook } from './hooks/useDispatch';\nimport { useSelector, createSelectorHook } from './hooks/useSelector';\nimport { useStore, createStoreHook } from './hooks/useStore';\nimport shallowEqual from './utils/shallowEqual';\nexport * from './types';\nexport { Provider, ReactReduxContext, connect, useDispatch, createDispatchHook, useSelector, createSelectorHook, useStore, createStoreHook, shallowEqual };","import React, { useMemo } from 'react';\nimport { ReactReduxContext } from './Context';\nimport { createSubscription } from '../utils/Subscription';\nimport { useIsomorphicLayoutEffect } from '../utils/useIsomorphicLayoutEffect';\n\nfunction Provider({\n  store,\n  context,\n  children,\n  serverState\n}) {\n  const contextValue = useMemo(() => {\n    const subscription = createSubscription(store);\n    return {\n      store,\n      subscription,\n      getServerState: serverState ? () => serverState : undefined\n    };\n  }, [store, serverState]);\n  const previousState = useMemo(() => store.getState(), [store]);\n  useIsomorphicLayoutEffect(() => {\n    const {\n      subscription\n    } = contextValue;\n    subscription.onStateChange = subscription.notifyNestedSubs;\n    subscription.trySubscribe();\n\n    if (previousState !== store.getState()) {\n      subscription.notifyNestedSubs();\n    }\n\n    return () => {\n      subscription.tryUnsubscribe();\n      subscription.onStateChange = undefined;\n    };\n  }, [contextValue, previousState]);\n  const Context = context || ReactReduxContext; // @ts-ignore 'AnyAction' is assignable to the constraint of type 'A', but 'A' could be instantiated with a different subtype\n\n  return /*#__PURE__*/React.createElement(Context.Provider, {\n    value: contextValue\n  }, children);\n}\n\nexport default Provider;","import { ReactReduxContext } from '../components/Context';\nimport { useStore as useDefaultStore, createStoreHook } from './useStore';\n/**\r\n * Hook factory, which creates a `useDispatch` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useDispatch` hook bound to the specified context.\r\n */\n\nexport function createDispatchHook(context = ReactReduxContext) {\n  const useStore = // @ts-ignore\n  context === ReactReduxContext ? useDefaultStore : createStoreHook(context);\n  return function useDispatch() {\n    const store = useStore(); // @ts-ignore\n\n    return store.dispatch;\n  };\n}\n/**\r\n * A hook to access the redux `dispatch` function.\r\n *\r\n * @returns {any|function} redux store's `dispatch` function\r\n *\r\n * @example\r\n *\r\n * import React, { useCallback } from 'react'\r\n * import { useDispatch } from 'react-redux'\r\n *\r\n * export const CounterComponent = ({ value }) => {\r\n *   const dispatch = useDispatch()\r\n *   const increaseCounter = useCallback(() => dispatch({ type: 'increase-counter' }), [])\r\n *   return (\r\n *     <div>\r\n *       <span>{value}</span>\r\n *       <button onClick={increaseCounter}>Increase counter</button>\r\n *     </div>\r\n *   )\r\n * }\r\n */\n\nexport const useDispatch = /*#__PURE__*/createDispatchHook();","import { useContext } from 'react';\nimport { ReactReduxContext } from '../components/Context';\nimport { useReduxContext as useDefaultReduxContext } from './useReduxContext';\n/**\r\n * Hook factory, which creates a `useStore` hook bound to a given context.\r\n *\r\n * @param {React.Context} [context=ReactReduxContext] Context passed to your `<Provider>`.\r\n * @returns {Function} A `useStore` hook bound to the specified context.\r\n */\n\nexport function createStoreHook(context = ReactReduxContext) {\n  const useReduxContext = // @ts-ignore\n  context === ReactReduxContext ? useDefaultReduxContext : () => useContext(context);\n  return function useStore() {\n    const {\n      store\n    } = useReduxContext(); // @ts-ignore\n\n    return store;\n  };\n}\n/**\r\n * A hook to access the redux store.\r\n *\r\n * @returns {any} the redux store\r\n *\r\n * @example\r\n *\r\n * import React from 'react'\r\n * import { useStore } from 'react-redux'\r\n *\r\n * export const ExampleComponent = () => {\r\n *   const store = useStore()\r\n *   return <div>{store.getState()}</div>\r\n * }\r\n */\n\nexport const useStore = /*#__PURE__*/createStoreHook();","import type { Action, ActionCreator, StoreEnhancer } from 'redux'\r\nimport { compose } from 'redux'\r\n\r\n/**\r\n * @public\r\n */\r\nexport interface DevToolsEnhancerOptions {\r\n  /**\r\n   * the instance name to be showed on the monitor page. Default value is `document.title`.\r\n   * If not specified and there's no document title, it will consist of `tabId` and `instanceId`.\r\n   */\r\n  name?: string\r\n  /**\r\n   * action creators functions to be available in the Dispatcher.\r\n   */\r\n  actionCreators?: ActionCreator<any>[] | { [key: string]: ActionCreator<any> }\r\n  /**\r\n   * if more than one action is dispatched in the indicated interval, all new actions will be collected and sent at once.\r\n   * It is the joint between performance and speed. When set to `0`, all actions will be sent instantly.\r\n   * Set it to a higher value when experiencing perf issues (also `maxAge` to a lower value).\r\n   *\r\n   * @default 500 ms.\r\n   */\r\n  latency?: number\r\n  /**\r\n   * (> 1) - maximum allowed actions to be stored in the history tree. The oldest actions are removed once maxAge is reached. It's critical for performance.\r\n   *\r\n   * @default 50\r\n   */\r\n  maxAge?: number\r\n  /**\r\n   * Customizes how actions and state are serialized and deserialized. Can be a boolean or object. If given a boolean, the behavior is the same as if you\r\n   * were to pass an object and specify `options` as a boolean. Giving an object allows fine-grained customization using the `replacer` and `reviver`\r\n   * functions.\r\n   */\r\n  serialize?:\r\n    | boolean\r\n    | {\r\n        /**\r\n         * - `undefined` - will use regular `JSON.stringify` to send data (it's the fast mode).\r\n         * - `false` - will handle also circular references.\r\n         * - `true` - will handle also date, regex, undefined, error objects, symbols, maps, sets and functions.\r\n         * - object, which contains `date`, `regex`, `undefined`, `error`, `symbol`, `map`, `set` and `function` keys.\r\n         *   For each of them you can indicate if to include (by setting as `true`).\r\n         *   For `function` key you can also specify a custom function which handles serialization.\r\n         *   See [`jsan`](https://github.com/kolodny/jsan) for more details.\r\n         */\r\n        options?:\r\n          | undefined\r\n          | boolean\r\n          | {\r\n              date?: true\r\n              regex?: true\r\n              undefined?: true\r\n              error?: true\r\n              symbol?: true\r\n              map?: true\r\n              set?: true\r\n              function?: true | ((fn: (...args: any[]) => any) => string)\r\n            }\r\n        /**\r\n         * [JSON replacer function](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#The_replacer_parameter) used for both actions and states stringify.\r\n         * In addition, you can specify a data type by adding a [`__serializedType__`](https://github.com/zalmoxisus/remotedev-serialize/blob/master/helpers/index.js#L4)\r\n         * key. So you can deserialize it back while importing or persisting data.\r\n         * Moreover, it will also [show a nice preview showing the provided custom type](https://cloud.githubusercontent.com/assets/7957859/21814330/a17d556a-d761-11e6-85ef-159dd12f36c5.png):\r\n         */\r\n        replacer?: (key: string, value: unknown) => any\r\n        /**\r\n         * [JSON `reviver` function](https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse#Using_the_reviver_parameter)\r\n         * used for parsing the imported actions and states. See [`remotedev-serialize`](https://github.com/zalmoxisus/remotedev-serialize/blob/master/immutable/serialize.js#L8-L41)\r\n         * as an example on how to serialize special data types and get them back.\r\n         */\r\n        reviver?: (key: string, value: unknown) => any\r\n        /**\r\n         * Automatically serialize/deserialize immutablejs via [remotedev-serialize](https://github.com/zalmoxisus/remotedev-serialize).\r\n         * Just pass the Immutable library. It will support all ImmutableJS structures. You can even export them into a file and get them back.\r\n         * The only exception is `Record` class, for which you should pass this in addition the references to your classes in `refs`.\r\n         */\r\n        immutable?: any\r\n        /**\r\n         * ImmutableJS `Record` classes used to make possible restore its instances back when importing, persisting...\r\n         */\r\n        refs?: any\r\n      }\r\n  /**\r\n   * function which takes `action` object and id number as arguments, and should return `action` object back.\r\n   */\r\n  actionSanitizer?: <A extends Action>(action: A, id: number) => A\r\n  /**\r\n   * function which takes `state` object and index as arguments, and should return `state` object back.\r\n   */\r\n  stateSanitizer?: <S>(state: S, index: number) => S\r\n  /**\r\n   * *string or array of strings as regex* - actions types to be hidden / shown in the monitors (while passed to the reducers).\r\n   * If `actionsWhitelist` specified, `actionsBlacklist` is ignored.\r\n   * @deprecated Use actionsDenylist instead.\r\n   */\r\n  actionsBlacklist?: string | string[]\r\n  /**\r\n   * *string or array of strings as regex* - actions types to be hidden / shown in the monitors (while passed to the reducers).\r\n   * If `actionsWhitelist` specified, `actionsBlacklist` is ignored.\r\n   * @deprecated Use actionsAllowlist instead.\r\n   */\r\n  actionsWhitelist?: string | string[]\r\n  /**\r\n   * *string or array of strings as regex* - actions types to be hidden / shown in the monitors (while passed to the reducers).\r\n   * If `actionsAllowlist` specified, `actionsDenylist` is ignored.\r\n   */\r\n  actionsDenylist?: string | string[]\r\n  /**\r\n   * *string or array of strings as regex* - actions types to be hidden / shown in the monitors (while passed to the reducers).\r\n   * If `actionsAllowlist` specified, `actionsDenylist` is ignored.\r\n   */\r\n  actionsAllowlist?: string | string[]\r\n  /**\r\n   * called for every action before sending, takes `state` and `action` object, and returns `true` in case it allows sending the current data to the monitor.\r\n   * Use it as a more advanced version of `actionsDenylist`/`actionsAllowlist` parameters.\r\n   */\r\n  predicate?: <S, A extends Action>(state: S, action: A) => boolean\r\n  /**\r\n   * if specified as `false`, it will not record the changes till clicking on `Start recording` button.\r\n   * Available only for Redux enhancer, for others use `autoPause`.\r\n   *\r\n   * @default true\r\n   */\r\n  shouldRecordChanges?: boolean\r\n  /**\r\n   * if specified, whenever clicking on `Pause recording` button and there are actions in the history log, will add this action type.\r\n   * If not specified, will commit when paused. Available only for Redux enhancer.\r\n   *\r\n   * @default \"@@PAUSED\"\"\r\n   */\r\n  pauseActionType?: string\r\n  /**\r\n   * auto pauses when the extensions window is not opened, and so has zero impact on your app when not in use.\r\n   * Not available for Redux enhancer (as it already does it but storing the data to be sent).\r\n   *\r\n   * @default false\r\n   */\r\n  autoPause?: boolean\r\n  /**\r\n   * if specified as `true`, it will not allow any non-monitor actions to be dispatched till clicking on `Unlock changes` button.\r\n   * Available only for Redux enhancer.\r\n   *\r\n   * @default false\r\n   */\r\n  shouldStartLocked?: boolean\r\n  /**\r\n   * if set to `false`, will not recompute the states on hot reloading (or on replacing the reducers). Available only for Redux enhancer.\r\n   *\r\n   * @default true\r\n   */\r\n  shouldHotReload?: boolean\r\n  /**\r\n   * if specified as `true`, whenever there's an exception in reducers, the monitors will show the error message, and next actions will not be dispatched.\r\n   *\r\n   * @default false\r\n   */\r\n  shouldCatchErrors?: boolean\r\n  /**\r\n   * If you want to restrict the extension, specify the features you allow.\r\n   * If not specified, all of the features are enabled. When set as an object, only those included as `true` will be allowed.\r\n   * Note that except `true`/`false`, `import` and `export` can be set as `custom` (which is by default for Redux enhancer), meaning that the importing/exporting occurs on the client side.\r\n   * Otherwise, you'll get/set the data right from the monitor part.\r\n   */\r\n  features?: {\r\n    /**\r\n     * start/pause recording of dispatched actions\r\n     */\r\n    pause?: boolean\r\n    /**\r\n     * lock/unlock dispatching actions and side effects\r\n     */\r\n    lock?: boolean\r\n    /**\r\n     * persist states on page reloading\r\n     */\r\n    persist?: boolean\r\n    /**\r\n     * export history of actions in a file\r\n     */\r\n    export?: boolean | 'custom'\r\n    /**\r\n     * import history of actions from a file\r\n     */\r\n    import?: boolean | 'custom'\r\n    /**\r\n     * jump back and forth (time travelling)\r\n     */\r\n    jump?: boolean\r\n    /**\r\n     * skip (cancel) actions\r\n     */\r\n    skip?: boolean\r\n    /**\r\n     * drag and drop actions in the history list\r\n     */\r\n    reorder?: boolean\r\n    /**\r\n     * dispatch custom actions or action creators\r\n     */\r\n    dispatch?: boolean\r\n    /**\r\n     * generate tests for the selected actions\r\n     */\r\n    test?: boolean\r\n  }\r\n  /**\r\n   * Set to true or a stacktrace-returning function to record call stack traces for dispatched actions.\r\n   * Defaults to false.\r\n   */\r\n  trace?: boolean | (<A extends Action>(action: A) => string)\r\n  /**\r\n   * The maximum number of stack trace entries to record per action. Defaults to 10.\r\n   */\r\n  traceLimit?: number\r\n}\r\n\r\ntype Compose = typeof compose\r\n\r\ninterface ComposeWithDevTools {\r\n  (options: DevToolsEnhancerOptions): Compose\r\n  <StoreExt>(...funcs: StoreEnhancer<StoreExt>[]): StoreEnhancer<StoreExt>\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport const composeWithDevTools: ComposeWithDevTools =\r\n  typeof window !== 'undefined' &&\r\n  (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    : function () {\r\n        if (arguments.length === 0) return undefined\r\n        if (typeof arguments[0] === 'object') return compose\r\n        return compose.apply(null, arguments as any as Function[])\r\n      }\r\n\r\n/**\r\n * @public\r\n */\r\nexport const devToolsEnhancer: {\r\n  (options: DevToolsEnhancerOptions): StoreEnhancer<any>\r\n} =\r\n  typeof window !== 'undefined' && (window as any).__REDUX_DEVTOOLS_EXTENSION__\r\n    ? (window as any).__REDUX_DEVTOOLS_EXTENSION__\r\n    : function () {\r\n        return function (noop) {\r\n          return noop\r\n        }\r\n      }\r\n","/**\r\n * Returns true if the passed value is \"plain\" object, i.e. an object whose\r\n * prototype is the root `Object.prototype`. This includes objects created\r\n * using object literals, but not for instance for class instances.\r\n *\r\n * @param {any} value The value to inspect.\r\n * @returns {boolean} True if the argument appears to be a plain object.\r\n *\r\n * @public\r\n */\r\nexport default function isPlainObject(value: unknown): value is object {\r\n  if (typeof value !== 'object' || value === null) return false\r\n\r\n  let proto = Object.getPrototypeOf(value)\r\n  if (proto === null) return true\r\n\r\n  let baseProto = proto\r\n  while (Object.getPrototypeOf(baseProto) !== null) {\r\n    baseProto = Object.getPrototypeOf(baseProto)\r\n  }\r\n\r\n  return proto === baseProto\r\n}\r\n","import createNextState, { isDraftable } from 'immer'\r\nimport type { Middleware } from 'redux'\r\n\r\nexport function getTimeMeasureUtils(maxDelay: number, fnName: string) {\r\n  let elapsed = 0\r\n  return {\r\n    measureTime<T>(fn: () => T): T {\r\n      const started = Date.now()\r\n      try {\r\n        return fn()\r\n      } finally {\r\n        const finished = Date.now()\r\n        elapsed += finished - started\r\n      }\r\n    },\r\n    warnIfExceeded() {\r\n      if (elapsed > maxDelay) {\r\n        console.warn(`${fnName} took ${elapsed}ms, which is more than the warning threshold of ${maxDelay}ms. \r\nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\r\nIt is disabled in production builds, so you don't need to worry about that.`)\r\n      }\r\n    },\r\n  }\r\n}\r\n\r\nexport function delay(ms: number) {\r\n  return new Promise((resolve) => setTimeout(resolve, ms))\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport class MiddlewareArray<\r\n  Middlewares extends Middleware<any, any>[]\r\n> extends Array<Middlewares[number]> {\r\n  constructor(...items: Middlewares)\r\n  constructor(...args: any[]) {\r\n    super(...args)\r\n    Object.setPrototypeOf(this, MiddlewareArray.prototype)\r\n  }\r\n\r\n  static get [Symbol.species]() {\r\n    return MiddlewareArray as any\r\n  }\r\n\r\n  concat<AdditionalMiddlewares extends ReadonlyArray<Middleware<any, any>>>(\r\n    items: AdditionalMiddlewares\r\n  ): MiddlewareArray<[...Middlewares, ...AdditionalMiddlewares]>\r\n\r\n  concat<AdditionalMiddlewares extends ReadonlyArray<Middleware<any, any>>>(\r\n    ...items: AdditionalMiddlewares\r\n  ): MiddlewareArray<[...Middlewares, ...AdditionalMiddlewares]>\r\n  concat(...arr: any[]) {\r\n    return super.concat.apply(this, arr)\r\n  }\r\n\r\n  prepend<AdditionalMiddlewares extends ReadonlyArray<Middleware<any, any>>>(\r\n    items: AdditionalMiddlewares\r\n  ): MiddlewareArray<[...AdditionalMiddlewares, ...Middlewares]>\r\n\r\n  prepend<AdditionalMiddlewares extends ReadonlyArray<Middleware<any, any>>>(\r\n    ...items: AdditionalMiddlewares\r\n  ): MiddlewareArray<[...AdditionalMiddlewares, ...Middlewares]>\r\n\r\n  prepend(...arr: any[]) {\r\n    if (arr.length === 1 && Array.isArray(arr[0])) {\r\n      return new MiddlewareArray(...arr[0].concat(this))\r\n    }\r\n    return new MiddlewareArray(...arr.concat(this))\r\n  }\r\n}\r\n\r\nexport function freezeDraftable<T>(val: T) {\r\n  return isDraftable(val) ? createNextState(val, () => {}) : val\r\n}\r\n","import type { Middleware, AnyAction } from 'redux'\r\nimport type { ThunkMiddleware } from 'redux-thunk'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport type { ImmutableStateInvariantMiddlewareOptions } from './immutableStateInvariantMiddleware'\r\n/* PROD_START_REMOVE_UMD */\r\nimport { createImmutableStateInvariantMiddleware } from './immutableStateInvariantMiddleware'\r\n/* PROD_STOP_REMOVE_UMD */\r\n\r\nimport type { SerializableStateInvariantMiddlewareOptions } from './serializableStateInvariantMiddleware'\r\nimport { createSerializableStateInvariantMiddleware } from './serializableStateInvariantMiddleware'\r\nimport type { ExcludeFromTuple } from './tsHelpers'\r\nimport { MiddlewareArray } from './utils'\r\n\r\nfunction isBoolean(x: any): x is boolean {\r\n  return typeof x === 'boolean'\r\n}\r\n\r\ninterface ThunkOptions<E = any> {\r\n  extraArgument: E\r\n}\r\n\r\ninterface GetDefaultMiddlewareOptions {\r\n  thunk?: boolean | ThunkOptions\r\n  immutableCheck?: boolean | ImmutableStateInvariantMiddlewareOptions\r\n  serializableCheck?: boolean | SerializableStateInvariantMiddlewareOptions\r\n}\r\n\r\nexport type ThunkMiddlewareFor<\r\n  S,\r\n  O extends GetDefaultMiddlewareOptions = {}\r\n> = O extends {\r\n  thunk: false\r\n}\r\n  ? never\r\n  : O extends { thunk: { extraArgument: infer E } }\r\n  ? ThunkMiddleware<S, AnyAction, E>\r\n  : ThunkMiddleware<S, AnyAction>\r\n\r\nexport type CurriedGetDefaultMiddleware<S = any> = <\r\n  O extends Partial<GetDefaultMiddlewareOptions> = {\r\n    thunk: true\r\n    immutableCheck: true\r\n    serializableCheck: true\r\n  }\r\n>(\r\n  options?: O\r\n) => MiddlewareArray<ExcludeFromTuple<[ThunkMiddlewareFor<S, O>], never>>\r\n\r\nexport function curryGetDefaultMiddleware<\r\n  S = any\r\n>(): CurriedGetDefaultMiddleware<S> {\r\n  return function curriedGetDefaultMiddleware(options) {\r\n    return getDefaultMiddleware(options)\r\n  }\r\n}\r\n\r\n/**\r\n * Returns any array containing the default middleware installed by\r\n * `configureStore()`. Useful if you want to configure your store with a custom\r\n * `middleware` array but still keep the default set.\r\n *\r\n * @return The default middleware used by `configureStore()`.\r\n *\r\n * @public\r\n *\r\n * @deprecated Prefer to use the callback notation for the `middleware` option in `configureStore`\r\n * to access a pre-typed `getDefaultMiddleware` instead.\r\n */\r\nexport function getDefaultMiddleware<\r\n  S = any,\r\n  O extends Partial<GetDefaultMiddlewareOptions> = {\r\n    thunk: true\r\n    immutableCheck: true\r\n    serializableCheck: true\r\n  }\r\n>(\r\n  options: O = {} as O\r\n): MiddlewareArray<ExcludeFromTuple<[ThunkMiddlewareFor<S, O>], never>> {\r\n  const {\r\n    thunk = true,\r\n    immutableCheck = true,\r\n    serializableCheck = true,\r\n  } = options\r\n\r\n  let middlewareArray = new MiddlewareArray<Middleware[]>()\r\n\r\n  if (thunk) {\r\n    if (isBoolean(thunk)) {\r\n      middlewareArray.push(thunkMiddleware)\r\n    } else {\r\n      middlewareArray.push(\r\n        thunkMiddleware.withExtraArgument(thunk.extraArgument)\r\n      )\r\n    }\r\n  }\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (immutableCheck) {\r\n      /* PROD_START_REMOVE_UMD */\r\n      let immutableOptions: ImmutableStateInvariantMiddlewareOptions = {}\r\n\r\n      if (!isBoolean(immutableCheck)) {\r\n        immutableOptions = immutableCheck\r\n      }\r\n\r\n      middlewareArray.unshift(\r\n        createImmutableStateInvariantMiddleware(immutableOptions)\r\n      )\r\n      /* PROD_STOP_REMOVE_UMD */\r\n    }\r\n\r\n    if (serializableCheck) {\r\n      let serializableOptions: SerializableStateInvariantMiddlewareOptions = {}\r\n\r\n      if (!isBoolean(serializableCheck)) {\r\n        serializableOptions = serializableCheck\r\n      }\r\n\r\n      middlewareArray.push(\r\n        createSerializableStateInvariantMiddleware(serializableOptions)\r\n      )\r\n    }\r\n  }\r\n\r\n  return middlewareArray as any\r\n}\r\n","import type {\r\n  Reducer,\r\n  ReducersMapObject,\r\n  Middleware,\r\n  Action,\r\n  AnyAction,\r\n  StoreEnhancer,\r\n  Store,\r\n  Dispatch,\r\n  PreloadedState,\r\n  CombinedState,\r\n} from 'redux'\r\nimport { createStore, compose, applyMiddleware, combineReducers } from 'redux'\r\nimport type { DevToolsEnhancerOptions as DevToolsOptions } from './devtoolsExtension'\r\nimport { composeWithDevTools } from './devtoolsExtension'\r\n\r\nimport isPlainObject from './isPlainObject'\r\nimport type {\r\n  ThunkMiddlewareFor,\r\n  CurriedGetDefaultMiddleware,\r\n} from './getDefaultMiddleware'\r\nimport { curryGetDefaultMiddleware } from './getDefaultMiddleware'\r\nimport type {\r\n  NoInfer,\r\n  ExtractDispatchExtensions,\r\n  ExtractStoreExtensions,\r\n} from './tsHelpers'\r\n\r\nconst IS_PRODUCTION = process.env.NODE_ENV === 'production'\r\n\r\n/**\r\n * Callback function type, to be used in `ConfigureStoreOptions.enhancers`\r\n *\r\n * @public\r\n */\r\nexport type ConfigureEnhancersCallback<E extends Enhancers = Enhancers> = (\r\n    defaultEnhancers: readonly StoreEnhancer[]\r\n) => [...E]\r\n\r\n/**\r\n * Options for `configureStore()`.\r\n *\r\n * @public\r\n */\r\nexport interface ConfigureStoreOptions<\r\n  S = any,\r\n  A extends Action = AnyAction,\r\n  M extends Middlewares<S> = Middlewares<S>,\r\n  E extends Enhancers = Enhancers\r\n> {\r\n  /**\r\n   * A single reducer function that will be used as the root reducer, or an\r\n   * object of slice reducers that will be passed to `combineReducers()`.\r\n   */\r\n  reducer: Reducer<S, A> | ReducersMapObject<S, A>\r\n\r\n  /**\r\n   * An array of Redux middleware to install. If not supplied, defaults to\r\n   * the set of middleware returned by `getDefaultMiddleware()`.\r\n   *\r\n   * @example `middleware: (gDM) => gDM().concat(logger, apiMiddleware, yourCustomMiddleware)`\r\n   * @see https://redux-toolkit.js.org/api/getDefaultMiddleware#intended-usage\r\n   */\r\n  middleware?: ((getDefaultMiddleware: CurriedGetDefaultMiddleware<S>) => M) | M\r\n\r\n  /**\r\n   * Whether to enable Redux DevTools integration. Defaults to `true`.\r\n   *\r\n   * Additional configuration can be done by passing Redux DevTools options\r\n   */\r\n  devTools?: boolean | DevToolsOptions\r\n\r\n  /**\r\n   * The initial state, same as Redux's createStore.\r\n   * You may optionally specify it to hydrate the state\r\n   * from the server in universal apps, or to restore a previously serialized\r\n   * user session. If you use `combineReducers()` to produce the root reducer\r\n   * function (either directly or indirectly by passing an object as `reducer`),\r\n   * this must be an object with the same shape as the reducer map keys.\r\n   */\r\n  /*\r\n  Not 100% correct but the best approximation we can get:\r\n  - if S is a `CombinedState` applying a second `CombinedState` on it does not change anything.\r\n  - if it is not, there could be two cases:\r\n    - `ReducersMapObject<S, A>` is being passed in. In this case, we will call `combineReducers` on it and `CombinedState<S>` is correct\r\n    - `Reducer<S, A>` is being passed in. In this case, actually `CombinedState<S>` is wrong and `S` would be correct.\r\n    As we cannot distinguish between those two cases without adding another generic parameter,\r\n    we just make the pragmatic assumption that the latter almost never happens.\r\n  */\r\n  preloadedState?: PreloadedState<CombinedState<NoInfer<S>>>\r\n\r\n  /**\r\n   * The store enhancers to apply. See Redux's `createStore()`.\r\n   * All enhancers will be included before the DevTools Extension enhancer.\r\n   * If you need to customize the order of enhancers, supply a callback\r\n   * function that will receive the original array (ie, `[applyMiddleware]`),\r\n   * and should return a new array (such as `[applyMiddleware, offline]`).\r\n   * If you only need to add middleware, you can use the `middleware` parameter instead.\r\n   */\r\n  enhancers?: E | ConfigureEnhancersCallback<E>\r\n}\r\n\r\ntype Middlewares<S> = ReadonlyArray<Middleware<{}, S>>\r\n\r\ntype Enhancers = ReadonlyArray<StoreEnhancer>\r\n\r\nexport interface ToolkitStore<\r\n  S = any,\r\n  A extends Action = AnyAction,\r\n  M extends Middlewares<S> = Middlewares<S>,\r\n> extends Store<S, A> {\r\n  /**\r\n   * The `dispatch` method of your store, enhanced by all its middlewares.\r\n   *\r\n   * @inheritdoc\r\n   */\r\n  dispatch: ExtractDispatchExtensions<M> & Dispatch<A>\r\n}\r\n\r\n/**\r\n * A Redux store returned by `configureStore()`. Supports dispatching\r\n * side-effectful _thunks_ in addition to plain actions.\r\n *\r\n * @public\r\n */\r\nexport type EnhancedStore<\r\n  S = any,\r\n  A extends Action = AnyAction,\r\n  M extends Middlewares<S> = Middlewares<S>,\r\n  E extends Enhancers = Enhancers\r\n> = ToolkitStore<S, A, M> & ExtractStoreExtensions<E>\r\n\r\n/**\r\n * A friendly abstraction over the standard Redux `createStore()` function.\r\n *\r\n * @param options The store configuration.\r\n * @returns A configured Redux store.\r\n *\r\n * @public\r\n */\r\nexport function configureStore<\r\n  S = any,\r\n  A extends Action = AnyAction,\r\n  M extends Middlewares<S> = [ThunkMiddlewareFor<S>],\r\n  E extends Enhancers = [StoreEnhancer]\r\n>(options: ConfigureStoreOptions<S, A, M, E>): EnhancedStore<S, A, M, E> {\r\n  const curriedGetDefaultMiddleware = curryGetDefaultMiddleware<S>()\r\n\r\n  const {\r\n    reducer = undefined,\r\n    middleware = curriedGetDefaultMiddleware(),\r\n    devTools = true,\r\n    preloadedState = undefined,\r\n    enhancers = undefined,\r\n  } = options || {}\r\n\r\n  let rootReducer: Reducer<S, A>\r\n\r\n  if (typeof reducer === 'function') {\r\n    rootReducer = reducer\r\n  } else if (isPlainObject(reducer)) {\r\n    rootReducer = combineReducers(reducer) as unknown as Reducer<S, A>\r\n  } else {\r\n    throw new Error(\r\n      '\"reducer\" is a required argument, and must be a function or an object of functions that can be passed to combineReducers'\r\n    )\r\n  }\r\n\r\n  let finalMiddleware = middleware\r\n  if (typeof finalMiddleware === 'function') {\r\n    finalMiddleware = finalMiddleware(curriedGetDefaultMiddleware)\r\n\r\n    if (!IS_PRODUCTION && !Array.isArray(finalMiddleware)) {\r\n      throw new Error(\r\n        'when using a middleware builder function, an array of middleware must be returned'\r\n      )\r\n    }\r\n  }\r\n  if (\r\n    !IS_PRODUCTION &&\r\n    finalMiddleware.some((item: any) => typeof item !== 'function')\r\n  ) {\r\n    throw new Error(\r\n      'each middleware provided to configureStore must be a function'\r\n    )\r\n  }\r\n\r\n  const middlewareEnhancer: StoreEnhancer = applyMiddleware(...finalMiddleware)\r\n\r\n  let finalCompose = compose\r\n\r\n  if (devTools) {\r\n    finalCompose = composeWithDevTools({\r\n      // Enable capture of stack traces for dispatched Redux actions\r\n      trace: !IS_PRODUCTION,\r\n      ...(typeof devTools === 'object' && devTools),\r\n    })\r\n  }\r\n\r\n  let storeEnhancers: Enhancers = [middlewareEnhancer]\r\n\r\n  if (Array.isArray(enhancers)) {\r\n    storeEnhancers = [middlewareEnhancer, ...enhancers]\r\n  } else if (typeof enhancers === 'function') {\r\n    storeEnhancers = enhancers(storeEnhancers)\r\n  }\r\n\r\n  const composedEnhancer = finalCompose(...storeEnhancers) as StoreEnhancer<any>\r\n\r\n  return createStore(rootReducer, preloadedState, composedEnhancer)\r\n}\r\n","import type { Action } from 'redux'\r\nimport type {\r\n  IsUnknownOrNonInferrable,\r\n  IfMaybeUndefined,\r\n  IfVoid,\r\n  IsAny,\r\n} from './tsHelpers'\r\nimport isPlainObject from './isPlainObject'\r\n\r\n/**\r\n * An action with a string type and an associated payload. This is the\r\n * type of action returned by `createAction()` action creators.\r\n *\r\n * @template P The type of the action's payload.\r\n * @template T the type used for the action type.\r\n * @template M The type of the action's meta (optional)\r\n * @template E The type of the action's error (optional)\r\n *\r\n * @public\r\n */\r\nexport type PayloadAction<\r\n  P = void,\r\n  T extends string = string,\r\n  M = never,\r\n  E = never\r\n> = {\r\n  payload: P\r\n  type: T\r\n} & ([M] extends [never]\r\n  ? {}\r\n  : {\r\n      meta: M\r\n    }) &\r\n  ([E] extends [never]\r\n    ? {}\r\n    : {\r\n        error: E\r\n      })\r\n\r\n/**\r\n * A \"prepare\" method to be used as the second parameter of `createAction`.\r\n * Takes any number of arguments and returns a Flux Standard Action without\r\n * type (will be added later) that *must* contain a payload (might be undefined).\r\n *\r\n * @public\r\n */\r\nexport type PrepareAction<P> =\r\n  | ((...args: any[]) => { payload: P })\r\n  | ((...args: any[]) => { payload: P; meta: any })\r\n  | ((...args: any[]) => { payload: P; error: any })\r\n  | ((...args: any[]) => { payload: P; meta: any; error: any })\r\n\r\n/**\r\n * Internal version of `ActionCreatorWithPreparedPayload`. Not to be used externally.\r\n *\r\n * @internal\r\n */\r\nexport type _ActionCreatorWithPreparedPayload<\r\n  PA extends PrepareAction<any> | void,\r\n  T extends string = string\r\n> = PA extends PrepareAction<infer P>\r\n  ? ActionCreatorWithPreparedPayload<\r\n      Parameters<PA>,\r\n      P,\r\n      T,\r\n      ReturnType<PA> extends {\r\n        error: infer E\r\n      }\r\n        ? E\r\n        : never,\r\n      ReturnType<PA> extends {\r\n        meta: infer M\r\n      }\r\n        ? M\r\n        : never\r\n    >\r\n  : void\r\n\r\n/**\r\n * Basic type for all action creators.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n */\r\nexport interface BaseActionCreator<P, T extends string, M = never, E = never> {\r\n  type: T\r\n  match: (action: Action<unknown>) => action is PayloadAction<P, T, M, E>\r\n}\r\n\r\n/**\r\n * An action creator that takes multiple arguments that are passed\r\n * to a `PrepareAction` method to create the final Action.\r\n * @typeParam Args arguments for the action creator function\r\n * @typeParam P `payload` type\r\n * @typeParam T `type` name\r\n * @typeParam E optional `error` type\r\n * @typeParam M optional `meta` type\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithPreparedPayload<\r\n  Args extends unknown[],\r\n  P,\r\n  T extends string = string,\r\n  E = never,\r\n  M = never\r\n> extends BaseActionCreator<P, T, M, E> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with `Args` will return\r\n   * an Action with a payload of type `P` and (depending on the `PrepareAction`\r\n   * method used) a `meta`- and `error` property of types `M` and `E` respectively.\r\n   */\r\n  (...args: Args): PayloadAction<P, T, M, E>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` that takes an optional payload of type `P`.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithOptionalPayload<P, T extends string = string>\r\n  extends BaseActionCreator<P, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with an argument will\r\n   * return a {@link PayloadAction} of type `T` with a payload of `P`.\r\n   * Calling it without an argument will return a PayloadAction with a payload of `undefined`.\r\n   */\r\n  (payload?: P): PayloadAction<P, T>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` that takes no payload.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithoutPayload<T extends string = string>\r\n  extends BaseActionCreator<undefined, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} will\r\n   * return a {@link PayloadAction} of type `T` with a payload of `undefined`\r\n   */\r\n  (noArgument: void): PayloadAction<undefined, T>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` that requires a payload of type P.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithPayload<P, T extends string = string>\r\n  extends BaseActionCreator<P, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with an argument will\r\n   * return a {@link PayloadAction} of type `T` with a payload of `P`\r\n   */\r\n  (payload: P): PayloadAction<P, T>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` whose `payload` type could not be inferred. Accepts everything as `payload`.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithNonInferrablePayload<\r\n  T extends string = string\r\n> extends BaseActionCreator<unknown, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with an argument will\r\n   * return a {@link PayloadAction} of type `T` with a payload\r\n   * of exactly the type of the argument.\r\n   */\r\n  <PT extends unknown>(payload: PT): PayloadAction<PT, T>\r\n}\r\n\r\n/**\r\n * An action creator that produces actions with a `payload` attribute.\r\n *\r\n * @typeParam P the `payload` type\r\n * @typeParam T the `type` of the resulting action\r\n * @typeParam PA if the resulting action is preprocessed by a `prepare` method, the signature of said method.\r\n *\r\n * @public\r\n */\r\nexport type PayloadActionCreator<\r\n  P = void,\r\n  T extends string = string,\r\n  PA extends PrepareAction<P> | void = void\r\n> = IfPrepareActionMethodProvided<\r\n  PA,\r\n  _ActionCreatorWithPreparedPayload<PA, T>,\r\n  // else\r\n  IsAny<\r\n    P,\r\n    ActionCreatorWithPayload<any, T>,\r\n    IsUnknownOrNonInferrable<\r\n      P,\r\n      ActionCreatorWithNonInferrablePayload<T>,\r\n      // else\r\n      IfVoid<\r\n        P,\r\n        ActionCreatorWithoutPayload<T>,\r\n        // else\r\n        IfMaybeUndefined<\r\n          P,\r\n          ActionCreatorWithOptionalPayload<P, T>,\r\n          // else\r\n          ActionCreatorWithPayload<P, T>\r\n        >\r\n      >\r\n    >\r\n  >\r\n>\r\n\r\n/**\r\n * A utility function to create an action creator for the given action type\r\n * string. The action creator accepts a single argument, which will be included\r\n * in the action object as a field called payload. The action creator function\r\n * will also have its toString() overriden so that it returns the action type,\r\n * allowing it to be used in reducer logic that is looking for that action type.\r\n *\r\n * @param type The action type to use for created actions.\r\n * @param prepare (optional) a method that takes any number of arguments and returns { payload } or { payload, meta }.\r\n *                If this is given, the resulting action creator will pass its arguments to this method to calculate payload & meta.\r\n *\r\n * @public\r\n */\r\nexport function createAction<P = void, T extends string = string>(\r\n  type: T\r\n): PayloadActionCreator<P, T>\r\n\r\n/**\r\n * A utility function to create an action creator for the given action type\r\n * string. The action creator accepts a single argument, which will be included\r\n * in the action object as a field called payload. The action creator function\r\n * will also have its toString() overriden so that it returns the action type,\r\n * allowing it to be used in reducer logic that is looking for that action type.\r\n *\r\n * @param type The action type to use for created actions.\r\n * @param prepare (optional) a method that takes any number of arguments and returns { payload } or { payload, meta }.\r\n *                If this is given, the resulting action creator will pass its arguments to this method to calculate payload & meta.\r\n *\r\n * @public\r\n */\r\nexport function createAction<\r\n  PA extends PrepareAction<any>,\r\n  T extends string = string\r\n>(\r\n  type: T,\r\n  prepareAction: PA\r\n): PayloadActionCreator<ReturnType<PA>['payload'], T, PA>\r\n\r\nexport function createAction(type: string, prepareAction?: Function): any {\r\n  function actionCreator(...args: any[]) {\r\n    if (prepareAction) {\r\n      let prepared = prepareAction(...args)\r\n      if (!prepared) {\r\n        throw new Error('prepareAction did not return an object')\r\n      }\r\n\r\n      return {\r\n        type,\r\n        payload: prepared.payload,\r\n        ...('meta' in prepared && { meta: prepared.meta }),\r\n        ...('error' in prepared && { error: prepared.error }),\r\n      }\r\n    }\r\n    return { type, payload: args[0] }\r\n  }\r\n\r\n  actionCreator.toString = () => `${type}`\r\n\r\n  actionCreator.type = type\r\n\r\n  actionCreator.match = (action: Action<unknown>): action is PayloadAction =>\r\n    action.type === type\r\n\r\n  return actionCreator\r\n}\r\n\r\nexport function isFSA(action: unknown): action is {\r\n  type: string\r\n  payload?: unknown\r\n  error?: unknown\r\n  meta?: unknown\r\n} {\r\n  return (\r\n    isPlainObject(action) &&\r\n    typeof (action as any).type === 'string' &&\r\n    Object.keys(action).every(isValidKey)\r\n  )\r\n}\r\n\r\nfunction isValidKey(key: string) {\r\n  return ['type', 'payload', 'error', 'meta'].indexOf(key) > -1\r\n}\r\n\r\n/**\r\n * Returns the action type of the actions created by the passed\r\n * `createAction()`-generated action creator (arbitrary action creators\r\n * are not supported).\r\n *\r\n * @param action The action creator whose action type to get.\r\n * @returns The action type used by the action creator.\r\n *\r\n * @public\r\n */\r\nexport function getType<T extends string>(\r\n  actionCreator: PayloadActionCreator<any, T>\r\n): T {\r\n  return `${actionCreator}` as T\r\n}\r\n\r\n// helper types for more readable typings\r\n\r\ntype IfPrepareActionMethodProvided<\r\n  PA extends PrepareAction<any> | void,\r\n  True,\r\n  False\r\n> = PA extends (...args: any[]) => any ? True : False\r\n","import type { Action, AnyAction } from 'redux'\r\nimport type {\r\n  CaseReducer,\r\n  CaseReducers,\r\n  ActionMatcherDescriptionCollection,\r\n} from './createReducer'\r\nimport type { TypeGuard } from './tsHelpers'\r\n\r\nexport interface TypedActionCreator<Type extends string> {\r\n  (...args: any[]): Action<Type>\r\n  type: Type\r\n}\r\n\r\n/**\r\n * A builder for an action <-> reducer map.\r\n *\r\n * @public\r\n */\r\nexport interface ActionReducerMapBuilder<State> {\r\n  /**\r\n   * Adds a case reducer to handle a single exact action type.\r\n   * @remarks\r\n   * All calls to `builder.addCase` must come before any calls to `builder.addMatcher` or `builder.addDefaultCase`.\r\n   * @param actionCreator - Either a plain action type string, or an action creator generated by [`createAction`](./createAction) that can be used to determine the action type.\r\n   * @param reducer - The actual case reducer function.\r\n   */\r\n  addCase<ActionCreator extends TypedActionCreator<string>>(\r\n    actionCreator: ActionCreator,\r\n    reducer: CaseReducer<State, ReturnType<ActionCreator>>\r\n  ): ActionReducerMapBuilder<State>\r\n  /**\r\n   * Adds a case reducer to handle a single exact action type.\r\n   * @remarks\r\n   * All calls to `builder.addCase` must come before any calls to `builder.addMatcher` or `builder.addDefaultCase`.\r\n   * @param actionCreator - Either a plain action type string, or an action creator generated by [`createAction`](./createAction) that can be used to determine the action type.\r\n   * @param reducer - The actual case reducer function.\r\n   */\r\n  addCase<Type extends string, A extends Action<Type>>(\r\n    type: Type,\r\n    reducer: CaseReducer<State, A>\r\n  ): ActionReducerMapBuilder<State>\r\n\r\n  /**\r\n   * Allows you to match your incoming actions against your own filter function instead of only the `action.type` property.\r\n   * @remarks\r\n   * If multiple matcher reducers match, all of them will be executed in the order\r\n   * they were defined in - even if a case reducer already matched.\r\n   * All calls to `builder.addMatcher` must come after any calls to `builder.addCase` and before any calls to `builder.addDefaultCase`.\r\n   * @param matcher - A matcher function. In TypeScript, this should be a [type predicate](https://www.typescriptlang.org/docs/handbook/advanced-types.html#using-type-predicates)\r\n   *   function\r\n   * @param reducer - The actual case reducer function.\r\n   *\r\n   * @example\r\n```ts\r\nimport {\r\n  createAction,\r\n  createReducer,\r\n  AsyncThunk,\r\n  AnyAction,\r\n} from \"@reduxjs/toolkit\";\r\n\r\ntype GenericAsyncThunk = AsyncThunk<unknown, unknown, any>;\r\n\r\ntype PendingAction = ReturnType<GenericAsyncThunk[\"pending\"]>;\r\ntype RejectedAction = ReturnType<GenericAsyncThunk[\"rejected\"]>;\r\ntype FulfilledAction = ReturnType<GenericAsyncThunk[\"fulfilled\"]>;\r\n\r\nconst initialState: Record<string, string> = {};\r\nconst resetAction = createAction(\"reset-tracked-loading-state\");\r\n\r\nfunction isPendingAction(action: AnyAction): action is PendingAction {\r\n  return action.type.endsWith(\"/pending\");\r\n}\r\n\r\nconst reducer = createReducer(initialState, (builder) => {\r\n  builder\r\n    .addCase(resetAction, () => initialState)\r\n    // matcher can be defined outside as a type predicate function\r\n    .addMatcher(isPendingAction, (state, action) => {\r\n      state[action.meta.requestId] = \"pending\";\r\n    })\r\n    .addMatcher(\r\n      // matcher can be defined inline as a type predicate function\r\n      (action): action is RejectedAction => action.type.endsWith(\"/rejected\"),\r\n      (state, action) => {\r\n        state[action.meta.requestId] = \"rejected\";\r\n      }\r\n    )\r\n    // matcher can just return boolean and the matcher can receive a generic argument\r\n    .addMatcher<FulfilledAction>(\r\n      (action) => action.type.endsWith(\"/fulfilled\"),\r\n      (state, action) => {\r\n        state[action.meta.requestId] = \"fulfilled\";\r\n      }\r\n    );\r\n});\r\n```\r\n   */\r\n  addMatcher<A>(\r\n    matcher: TypeGuard<A> | ((action: any) => boolean),\r\n    reducer: CaseReducer<State, A extends AnyAction ? A : A & AnyAction>\r\n  ): Omit<ActionReducerMapBuilder<State>, 'addCase'>\r\n\r\n  /**\r\n   * Adds a \"default case\" reducer that is executed if no case reducer and no matcher\r\n   * reducer was executed for this action.\r\n   * @param reducer - The fallback \"default case\" reducer function.\r\n   *\r\n   * @example\r\n```ts\r\nimport { createReducer } from '@reduxjs/toolkit'\r\nconst initialState = { otherActions: 0 }\r\nconst reducer = createReducer(initialState, builder => {\r\n  builder\r\n    // .addCase(...)\r\n    // .addMatcher(...)\r\n    .addDefaultCase((state, action) => {\r\n      state.otherActions++\r\n    })\r\n})\r\n```\r\n   */\r\n  addDefaultCase(reducer: CaseReducer<State, AnyAction>): {}\r\n}\r\n\r\nexport function executeReducerBuilderCallback<S>(\r\n  builderCallback: (builder: ActionReducerMapBuilder<S>) => void\r\n): [\r\n  CaseReducers<S, any>,\r\n  ActionMatcherDescriptionCollection<S>,\r\n  CaseReducer<S, AnyAction> | undefined\r\n] {\r\n  const actionsMap: CaseReducers<S, any> = {}\r\n  const actionMatchers: ActionMatcherDescriptionCollection<S> = []\r\n  let defaultCaseReducer: CaseReducer<S, AnyAction> | undefined\r\n  const builder = {\r\n    addCase(\r\n      typeOrActionCreator: string | TypedActionCreator<any>,\r\n      reducer: CaseReducer<S>\r\n    ) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        /*\r\n         to keep the definition by the user in line with actual behavior, \r\n         we enforce `addCase` to always be called before calling `addMatcher`\r\n         as matching cases take precedence over matchers\r\n         */\r\n        if (actionMatchers.length > 0) {\r\n          throw new Error(\r\n            '`builder.addCase` should only be called before calling `builder.addMatcher`'\r\n          )\r\n        }\r\n        if (defaultCaseReducer) {\r\n          throw new Error(\r\n            '`builder.addCase` should only be called before calling `builder.addDefaultCase`'\r\n          )\r\n        }\r\n      }\r\n      const type =\r\n        typeof typeOrActionCreator === 'string'\r\n          ? typeOrActionCreator\r\n          : typeOrActionCreator.type\r\n      if (type in actionsMap) {\r\n        throw new Error(\r\n          'addCase cannot be called with two reducers for the same action type'\r\n        )\r\n      }\r\n      actionsMap[type] = reducer\r\n      return builder\r\n    },\r\n    addMatcher<A>(\r\n      matcher: TypeGuard<A>,\r\n      reducer: CaseReducer<S, A extends AnyAction ? A : A & AnyAction>\r\n    ) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        if (defaultCaseReducer) {\r\n          throw new Error(\r\n            '`builder.addMatcher` should only be called before calling `builder.addDefaultCase`'\r\n          )\r\n        }\r\n      }\r\n      actionMatchers.push({ matcher, reducer })\r\n      return builder\r\n    },\r\n    addDefaultCase(reducer: CaseReducer<S, AnyAction>) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        if (defaultCaseReducer) {\r\n          throw new Error('`builder.addDefaultCase` can only be called once')\r\n        }\r\n      }\r\n      defaultCaseReducer = reducer\r\n      return builder\r\n    },\r\n  }\r\n  builderCallback(builder)\r\n  return [actionsMap, actionMatchers, defaultCaseReducer]\r\n}\r\n","import type { AnyAction, Reducer } from 'redux'\r\nimport { createNextState } from '.'\r\nimport type {\r\n  ActionCreatorWithoutPayload,\r\n  PayloadAction,\r\n  PayloadActionCreator,\r\n  PrepareAction,\r\n  _ActionCreatorWithPreparedPayload,\r\n} from './createAction'\r\nimport { createAction } from './createAction'\r\nimport type {\r\n  CaseReducer,\r\n  CaseReducers,\r\n  ReducerWithInitialState,\r\n} from './createReducer'\r\nimport { createReducer, NotFunction } from './createReducer'\r\nimport type { ActionReducerMapBuilder } from './mapBuilders'\r\nimport { executeReducerBuilderCallback } from './mapBuilders'\r\nimport type { NoInfer } from './tsHelpers'\r\nimport { freezeDraftable } from './utils'\r\n\r\nlet hasWarnedAboutObjectNotation = false\r\n\r\n/**\r\n * An action creator attached to a slice.\r\n *\r\n * @deprecated please use PayloadActionCreator directly\r\n *\r\n * @public\r\n */\r\nexport type SliceActionCreator<P> = PayloadActionCreator<P>\r\n\r\n/**\r\n * The return value of `createSlice`\r\n *\r\n * @public\r\n */\r\nexport interface Slice<\r\n  State = any,\r\n  CaseReducers extends SliceCaseReducers<State> = SliceCaseReducers<State>,\r\n  Name extends string = string\r\n> {\r\n  /**\r\n   * The slice name.\r\n   */\r\n  name: Name\r\n\r\n  /**\r\n   * The slice's reducer.\r\n   */\r\n  reducer: Reducer<State>\r\n\r\n  /**\r\n   * Action creators for the types of actions that are handled by the slice\r\n   * reducer.\r\n   */\r\n  actions: CaseReducerActions<CaseReducers, Name>\r\n\r\n  /**\r\n   * The individual case reducer functions that were passed in the `reducers` parameter.\r\n   * This enables reuse and testing if they were defined inline when calling `createSlice`.\r\n   */\r\n  caseReducers: SliceDefinedCaseReducers<CaseReducers>\r\n\r\n  /**\r\n   * Provides access to the initial state value given to the slice.\r\n   * If a lazy state initializer was provided, it will be called and a fresh value returned.\r\n   */\r\n  getInitialState: () => State\r\n}\r\n\r\n/**\r\n * Options for `createSlice()`.\r\n *\r\n * @public\r\n */\r\nexport interface CreateSliceOptions<\r\n  State = any,\r\n  CR extends SliceCaseReducers<State> = SliceCaseReducers<State>,\r\n  Name extends string = string\r\n> {\r\n  /**\r\n   * The slice's name. Used to namespace the generated action types.\r\n   */\r\n  name: Name\r\n\r\n  /**\r\n   * The initial state that should be used when the reducer is called the first time. This may also be a \"lazy initializer\" function, which should return an initial state value when called. This will be used whenever the reducer is called with `undefined` as its state value, and is primarily useful for cases like reading initial state from `localStorage`.\r\n   */\r\n  initialState: State | (() => State)\r\n\r\n  /**\r\n   * A mapping from action types to action-type-specific *case reducer*\r\n   * functions. For every action type, a matching action creator will be\r\n   * generated using `createAction()`.\r\n   */\r\n  reducers: ValidateSliceCaseReducers<State, CR>\r\n\r\n  /**\r\n   * A callback that receives a *builder* object to define\r\n   * case reducers via calls to `builder.addCase(actionCreatorOrType, reducer)`.\r\n   * \r\n   * Alternatively, a mapping from action types to action-type-specific *case reducer*\r\n   * functions. These reducers should have existing action types used\r\n   * as the keys, and action creators will _not_ be generated.\r\n   * \r\n   * @example\r\n```ts\r\nimport { createAction, createSlice, Action, AnyAction } from '@reduxjs/toolkit'\r\nconst incrementBy = createAction<number>('incrementBy')\r\nconst decrement = createAction('decrement')\r\n\r\ninterface RejectedAction extends Action {\r\n  error: Error\r\n}\r\n\r\nfunction isRejectedAction(action: AnyAction): action is RejectedAction {\r\n  return action.type.endsWith('rejected')\r\n}\r\n\r\ncreateSlice({\r\n  name: 'counter',\r\n  initialState: 0,\r\n  reducers: {},\r\n  extraReducers: builder => {\r\n    builder\r\n      .addCase(incrementBy, (state, action) => {\r\n        // action is inferred correctly here if using TS\r\n      })\r\n      // You can chain calls, or have separate `builder.addCase()` lines each time\r\n      .addCase(decrement, (state, action) => {})\r\n      // You can match a range of action types\r\n      .addMatcher(\r\n        isRejectedAction,\r\n        // `action` will be inferred as a RejectedAction due to isRejectedAction being defined as a type guard\r\n        (state, action) => {}\r\n      )\r\n      // and provide a default case if no other handlers matched\r\n      .addDefaultCase((state, action) => {})\r\n    }\r\n})\r\n```\r\n   */\r\n  extraReducers?:\r\n    | CaseReducers<NoInfer<State>, any>\r\n    | ((builder: ActionReducerMapBuilder<NoInfer<State>>) => void)\r\n}\r\n\r\n/**\r\n * A CaseReducer with a `prepare` method.\r\n *\r\n * @public\r\n */\r\nexport type CaseReducerWithPrepare<State, Action extends PayloadAction> = {\r\n  reducer: CaseReducer<State, Action>\r\n  prepare: PrepareAction<Action['payload']>\r\n}\r\n\r\n/**\r\n * The type describing a slice's `reducers` option.\r\n *\r\n * @public\r\n */\r\nexport type SliceCaseReducers<State> = {\r\n  [K: string]:\r\n    | CaseReducer<State, PayloadAction<any>>\r\n    | CaseReducerWithPrepare<State, PayloadAction<any, string, any, any>>\r\n}\r\n\r\ntype SliceActionType<\r\n  SliceName extends string,\r\n  ActionName extends keyof any\r\n> = ActionName extends string | number ? `${SliceName}/${ActionName}` : string\r\n\r\n/**\r\n * Derives the slice's `actions` property from the `reducers` options\r\n *\r\n * @public\r\n */\r\nexport type CaseReducerActions<\r\n  CaseReducers extends SliceCaseReducers<any>,\r\n  SliceName extends string\r\n> = {\r\n  [Type in keyof CaseReducers]: CaseReducers[Type] extends { prepare: any }\r\n    ? ActionCreatorForCaseReducerWithPrepare<\r\n        CaseReducers[Type],\r\n        SliceActionType<SliceName, Type>\r\n      >\r\n    : ActionCreatorForCaseReducer<\r\n        CaseReducers[Type],\r\n        SliceActionType<SliceName, Type>\r\n      >\r\n}\r\n\r\n/**\r\n * Get a `PayloadActionCreator` type for a passed `CaseReducerWithPrepare`\r\n *\r\n * @internal\r\n */\r\ntype ActionCreatorForCaseReducerWithPrepare<\r\n  CR extends { prepare: any },\r\n  Type extends string\r\n> = _ActionCreatorWithPreparedPayload<CR['prepare'], Type>\r\n\r\n/**\r\n * Get a `PayloadActionCreator` type for a passed `CaseReducer`\r\n *\r\n * @internal\r\n */\r\ntype ActionCreatorForCaseReducer<CR, Type extends string> = CR extends (\r\n  state: any,\r\n  action: infer Action\r\n) => any\r\n  ? Action extends { payload: infer P }\r\n    ? PayloadActionCreator<P, Type>\r\n    : ActionCreatorWithoutPayload<Type>\r\n  : ActionCreatorWithoutPayload<Type>\r\n\r\n/**\r\n * Extracts the CaseReducers out of a `reducers` object, even if they are\r\n * tested into a `CaseReducerWithPrepare`.\r\n *\r\n * @internal\r\n */\r\ntype SliceDefinedCaseReducers<CaseReducers extends SliceCaseReducers<any>> = {\r\n  [Type in keyof CaseReducers]: CaseReducers[Type] extends {\r\n    reducer: infer Reducer\r\n  }\r\n    ? Reducer\r\n    : CaseReducers[Type]\r\n}\r\n\r\n/**\r\n * Used on a SliceCaseReducers object.\r\n * Ensures that if a CaseReducer is a `CaseReducerWithPrepare`, that\r\n * the `reducer` and the `prepare` function use the same type of `payload`.\r\n *\r\n * Might do additional such checks in the future.\r\n *\r\n * This type is only ever useful if you want to write your own wrapper around\r\n * `createSlice`. Please don't use it otherwise!\r\n *\r\n * @public\r\n */\r\nexport type ValidateSliceCaseReducers<\r\n  S,\r\n  ACR extends SliceCaseReducers<S>\r\n> = ACR &\r\n  {\r\n    [T in keyof ACR]: ACR[T] extends {\r\n      reducer(s: S, action?: infer A): any\r\n    }\r\n      ? {\r\n          prepare(...a: never[]): Omit<A, 'type'>\r\n        }\r\n      : {}\r\n  }\r\n\r\nfunction getType(slice: string, actionKey: string): string {\r\n  return `${slice}/${actionKey}`\r\n}\r\n\r\n/**\r\n * A function that accepts an initial state, an object full of reducer\r\n * functions, and a \"slice name\", and automatically generates\r\n * action creators and action types that correspond to the\r\n * reducers and state.\r\n *\r\n * The `reducer` argument is passed to `createReducer()`.\r\n *\r\n * @public\r\n */\r\nexport function createSlice<\r\n  State,\r\n  CaseReducers extends SliceCaseReducers<State>,\r\n  Name extends string = string\r\n>(\r\n  options: CreateSliceOptions<State, CaseReducers, Name>\r\n): Slice<State, CaseReducers, Name> {\r\n  const { name } = options\r\n  if (!name) {\r\n    throw new Error('`name` is a required option for createSlice')\r\n  }\r\n\r\n  if (\r\n    typeof process !== 'undefined' &&\r\n    process.env.NODE_ENV === 'development'\r\n  ) {\r\n    if (options.initialState === undefined) {\r\n      console.error(\r\n        'You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`'\r\n      )\r\n    }\r\n  }\r\n\r\n  const initialState =\r\n    typeof options.initialState == 'function'\r\n      ? options.initialState\r\n      : freezeDraftable(options.initialState)\r\n\r\n  const reducers = options.reducers || {}\r\n\r\n  const reducerNames = Object.keys(reducers)\r\n\r\n  const sliceCaseReducersByName: Record<string, CaseReducer> = {}\r\n  const sliceCaseReducersByType: Record<string, CaseReducer> = {}\r\n  const actionCreators: Record<string, Function> = {}\r\n\r\n  reducerNames.forEach((reducerName) => {\r\n    const maybeReducerWithPrepare = reducers[reducerName]\r\n    const type = getType(name, reducerName)\r\n\r\n    let caseReducer: CaseReducer<State, any>\r\n    let prepareCallback: PrepareAction<any> | undefined\r\n\r\n    if ('reducer' in maybeReducerWithPrepare) {\r\n      caseReducer = maybeReducerWithPrepare.reducer\r\n      prepareCallback = maybeReducerWithPrepare.prepare\r\n    } else {\r\n      caseReducer = maybeReducerWithPrepare\r\n    }\r\n\r\n    sliceCaseReducersByName[reducerName] = caseReducer\r\n    sliceCaseReducersByType[type] = caseReducer\r\n    actionCreators[reducerName] = prepareCallback\r\n      ? createAction(type, prepareCallback)\r\n      : createAction(type)\r\n  })\r\n\r\n  function buildReducer() {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (typeof options.extraReducers === 'object') {\r\n        if (!hasWarnedAboutObjectNotation) {\r\n          hasWarnedAboutObjectNotation = true\r\n          console.warn(\r\n            \"The object notation for `createSlice.extraReducers` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice\"\r\n          )\r\n        }\r\n      }\r\n    }\r\n    const [\r\n      extraReducers = {},\r\n      actionMatchers = [],\r\n      defaultCaseReducer = undefined,\r\n    ] =\r\n      typeof options.extraReducers === 'function'\r\n        ? executeReducerBuilderCallback(options.extraReducers)\r\n        : [options.extraReducers]\r\n\r\n    const finalCaseReducers = { ...extraReducers, ...sliceCaseReducersByType }\r\n\r\n    return createReducer(initialState, (builder) => {\r\n      for (let key in finalCaseReducers) {\r\n        builder.addCase(key, finalCaseReducers[key] as CaseReducer<any>)\r\n      }\r\n      for (let m of actionMatchers) {\r\n        builder.addMatcher(m.matcher, m.reducer)\r\n      }\r\n      if (defaultCaseReducer) {\r\n        builder.addDefaultCase(defaultCaseReducer)\r\n      }\r\n    })\r\n  }\r\n\r\n  let _reducer: ReducerWithInitialState<State>\r\n\r\n  return {\r\n    name,\r\n    reducer(state, action) {\r\n      if (!_reducer) _reducer = buildReducer()\r\n\r\n      return _reducer(state, action)\r\n    },\r\n    actions: actionCreators as any,\r\n    caseReducers: sliceCaseReducersByName as any,\r\n    getInitialState() {\r\n      if (!_reducer) _reducer = buildReducer()\r\n\r\n      return _reducer.getInitialState()\r\n    },\r\n  }\r\n}\r\n","import type { Draft } from 'immer'\r\nimport createNextState, { isDraft, isDraftable } from 'immer'\r\nimport type { AnyAction, Action, Reducer } from 'redux'\r\nimport type { ActionReducerMapBuilder } from './mapBuilders'\r\nimport { executeReducerBuilderCallback } from './mapBuilders'\r\nimport type { NoInfer } from './tsHelpers'\r\nimport { freezeDraftable } from './utils'\r\n\r\n/**\r\n * Defines a mapping from action types to corresponding action object shapes.\r\n *\r\n * @deprecated This should not be used manually - it is only used for internal\r\n *             inference purposes and should not have any further value.\r\n *             It might be removed in the future.\r\n * @public\r\n */\r\nexport type Actions<T extends keyof any = string> = Record<T, Action>\r\n\r\n/**\r\n * @deprecated use `TypeGuard` instead\r\n */\r\nexport interface ActionMatcher<A extends AnyAction> {\r\n  (action: AnyAction): action is A\r\n}\r\n\r\nexport type ActionMatcherDescription<S, A extends AnyAction> = {\r\n  matcher: ActionMatcher<A>\r\n  reducer: CaseReducer<S, NoInfer<A>>\r\n}\r\n\r\nexport type ReadonlyActionMatcherDescriptionCollection<S> = ReadonlyArray<\r\n  ActionMatcherDescription<S, any>\r\n>\r\n\r\nexport type ActionMatcherDescriptionCollection<S> = Array<\r\n  ActionMatcherDescription<S, any>\r\n>\r\n\r\n/**\r\n * A *case reducer* is a reducer function for a specific action type. Case\r\n * reducers can be composed to full reducers using `createReducer()`.\r\n *\r\n * Unlike a normal Redux reducer, a case reducer is never called with an\r\n * `undefined` state to determine the initial state. Instead, the initial\r\n * state is explicitly specified as an argument to `createReducer()`.\r\n *\r\n * In addition, a case reducer can choose to mutate the passed-in `state`\r\n * value directly instead of returning a new state. This does not actually\r\n * cause the store state to be mutated directly; instead, thanks to\r\n * [immer](https://github.com/mweststrate/immer), the mutations are\r\n * translated to copy operations that result in a new state.\r\n *\r\n * @public\r\n */\r\nexport type CaseReducer<S = any, A extends Action = AnyAction> = (\r\n  state: Draft<S>,\r\n  action: A\r\n) => NoInfer<S> | void | Draft<NoInfer<S>>\r\n\r\n/**\r\n * A mapping from action types to case reducers for `createReducer()`.\r\n *\r\n * @deprecated This should not be used manually - it is only used\r\n *             for internal inference purposes and using it manually\r\n *             would lead to type erasure.\r\n *             It might be removed in the future.\r\n * @public\r\n */\r\nexport type CaseReducers<S, AS extends Actions> = {\r\n  [T in keyof AS]: AS[T] extends Action ? CaseReducer<S, AS[T]> : void\r\n}\r\n\r\nexport type NotFunction<T> = T extends Function ? never : T\r\n\r\nfunction isStateFunction<S>(x: unknown): x is () => S {\r\n  return typeof x === 'function'\r\n}\r\n\r\nexport type ReducerWithInitialState<S extends NotFunction<any>> = Reducer<S> & {\r\n  getInitialState: () => S\r\n}\r\n\r\nlet hasWarnedAboutObjectNotation = false\r\n\r\n/**\r\n * A utility function that allows defining a reducer as a mapping from action\r\n * type to *case reducer* functions that handle these action types. The\r\n * reducer's initial state is passed as the first argument.\r\n *\r\n * @remarks\r\n * The body of every case reducer is implicitly wrapped with a call to\r\n * `produce()` from the [immer](https://github.com/mweststrate/immer) library.\r\n * This means that rather than returning a new state object, you can also\r\n * mutate the passed-in state object directly; these mutations will then be\r\n * automatically and efficiently translated into copies, giving you both\r\n * convenience and immutability.\r\n *\r\n * @overloadSummary\r\n * This overload accepts a callback function that receives a `builder` object as its argument.\r\n * That builder provides `addCase`, `addMatcher` and `addDefaultCase` functions that may be\r\n * called to define what actions this reducer will handle.\r\n *\r\n * @param initialState - `State | (() => State)`: The initial state that should be used when the reducer is called the first time. This may also be a \"lazy initializer\" function, which should return an initial state value when called. This will be used whenever the reducer is called with `undefined` as its state value, and is primarily useful for cases like reading initial state from `localStorage`.\r\n * @param builderCallback - `(builder: Builder) => void` A callback that receives a *builder* object to define\r\n *   case reducers via calls to `builder.addCase(actionCreatorOrType, reducer)`.\r\n * @example\r\n```ts\r\nimport {\r\n  createAction,\r\n  createReducer,\r\n  AnyAction,\r\n  PayloadAction,\r\n} from \"@reduxjs/toolkit\";\r\n\r\nconst increment = createAction<number>(\"increment\");\r\nconst decrement = createAction<number>(\"decrement\");\r\n\r\nfunction isActionWithNumberPayload(\r\n  action: AnyAction\r\n): action is PayloadAction<number> {\r\n  return typeof action.payload === \"number\";\r\n}\r\n\r\nconst reducer = createReducer(\r\n  {\r\n    counter: 0,\r\n    sumOfNumberPayloads: 0,\r\n    unhandledActions: 0,\r\n  },\r\n  (builder) => {\r\n    builder\r\n      .addCase(increment, (state, action) => {\r\n        // action is inferred correctly here\r\n        state.counter += action.payload;\r\n      })\r\n      // You can chain calls, or have separate `builder.addCase()` lines each time\r\n      .addCase(decrement, (state, action) => {\r\n        state.counter -= action.payload;\r\n      })\r\n      // You can apply a \"matcher function\" to incoming actions\r\n      .addMatcher(isActionWithNumberPayload, (state, action) => {})\r\n      // and provide a default case if no other handlers matched\r\n      .addDefaultCase((state, action) => {});\r\n  }\r\n);\r\n```\r\n * @public\r\n */\r\nexport function createReducer<S extends NotFunction<any>>(\r\n  initialState: S | (() => S),\r\n  builderCallback: (builder: ActionReducerMapBuilder<S>) => void\r\n): ReducerWithInitialState<S>\r\n\r\n/**\r\n * A utility function that allows defining a reducer as a mapping from action\r\n * type to *case reducer* functions that handle these action types. The\r\n * reducer's initial state is passed as the first argument.\r\n *\r\n * The body of every case reducer is implicitly wrapped with a call to\r\n * `produce()` from the [immer](https://github.com/mweststrate/immer) library.\r\n * This means that rather than returning a new state object, you can also\r\n * mutate the passed-in state object directly; these mutations will then be\r\n * automatically and efficiently translated into copies, giving you both\r\n * convenience and immutability.\r\n * \r\n * @overloadSummary\r\n * This overload accepts an object where the keys are string action types, and the values\r\n * are case reducer functions to handle those action types.\r\n *\r\n * @param initialState - `State | (() => State)`: The initial state that should be used when the reducer is called the first time. This may also be a \"lazy initializer\" function, which should return an initial state value when called. This will be used whenever the reducer is called with `undefined` as its state value, and is primarily useful for cases like reading initial state from `localStorage`.\r\n * @param actionsMap - An object mapping from action types to _case reducers_, each of which handles one specific action type.\r\n * @param actionMatchers - An array of matcher definitions in the form `{matcher, reducer}`.\r\n *   All matching reducers will be executed in order, independently if a case reducer matched or not.\r\n * @param defaultCaseReducer - A \"default case\" reducer that is executed if no case reducer and no matcher\r\n *   reducer was executed for this action.\r\n *\r\n * @example\r\n```js\r\nconst counterReducer = createReducer(0, {\r\n  increment: (state, action) => state + action.payload,\r\n  decrement: (state, action) => state - action.payload\r\n})\r\n\r\n// Alternately, use a \"lazy initializer\" to provide the initial state\r\n// (works with either form of createReducer)\r\nconst initialState = () => 0\r\nconst counterReducer = createReducer(initialState, {\r\n  increment: (state, action) => state + action.payload,\r\n  decrement: (state, action) => state - action.payload\r\n})\r\n```\r\n \r\n * Action creators that were generated using [`createAction`](./createAction) may be used directly as the keys here, using computed property syntax:\r\n\r\n```js\r\nconst increment = createAction('increment')\r\nconst decrement = createAction('decrement')\r\n\r\nconst counterReducer = createReducer(0, {\r\n  [increment]: (state, action) => state + action.payload,\r\n  [decrement.type]: (state, action) => state - action.payload\r\n})\r\n```\r\n * @public\r\n */\r\nexport function createReducer<\r\n  S extends NotFunction<any>,\r\n  CR extends CaseReducers<S, any> = CaseReducers<S, any>\r\n>(\r\n  initialState: S | (() => S),\r\n  actionsMap: CR,\r\n  actionMatchers?: ActionMatcherDescriptionCollection<S>,\r\n  defaultCaseReducer?: CaseReducer<S>\r\n): ReducerWithInitialState<S>\r\n\r\nexport function createReducer<S extends NotFunction<any>>(\r\n  initialState: S | (() => S),\r\n  mapOrBuilderCallback:\r\n    | CaseReducers<S, any>\r\n    | ((builder: ActionReducerMapBuilder<S>) => void),\r\n  actionMatchers: ReadonlyActionMatcherDescriptionCollection<S> = [],\r\n  defaultCaseReducer?: CaseReducer<S>\r\n): ReducerWithInitialState<S> {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (typeof mapOrBuilderCallback === 'object') {\r\n      if (!hasWarnedAboutObjectNotation) {\r\n        hasWarnedAboutObjectNotation = true\r\n        console.warn(\r\n          \"The object notation for `createReducer` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer\"\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  let [actionsMap, finalActionMatchers, finalDefaultCaseReducer] =\r\n    typeof mapOrBuilderCallback === 'function'\r\n      ? executeReducerBuilderCallback(mapOrBuilderCallback)\r\n      : [mapOrBuilderCallback, actionMatchers, defaultCaseReducer]\r\n\r\n  // Ensure the initial state gets frozen either way (if draftable)\r\n  let getInitialState: () => S\r\n  if (isStateFunction(initialState)) {\r\n    getInitialState = () => freezeDraftable(initialState())\r\n  } else {\r\n    const frozenInitialState = freezeDraftable(initialState)\r\n    getInitialState = () => frozenInitialState\r\n  }\r\n\r\n  function reducer(state = getInitialState(), action: any): S {\r\n    let caseReducers = [\r\n      actionsMap[action.type],\r\n      ...finalActionMatchers\r\n        .filter(({ matcher }) => matcher(action))\r\n        .map(({ reducer }) => reducer),\r\n    ]\r\n    if (caseReducers.filter((cr) => !!cr).length === 0) {\r\n      caseReducers = [finalDefaultCaseReducer]\r\n    }\r\n\r\n    return caseReducers.reduce((previousState, caseReducer): S => {\r\n      if (caseReducer) {\r\n        if (isDraft(previousState)) {\r\n          // If it's already a draft, we must already be inside a `createNextState` call,\r\n          // likely because this is being wrapped in `createReducer`, `createSlice`, or nested\r\n          // inside an existing draft. It's safe to just pass the draft to the mutator.\r\n          const draft = previousState as Draft<S> // We can assume this is already a draft\r\n          const result = caseReducer(draft, action)\r\n\r\n          if (result === undefined) {\r\n            return previousState\r\n          }\r\n\r\n          return result as S\r\n        } else if (!isDraftable(previousState)) {\r\n          // If state is not draftable (ex: a primitive, such as 0), we want to directly\r\n          // return the caseReducer func and not wrap it with produce.\r\n          const result = caseReducer(previousState as any, action)\r\n\r\n          if (result === undefined) {\r\n            if (previousState === null) {\r\n              return previousState\r\n            }\r\n            throw Error(\r\n              'A case reducer on a non-draftable value must not return undefined'\r\n            )\r\n          }\r\n\r\n          return result as S\r\n        } else {\r\n          // @ts-ignore createNextState() produces an Immutable<Draft<S>> rather\r\n          // than an Immutable<S>, and TypeScript cannot find out how to reconcile\r\n          // these two types.\r\n          return createNextState(previousState, (draft: Draft<S>) => {\r\n            return caseReducer(draft, action)\r\n          })\r\n        }\r\n      }\r\n\r\n      return previousState\r\n    }, state)\r\n  }\r\n\r\n  reducer.getInitialState = getInitialState\r\n\r\n  return reducer as ReducerWithInitialState<S>\r\n}\r\n","// Borrowed from https://github.com/ai/nanoid/blob/3.0.2/non-secure/index.js\r\n// This alphabet uses `A-Za-z0-9_-` symbols. A genetic algorithm helped\r\n// optimize the gzip compression for this alphabet.\r\nlet urlAlphabet =\r\n  'ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW'\r\n\r\n/**\r\n *\r\n * @public\r\n */\r\nexport let nanoid = (size = 21) => {\r\n  let id = ''\r\n  // A compact alternative for `for (var i = 0; i < step; i++)`.\r\n  let i = size\r\n  while (i--) {\r\n    // `| 0` is more compact and faster than `Math.floor()`.\r\n    id += urlAlphabet[(Math.random() * 64) | 0]\r\n  }\r\n  return id\r\n}\r\n","import type { Dispatch, AnyAction } from 'redux'\r\nimport type {\r\n  PayloadAction,\r\n  ActionCreatorWithPreparedPayload,\r\n} from './createAction'\r\nimport { createAction } from './createAction'\r\nimport type { ThunkDispatch } from 'redux-thunk'\r\nimport type { FallbackIfUnknown, Id, IsAny, IsUnknown } from './tsHelpers'\r\nimport { nanoid } from './nanoid'\r\n\r\n// @ts-ignore we need the import of these types due to a bundling issue.\r\ntype _Keep = PayloadAction | ActionCreatorWithPreparedPayload<any, unknown>\r\n\r\nexport type BaseThunkAPI<\r\n  S,\r\n  E,\r\n  D extends Dispatch = Dispatch,\r\n  RejectedValue = undefined,\r\n  RejectedMeta = unknown,\r\n  FulfilledMeta = unknown\r\n> = {\r\n  dispatch: D\r\n  getState: () => S\r\n  extra: E\r\n  requestId: string\r\n  signal: AbortSignal\r\n  abort: (reason?: string) => void\r\n  rejectWithValue: IsUnknown<\r\n    RejectedMeta,\r\n    (value: RejectedValue) => RejectWithValue<RejectedValue, RejectedMeta>,\r\n    (\r\n      value: RejectedValue,\r\n      meta: RejectedMeta\r\n    ) => RejectWithValue<RejectedValue, RejectedMeta>\r\n  >\r\n  fulfillWithValue: IsUnknown<\r\n    FulfilledMeta,\r\n    <FulfilledValue>(value: FulfilledValue) => FulfilledValue,\r\n    <FulfilledValue>(\r\n      value: FulfilledValue,\r\n      meta: FulfilledMeta\r\n    ) => FulfillWithMeta<FulfilledValue, FulfilledMeta>\r\n  >\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport interface SerializedError {\r\n  name?: string\r\n  message?: string\r\n  stack?: string\r\n  code?: string\r\n}\r\n\r\nconst commonProperties: Array<keyof SerializedError> = [\r\n  'name',\r\n  'message',\r\n  'stack',\r\n  'code',\r\n]\r\n\r\nclass RejectWithValue<Payload, RejectedMeta> {\r\n  /*\r\n  type-only property to distinguish between RejectWithValue and FulfillWithMeta\r\n  does not exist at runtime\r\n  */\r\n  private readonly _type!: 'RejectWithValue'\r\n  constructor(\r\n    public readonly payload: Payload,\r\n    public readonly meta: RejectedMeta\r\n  ) {}\r\n}\r\n\r\nclass FulfillWithMeta<Payload, FulfilledMeta> {\r\n  /*\r\n  type-only property to distinguish between RejectWithValue and FulfillWithMeta\r\n  does not exist at runtime\r\n  */\r\n  private readonly _type!: 'FulfillWithMeta'\r\n  constructor(\r\n    public readonly payload: Payload,\r\n    public readonly meta: FulfilledMeta\r\n  ) {}\r\n}\r\n\r\n/**\r\n * Serializes an error into a plain object.\r\n * Reworked from https://github.com/sindresorhus/serialize-error\r\n *\r\n * @public\r\n */\r\nexport const miniSerializeError = (value: any): SerializedError => {\r\n  if (typeof value === 'object' && value !== null) {\r\n    const simpleError: SerializedError = {}\r\n    for (const property of commonProperties) {\r\n      if (typeof value[property] === 'string') {\r\n        simpleError[property] = value[property]\r\n      }\r\n    }\r\n\r\n    return simpleError\r\n  }\r\n\r\n  return { message: String(value) }\r\n}\r\n\r\ntype AsyncThunkConfig = {\r\n  state?: unknown\r\n  dispatch?: Dispatch\r\n  extra?: unknown\r\n  rejectValue?: unknown\r\n  serializedErrorType?: unknown\r\n  pendingMeta?: unknown\r\n  fulfilledMeta?: unknown\r\n  rejectedMeta?: unknown\r\n}\r\n\r\ntype GetState<ThunkApiConfig> = ThunkApiConfig extends {\r\n  state: infer State\r\n}\r\n  ? State\r\n  : unknown\r\ntype GetExtra<ThunkApiConfig> = ThunkApiConfig extends { extra: infer Extra }\r\n  ? Extra\r\n  : unknown\r\ntype GetDispatch<ThunkApiConfig> = ThunkApiConfig extends {\r\n  dispatch: infer Dispatch\r\n}\r\n  ? FallbackIfUnknown<\r\n      Dispatch,\r\n      ThunkDispatch<\r\n        GetState<ThunkApiConfig>,\r\n        GetExtra<ThunkApiConfig>,\r\n        AnyAction\r\n      >\r\n    >\r\n  : ThunkDispatch<GetState<ThunkApiConfig>, GetExtra<ThunkApiConfig>, AnyAction>\r\n\r\ntype GetThunkAPI<ThunkApiConfig> = BaseThunkAPI<\r\n  GetState<ThunkApiConfig>,\r\n  GetExtra<ThunkApiConfig>,\r\n  GetDispatch<ThunkApiConfig>,\r\n  GetRejectValue<ThunkApiConfig>,\r\n  GetRejectedMeta<ThunkApiConfig>,\r\n  GetFulfilledMeta<ThunkApiConfig>\r\n>\r\n\r\ntype GetRejectValue<ThunkApiConfig> = ThunkApiConfig extends {\r\n  rejectValue: infer RejectValue\r\n}\r\n  ? RejectValue\r\n  : unknown\r\n\r\ntype GetPendingMeta<ThunkApiConfig> = ThunkApiConfig extends {\r\n  pendingMeta: infer PendingMeta\r\n}\r\n  ? PendingMeta\r\n  : unknown\r\n\r\ntype GetFulfilledMeta<ThunkApiConfig> = ThunkApiConfig extends {\r\n  fulfilledMeta: infer FulfilledMeta\r\n}\r\n  ? FulfilledMeta\r\n  : unknown\r\n\r\ntype GetRejectedMeta<ThunkApiConfig> = ThunkApiConfig extends {\r\n  rejectedMeta: infer RejectedMeta\r\n}\r\n  ? RejectedMeta\r\n  : unknown\r\n\r\ntype GetSerializedErrorType<ThunkApiConfig> = ThunkApiConfig extends {\r\n  serializedErrorType: infer GetSerializedErrorType\r\n}\r\n  ? GetSerializedErrorType\r\n  : SerializedError\r\n\r\ntype MaybePromise<T> = T | Promise<T> | (T extends any ? Promise<T> : never)\r\n\r\n/**\r\n * A type describing the return value of the `payloadCreator` argument to `createAsyncThunk`.\r\n * Might be useful for wrapping `createAsyncThunk` in custom abstractions.\r\n *\r\n * @public\r\n */\r\nexport type AsyncThunkPayloadCreatorReturnValue<\r\n  Returned,\r\n  ThunkApiConfig extends AsyncThunkConfig\r\n> = MaybePromise<\r\n  | IsUnknown<\r\n      GetFulfilledMeta<ThunkApiConfig>,\r\n      Returned,\r\n      FulfillWithMeta<Returned, GetFulfilledMeta<ThunkApiConfig>>\r\n    >\r\n  | RejectWithValue<\r\n      GetRejectValue<ThunkApiConfig>,\r\n      GetRejectedMeta<ThunkApiConfig>\r\n    >\r\n>\r\n/**\r\n * A type describing the `payloadCreator` argument to `createAsyncThunk`.\r\n * Might be useful for wrapping `createAsyncThunk` in custom abstractions.\r\n *\r\n * @public\r\n */\r\nexport type AsyncThunkPayloadCreator<\r\n  Returned,\r\n  ThunkArg = void,\r\n  ThunkApiConfig extends AsyncThunkConfig = {}\r\n> = (\r\n  arg: ThunkArg,\r\n  thunkAPI: GetThunkAPI<ThunkApiConfig>\r\n) => AsyncThunkPayloadCreatorReturnValue<Returned, ThunkApiConfig>\r\n\r\n/**\r\n * A ThunkAction created by `createAsyncThunk`.\r\n * Dispatching it returns a Promise for either a\r\n * fulfilled or rejected action.\r\n * Also, the returned value contains an `abort()` method\r\n * that allows the asyncAction to be cancelled from the outside.\r\n *\r\n * @public\r\n */\r\nexport type AsyncThunkAction<\r\n  Returned,\r\n  ThunkArg,\r\n  ThunkApiConfig extends AsyncThunkConfig\r\n> = (\r\n  dispatch: GetDispatch<ThunkApiConfig>,\r\n  getState: () => GetState<ThunkApiConfig>,\r\n  extra: GetExtra<ThunkApiConfig>\r\n) => Promise<\r\n  | ReturnType<AsyncThunkFulfilledActionCreator<Returned, ThunkArg>>\r\n  | ReturnType<AsyncThunkRejectedActionCreator<ThunkArg, ThunkApiConfig>>\r\n> & {\r\n  abort: (reason?: string) => void\r\n  requestId: string\r\n  arg: ThunkArg\r\n  unwrap: () => Promise<Returned>\r\n}\r\n\r\ntype AsyncThunkActionCreator<\r\n  Returned,\r\n  ThunkArg,\r\n  ThunkApiConfig extends AsyncThunkConfig\r\n> = IsAny<\r\n  ThunkArg,\r\n  // any handling\r\n  (arg: ThunkArg) => AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig>,\r\n  // unknown handling\r\n  unknown extends ThunkArg\r\n    ? (arg: ThunkArg) => AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig> // argument not specified or specified as void or undefined\r\n    : [ThunkArg] extends [void] | [undefined]\r\n    ? () => AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig> // argument contains void\r\n    : [void] extends [ThunkArg] // make optional\r\n    ? (arg?: ThunkArg) => AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig> // argument contains undefined\r\n    : [undefined] extends [ThunkArg]\r\n    ? WithStrictNullChecks<\r\n        // with strict nullChecks: make optional\r\n        (\r\n          arg?: ThunkArg\r\n        ) => AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig>,\r\n        // without strict null checks this will match everything, so don't make it optional\r\n        (arg: ThunkArg) => AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig>\r\n      > // default case: normal argument\r\n    : (arg: ThunkArg) => AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig>\r\n>\r\n\r\n/**\r\n * Options object for `createAsyncThunk`.\r\n *\r\n * @public\r\n */\r\nexport type AsyncThunkOptions<\r\n  ThunkArg = void,\r\n  ThunkApiConfig extends AsyncThunkConfig = {}\r\n> = {\r\n  /**\r\n   * A method to control whether the asyncThunk should be executed. Has access to the\r\n   * `arg`, `api.getState()` and `api.extra` arguments.\r\n   *\r\n   * @returns `false` if it should be skipped\r\n   */\r\n  condition?(\r\n    arg: ThunkArg,\r\n    api: Pick<GetThunkAPI<ThunkApiConfig>, 'getState' | 'extra'>\r\n  ): MaybePromise<boolean | undefined>\r\n  /**\r\n   * If `condition` returns `false`, the asyncThunk will be skipped.\r\n   * This option allows you to control whether a `rejected` action with `meta.condition == false`\r\n   * will be dispatched or not.\r\n   *\r\n   * @default `false`\r\n   */\r\n  dispatchConditionRejection?: boolean\r\n\r\n  serializeError?: (x: unknown) => GetSerializedErrorType<ThunkApiConfig>\r\n\r\n  /**\r\n   * A function to use when generating the `requestId` for the request sequence.\r\n   *\r\n   * @default `nanoid`\r\n   */\r\n  idGenerator?: (arg: ThunkArg) => string\r\n} & IsUnknown<\r\n  GetPendingMeta<ThunkApiConfig>,\r\n  {\r\n    /**\r\n     * A method to generate additional properties to be added to `meta` of the pending action.\r\n     *\r\n     * Using this optional overload will not modify the types correctly, this overload is only in place to support JavaScript users.\r\n     * Please use the `ThunkApiConfig` parameter `pendingMeta` to get access to a correctly typed overload\r\n     */\r\n    getPendingMeta?(\r\n      base: {\r\n        arg: ThunkArg\r\n        requestId: string\r\n      },\r\n      api: Pick<GetThunkAPI<ThunkApiConfig>, 'getState' | 'extra'>\r\n    ): GetPendingMeta<ThunkApiConfig>\r\n  },\r\n  {\r\n    /**\r\n     * A method to generate additional properties to be added to `meta` of the pending action.\r\n     */\r\n    getPendingMeta(\r\n      base: {\r\n        arg: ThunkArg\r\n        requestId: string\r\n      },\r\n      api: Pick<GetThunkAPI<ThunkApiConfig>, 'getState' | 'extra'>\r\n    ): GetPendingMeta<ThunkApiConfig>\r\n  }\r\n>\r\n\r\nexport type AsyncThunkPendingActionCreator<\r\n  ThunkArg,\r\n  ThunkApiConfig = {}\r\n> = ActionCreatorWithPreparedPayload<\r\n  [string, ThunkArg, GetPendingMeta<ThunkApiConfig>?],\r\n  undefined,\r\n  string,\r\n  never,\r\n  {\r\n    arg: ThunkArg\r\n    requestId: string\r\n    requestStatus: 'pending'\r\n  } & GetPendingMeta<ThunkApiConfig>\r\n>\r\n\r\nexport type AsyncThunkRejectedActionCreator<\r\n  ThunkArg,\r\n  ThunkApiConfig = {}\r\n> = ActionCreatorWithPreparedPayload<\r\n  [\r\n    Error | null,\r\n    string,\r\n    ThunkArg,\r\n    GetRejectValue<ThunkApiConfig>?,\r\n    GetRejectedMeta<ThunkApiConfig>?\r\n  ],\r\n  GetRejectValue<ThunkApiConfig> | undefined,\r\n  string,\r\n  GetSerializedErrorType<ThunkApiConfig>,\r\n  {\r\n    arg: ThunkArg\r\n    requestId: string\r\n    requestStatus: 'rejected'\r\n    aborted: boolean\r\n    condition: boolean\r\n  } & (\r\n    | ({ rejectedWithValue: false } & {\r\n        [K in keyof GetRejectedMeta<ThunkApiConfig>]?: undefined\r\n      })\r\n    | ({ rejectedWithValue: true } & GetRejectedMeta<ThunkApiConfig>)\r\n  )\r\n>\r\n\r\nexport type AsyncThunkFulfilledActionCreator<\r\n  Returned,\r\n  ThunkArg,\r\n  ThunkApiConfig = {}\r\n> = ActionCreatorWithPreparedPayload<\r\n  [Returned, string, ThunkArg, GetFulfilledMeta<ThunkApiConfig>?],\r\n  Returned,\r\n  string,\r\n  never,\r\n  {\r\n    arg: ThunkArg\r\n    requestId: string\r\n    requestStatus: 'fulfilled'\r\n  } & GetFulfilledMeta<ThunkApiConfig>\r\n>\r\n\r\n/**\r\n * A type describing the return value of `createAsyncThunk`.\r\n * Might be useful for wrapping `createAsyncThunk` in custom abstractions.\r\n *\r\n * @public\r\n */\r\nexport type AsyncThunk<\r\n  Returned,\r\n  ThunkArg,\r\n  ThunkApiConfig extends AsyncThunkConfig\r\n> = AsyncThunkActionCreator<Returned, ThunkArg, ThunkApiConfig> & {\r\n  pending: AsyncThunkPendingActionCreator<ThunkArg, ThunkApiConfig>\r\n  rejected: AsyncThunkRejectedActionCreator<ThunkArg, ThunkApiConfig>\r\n  fulfilled: AsyncThunkFulfilledActionCreator<\r\n    Returned,\r\n    ThunkArg,\r\n    ThunkApiConfig\r\n  >\r\n  typePrefix: string\r\n}\r\n\r\ntype OverrideThunkApiConfigs<OldConfig, NewConfig> = Id<\r\n  NewConfig & Omit<OldConfig, keyof NewConfig>\r\n>\r\n\r\ntype CreateAsyncThunk<CurriedThunkApiConfig extends AsyncThunkConfig> = {\r\n  /**\r\n   *\r\n   * @param typePrefix\r\n   * @param payloadCreator\r\n   * @param options\r\n   *\r\n   * @public\r\n   */\r\n  // separate signature without `AsyncThunkConfig` for better inference\r\n  <Returned, ThunkArg = void>(\r\n    typePrefix: string,\r\n    payloadCreator: AsyncThunkPayloadCreator<\r\n      Returned,\r\n      ThunkArg,\r\n      CurriedThunkApiConfig\r\n    >,\r\n    options?: AsyncThunkOptions<ThunkArg, CurriedThunkApiConfig>\r\n  ): AsyncThunk<Returned, ThunkArg, CurriedThunkApiConfig>\r\n\r\n  /**\r\n   *\r\n   * @param typePrefix\r\n   * @param payloadCreator\r\n   * @param options\r\n   *\r\n   * @public\r\n   */\r\n  <Returned, ThunkArg, ThunkApiConfig extends AsyncThunkConfig>(\r\n    typePrefix: string,\r\n    payloadCreator: AsyncThunkPayloadCreator<\r\n      Returned,\r\n      ThunkArg,\r\n      OverrideThunkApiConfigs<CurriedThunkApiConfig, ThunkApiConfig>\r\n    >,\r\n    options?: AsyncThunkOptions<\r\n      ThunkArg,\r\n      OverrideThunkApiConfigs<CurriedThunkApiConfig, ThunkApiConfig>\r\n    >\r\n  ): AsyncThunk<\r\n    Returned,\r\n    ThunkArg,\r\n    OverrideThunkApiConfigs<CurriedThunkApiConfig, ThunkApiConfig>\r\n  >\r\n\r\n  withTypes<ThunkApiConfig extends AsyncThunkConfig>(): CreateAsyncThunk<\r\n    OverrideThunkApiConfigs<CurriedThunkApiConfig, ThunkApiConfig>\r\n  >\r\n}\r\n\r\nexport const createAsyncThunk = (() => {\r\n  function createAsyncThunk<\r\n    Returned,\r\n    ThunkArg,\r\n    ThunkApiConfig extends AsyncThunkConfig\r\n  >(\r\n    typePrefix: string,\r\n    payloadCreator: AsyncThunkPayloadCreator<\r\n      Returned,\r\n      ThunkArg,\r\n      ThunkApiConfig\r\n    >,\r\n    options?: AsyncThunkOptions<ThunkArg, ThunkApiConfig>\r\n  ): AsyncThunk<Returned, ThunkArg, ThunkApiConfig> {\r\n    type RejectedValue = GetRejectValue<ThunkApiConfig>\r\n    type PendingMeta = GetPendingMeta<ThunkApiConfig>\r\n    type FulfilledMeta = GetFulfilledMeta<ThunkApiConfig>\r\n    type RejectedMeta = GetRejectedMeta<ThunkApiConfig>\r\n\r\n    const fulfilled: AsyncThunkFulfilledActionCreator<\r\n      Returned,\r\n      ThunkArg,\r\n      ThunkApiConfig\r\n    > = createAction(\r\n      typePrefix + '/fulfilled',\r\n      (\r\n        payload: Returned,\r\n        requestId: string,\r\n        arg: ThunkArg,\r\n        meta?: FulfilledMeta\r\n      ) => ({\r\n        payload,\r\n        meta: {\r\n          ...((meta as any) || {}),\r\n          arg,\r\n          requestId,\r\n          requestStatus: 'fulfilled' as const,\r\n        },\r\n      })\r\n    )\r\n\r\n    const pending: AsyncThunkPendingActionCreator<ThunkArg, ThunkApiConfig> =\r\n      createAction(\r\n        typePrefix + '/pending',\r\n        (requestId: string, arg: ThunkArg, meta?: PendingMeta) => ({\r\n          payload: undefined,\r\n          meta: {\r\n            ...((meta as any) || {}),\r\n            arg,\r\n            requestId,\r\n            requestStatus: 'pending' as const,\r\n          },\r\n        })\r\n      )\r\n\r\n    const rejected: AsyncThunkRejectedActionCreator<ThunkArg, ThunkApiConfig> =\r\n      createAction(\r\n        typePrefix + '/rejected',\r\n        (\r\n          error: Error | null,\r\n          requestId: string,\r\n          arg: ThunkArg,\r\n          payload?: RejectedValue,\r\n          meta?: RejectedMeta\r\n        ) => ({\r\n          payload,\r\n          error: ((options && options.serializeError) || miniSerializeError)(\r\n            error || 'Rejected'\r\n          ) as GetSerializedErrorType<ThunkApiConfig>,\r\n          meta: {\r\n            ...((meta as any) || {}),\r\n            arg,\r\n            requestId,\r\n            rejectedWithValue: !!payload,\r\n            requestStatus: 'rejected' as const,\r\n            aborted: error?.name === 'AbortError',\r\n            condition: error?.name === 'ConditionError',\r\n          },\r\n        })\r\n      )\r\n\r\n    let displayedWarning = false\r\n\r\n    const AC =\r\n      typeof AbortController !== 'undefined'\r\n        ? AbortController\r\n        : class implements AbortController {\r\n            signal = {\r\n              aborted: false,\r\n              addEventListener() {},\r\n              dispatchEvent() {\r\n                return false\r\n              },\r\n              onabort() {},\r\n              removeEventListener() {},\r\n              reason: undefined,\r\n              throwIfAborted() {},\r\n            }\r\n            abort() {\r\n              if (process.env.NODE_ENV !== 'production') {\r\n                if (!displayedWarning) {\r\n                  displayedWarning = true\r\n                  console.info(\r\n                    `This platform does not implement AbortController. \r\nIf you want to use the AbortController to react to \\`abort\\` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'.`\r\n                  )\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n    function actionCreator(\r\n      arg: ThunkArg\r\n    ): AsyncThunkAction<Returned, ThunkArg, ThunkApiConfig> {\r\n      return (dispatch, getState, extra) => {\r\n        const requestId = options?.idGenerator\r\n          ? options.idGenerator(arg)\r\n          : nanoid()\r\n\r\n        const abortController = new AC()\r\n        let abortReason: string | undefined\r\n\r\n        let started = false\r\n        function abort(reason?: string) {\r\n          abortReason = reason\r\n          abortController.abort()\r\n        }\r\n\r\n        const promise = (async function () {\r\n          let finalAction: ReturnType<typeof fulfilled | typeof rejected>\r\n          try {\r\n            let conditionResult = options?.condition?.(arg, { getState, extra })\r\n            if (isThenable(conditionResult)) {\r\n              conditionResult = await conditionResult\r\n            }\r\n\r\n            if (conditionResult === false || abortController.signal.aborted) {\r\n              // eslint-disable-next-line no-throw-literal\r\n              throw {\r\n                name: 'ConditionError',\r\n                message: 'Aborted due to condition callback returning false.',\r\n              }\r\n            }\r\n            started = true\r\n\r\n            const abortedPromise = new Promise<never>((_, reject) =>\r\n              abortController.signal.addEventListener('abort', () =>\r\n                reject({\r\n                  name: 'AbortError',\r\n                  message: abortReason || 'Aborted',\r\n                })\r\n              )\r\n            )\r\n            dispatch(\r\n              pending(\r\n                requestId,\r\n                arg,\r\n                options?.getPendingMeta?.(\r\n                  { requestId, arg },\r\n                  { getState, extra }\r\n                )\r\n              )\r\n            )\r\n            finalAction = await Promise.race([\r\n              abortedPromise,\r\n              Promise.resolve(\r\n                payloadCreator(arg, {\r\n                  dispatch,\r\n                  getState,\r\n                  extra,\r\n                  requestId,\r\n                  signal: abortController.signal,\r\n                  abort,\r\n                  rejectWithValue: ((\r\n                    value: RejectedValue,\r\n                    meta?: RejectedMeta\r\n                  ) => {\r\n                    return new RejectWithValue(value, meta)\r\n                  }) as any,\r\n                  fulfillWithValue: ((value: unknown, meta?: FulfilledMeta) => {\r\n                    return new FulfillWithMeta(value, meta)\r\n                  }) as any,\r\n                })\r\n              ).then((result) => {\r\n                if (result instanceof RejectWithValue) {\r\n                  throw result\r\n                }\r\n                if (result instanceof FulfillWithMeta) {\r\n                  return fulfilled(result.payload, requestId, arg, result.meta)\r\n                }\r\n                return fulfilled(result as any, requestId, arg)\r\n              }),\r\n            ])\r\n          } catch (err) {\r\n            finalAction =\r\n              err instanceof RejectWithValue\r\n                ? rejected(null, requestId, arg, err.payload, err.meta)\r\n                : rejected(err as any, requestId, arg)\r\n          }\r\n          // We dispatch the result action _after_ the catch, to avoid having any errors\r\n          // here get swallowed by the try/catch block,\r\n          // per https://twitter.com/dan_abramov/status/770914221638942720\r\n          // and https://github.com/reduxjs/redux-toolkit/blob/e85eb17b39a2118d859f7b7746e0f3fee523e089/docs/tutorials/advanced-tutorial.md#async-error-handling-logic-in-thunks\r\n\r\n          const skipDispatch =\r\n            options &&\r\n            !options.dispatchConditionRejection &&\r\n            rejected.match(finalAction) &&\r\n            (finalAction as any).meta.condition\r\n\r\n          if (!skipDispatch) {\r\n            dispatch(finalAction)\r\n          }\r\n          return finalAction\r\n        })()\r\n        return Object.assign(promise as Promise<any>, {\r\n          abort,\r\n          requestId,\r\n          arg,\r\n          unwrap() {\r\n            return promise.then<any>(unwrapResult)\r\n          },\r\n        })\r\n      }\r\n    }\r\n\r\n    return Object.assign(\r\n      actionCreator as AsyncThunkActionCreator<\r\n        Returned,\r\n        ThunkArg,\r\n        ThunkApiConfig\r\n      >,\r\n      {\r\n        pending,\r\n        rejected,\r\n        fulfilled,\r\n        typePrefix,\r\n      }\r\n    )\r\n  }\r\n  createAsyncThunk.withTypes = () => createAsyncThunk\r\n\r\n  return createAsyncThunk as CreateAsyncThunk<AsyncThunkConfig>\r\n})()\r\n\r\ninterface UnwrappableAction {\r\n  payload: any\r\n  meta?: any\r\n  error?: any\r\n}\r\n\r\ntype UnwrappedActionPayload<T extends UnwrappableAction> = Exclude<\r\n  T,\r\n  { error: any }\r\n>['payload']\r\n\r\n/**\r\n * @public\r\n */\r\nexport function unwrapResult<R extends UnwrappableAction>(\r\n  action: R\r\n): UnwrappedActionPayload<R> {\r\n  if (action.meta && action.meta.rejectedWithValue) {\r\n    throw action.payload\r\n  }\r\n  if (action.error) {\r\n    throw action.error\r\n  }\r\n  return action.payload\r\n}\r\n\r\ntype WithStrictNullChecks<True, False> = undefined extends boolean\r\n  ? False\r\n  : True\r\n\r\nfunction isThenable(value: any): value is PromiseLike<any> {\r\n  return (\r\n    value !== null &&\r\n    typeof value === 'object' &&\r\n    typeof value.then === 'function'\r\n  )\r\n}\r\n","import type { Dispatch, AnyAction, MiddlewareAPI } from 'redux'\r\nimport type { ThunkDispatch } from 'redux-thunk'\r\nimport { createAction } from '../createAction'\r\nimport { nanoid } from '../nanoid'\r\n\r\nimport type {\r\n  ListenerMiddleware,\r\n  ListenerMiddlewareInstance,\r\n  AddListenerOverloads,\r\n  AnyListenerPredicate,\r\n  CreateListenerMiddlewareOptions,\r\n  TypedAddListener,\r\n  TypedCreateListenerEntry,\r\n  FallbackAddListenerOptions,\r\n  ListenerEntry,\r\n  ListenerErrorHandler,\r\n  UnsubscribeListener,\r\n  TakePattern,\r\n  ListenerErrorInfo,\r\n  ForkedTaskExecutor,\r\n  ForkedTask,\r\n  TypedRemoveListener,\r\n  TaskResult,\r\n  AbortSignalWithReason,\r\n  UnsubscribeListenerOptions,\r\n} from './types'\r\nimport {\r\n  abortControllerWithReason,\r\n  addAbortSignalListener,\r\n  assertFunction,\r\n  catchRejection,\r\n} from './utils'\r\nimport {\r\n  listenerCancelled,\r\n  listenerCompleted,\r\n  TaskAbortError,\r\n  taskCancelled,\r\n  taskCompleted,\r\n} from './exceptions'\r\nimport {\r\n  runTask,\r\n  validateActive,\r\n  createPause,\r\n  createDelay,\r\n  raceWithSignal,\r\n} from './task'\r\nexport { TaskAbortError } from './exceptions'\r\nexport type {\r\n  ListenerEffect,\r\n  ListenerMiddleware,\r\n  ListenerEffectAPI,\r\n  ListenerMiddlewareInstance,\r\n  CreateListenerMiddlewareOptions,\r\n  ListenerErrorHandler,\r\n  TypedStartListening,\r\n  TypedAddListener,\r\n  TypedStopListening,\r\n  TypedRemoveListener,\r\n  UnsubscribeListener,\r\n  UnsubscribeListenerOptions,\r\n  ForkedTaskExecutor,\r\n  ForkedTask,\r\n  ForkedTaskAPI,\r\n  AsyncTaskExecutor,\r\n  SyncTaskExecutor,\r\n  TaskCancelled,\r\n  TaskRejected,\r\n  TaskResolved,\r\n  TaskResult,\r\n} from './types'\r\n\r\n//Overly-aggressive byte-shaving\r\nconst { assign } = Object\r\n/**\r\n * @internal\r\n */\r\nconst INTERNAL_NIL_TOKEN = {} as const\r\n\r\nconst alm = 'listenerMiddleware' as const\r\n\r\nconst createFork = (parentAbortSignal: AbortSignalWithReason<unknown>) => {\r\n  const linkControllers = (controller: AbortController) =>\r\n    addAbortSignalListener(parentAbortSignal, () =>\r\n      abortControllerWithReason(controller, parentAbortSignal.reason)\r\n    )\r\n\r\n  return <T>(taskExecutor: ForkedTaskExecutor<T>): ForkedTask<T> => {\r\n    assertFunction(taskExecutor, 'taskExecutor')\r\n    const childAbortController = new AbortController()\r\n\r\n    linkControllers(childAbortController)\r\n\r\n    const result = runTask<T>(\r\n      async (): Promise<T> => {\r\n        validateActive(parentAbortSignal)\r\n        validateActive(childAbortController.signal)\r\n        const result = (await taskExecutor({\r\n          pause: createPause(childAbortController.signal),\r\n          delay: createDelay(childAbortController.signal),\r\n          signal: childAbortController.signal,\r\n        })) as T\r\n        validateActive(childAbortController.signal)\r\n        return result\r\n      },\r\n      () => abortControllerWithReason(childAbortController, taskCompleted)\r\n    )\r\n\r\n    return {\r\n      result: createPause<TaskResult<T>>(parentAbortSignal)(result),\r\n      cancel() {\r\n        abortControllerWithReason(childAbortController, taskCancelled)\r\n      },\r\n    }\r\n  }\r\n}\r\n\r\nconst createTakePattern = <S>(\r\n  startListening: AddListenerOverloads<\r\n    UnsubscribeListener,\r\n    S,\r\n    Dispatch<AnyAction>\r\n  >,\r\n  signal: AbortSignal\r\n): TakePattern<S> => {\r\n  /**\r\n   * A function that takes a ListenerPredicate and an optional timeout,\r\n   * and resolves when either the predicate returns `true` based on an action\r\n   * state combination or when the timeout expires.\r\n   * If the parent listener is canceled while waiting, this will throw a\r\n   * TaskAbortError.\r\n   */\r\n  const take = async <P extends AnyListenerPredicate<S>>(\r\n    predicate: P,\r\n    timeout: number | undefined\r\n  ) => {\r\n    validateActive(signal)\r\n\r\n    // Placeholder unsubscribe function until the listener is added\r\n    let unsubscribe: UnsubscribeListener = () => {}\r\n\r\n    const tuplePromise = new Promise<[AnyAction, S, S]>((resolve, reject) => {\r\n      // Inside the Promise, we synchronously add the listener.\r\n      let stopListening = startListening({\r\n        predicate: predicate as any,\r\n        effect: (action, listenerApi): void => {\r\n          // One-shot listener that cleans up as soon as the predicate passes\r\n          listenerApi.unsubscribe()\r\n          // Resolve the promise with the same arguments the predicate saw\r\n          resolve([\r\n            action,\r\n            listenerApi.getState(),\r\n            listenerApi.getOriginalState(),\r\n          ])\r\n        },\r\n      })\r\n      unsubscribe = () => {\r\n        stopListening()\r\n        reject()\r\n      }\r\n    })\r\n\r\n    const promises: (Promise<null> | Promise<[AnyAction, S, S]>)[] = [\r\n      tuplePromise,\r\n    ]\r\n\r\n    if (timeout != null) {\r\n      promises.push(\r\n        new Promise<null>((resolve) => setTimeout(resolve, timeout, null))\r\n      )\r\n    }\r\n\r\n    try {\r\n      const output = await raceWithSignal(signal, Promise.race(promises))\r\n\r\n      validateActive(signal)\r\n      return output\r\n    } finally {\r\n      // Always clean up the listener\r\n      unsubscribe()\r\n    }\r\n  }\r\n\r\n  return ((predicate: AnyListenerPredicate<S>, timeout: number | undefined) =>\r\n    catchRejection(take(predicate, timeout))) as TakePattern<S>\r\n}\r\n\r\nconst getListenerEntryPropsFrom = (options: FallbackAddListenerOptions) => {\r\n  let { type, actionCreator, matcher, predicate, effect } = options\r\n\r\n  if (type) {\r\n    predicate = createAction(type).match\r\n  } else if (actionCreator) {\r\n    type = actionCreator!.type\r\n    predicate = actionCreator.match\r\n  } else if (matcher) {\r\n    predicate = matcher\r\n  } else if (predicate) {\r\n    // pass\r\n  } else {\r\n    throw new Error(\r\n      'Creating or removing a listener requires one of the known fields for matching an action'\r\n    )\r\n  }\r\n\r\n  assertFunction(effect, 'options.listener')\r\n\r\n  return { predicate, type, effect }\r\n}\r\n\r\n/** Accepts the possible options for creating a listener, and returns a formatted listener entry */\r\nexport const createListenerEntry: TypedCreateListenerEntry<unknown> = (\r\n  options: FallbackAddListenerOptions\r\n) => {\r\n  const { type, predicate, effect } = getListenerEntryPropsFrom(options)\r\n\r\n  const id = nanoid()\r\n  const entry: ListenerEntry<unknown> = {\r\n    id,\r\n    effect,\r\n    type,\r\n    predicate,\r\n    pending: new Set<AbortController>(),\r\n    unsubscribe: () => {\r\n      throw new Error('Unsubscribe not initialized')\r\n    },\r\n  }\r\n\r\n  return entry\r\n}\r\n\r\nconst cancelActiveListeners = (\r\n  entry: ListenerEntry<unknown, Dispatch<AnyAction>>\r\n) => {\r\n  entry.pending.forEach((controller) => {\r\n    abortControllerWithReason(controller, listenerCancelled)\r\n  })\r\n}\r\n\r\nconst createClearListenerMiddleware = (\r\n  listenerMap: Map<string, ListenerEntry>\r\n) => {\r\n  return () => {\r\n    listenerMap.forEach(cancelActiveListeners)\r\n\r\n    listenerMap.clear()\r\n  }\r\n}\r\n\r\n/**\r\n * Safely reports errors to the `errorHandler` provided.\r\n * Errors that occur inside `errorHandler` are notified in a new task.\r\n * Inspired by [rxjs reportUnhandledError](https://github.com/ReactiveX/rxjs/blob/6fafcf53dc9e557439b25debaeadfd224b245a66/src/internal/util/reportUnhandledError.ts)\r\n * @param errorHandler\r\n * @param errorToNotify\r\n */\r\nconst safelyNotifyError = (\r\n  errorHandler: ListenerErrorHandler,\r\n  errorToNotify: unknown,\r\n  errorInfo: ListenerErrorInfo\r\n): void => {\r\n  try {\r\n    errorHandler(errorToNotify, errorInfo)\r\n  } catch (errorHandlerError) {\r\n    // We cannot let an error raised here block the listener queue.\r\n    // The error raised here will be picked up by `window.onerror`, `process.on('error')` etc...\r\n    setTimeout(() => {\r\n      throw errorHandlerError\r\n    }, 0)\r\n  }\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport const addListener = createAction(\r\n  `${alm}/add`\r\n) as TypedAddListener<unknown>\r\n\r\n/**\r\n * @public\r\n */\r\nexport const clearAllListeners = createAction(`${alm}/removeAll`)\r\n\r\n/**\r\n * @public\r\n */\r\nexport const removeListener = createAction(\r\n  `${alm}/remove`\r\n) as TypedRemoveListener<unknown>\r\n\r\nconst defaultErrorHandler: ListenerErrorHandler = (...args: unknown[]) => {\r\n  console.error(`${alm}/error`, ...args)\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport function createListenerMiddleware<\r\n  S = unknown,\r\n  D extends Dispatch<AnyAction> = ThunkDispatch<S, unknown, AnyAction>,\r\n  ExtraArgument = unknown\r\n>(middlewareOptions: CreateListenerMiddlewareOptions<ExtraArgument> = {}) {\r\n  const listenerMap = new Map<string, ListenerEntry>()\r\n  const { extra, onError = defaultErrorHandler } = middlewareOptions\r\n\r\n  assertFunction(onError, 'onError')\r\n\r\n  const insertEntry = (entry: ListenerEntry) => {\r\n    entry.unsubscribe = () => listenerMap.delete(entry!.id)\r\n\r\n    listenerMap.set(entry.id, entry)\r\n    return (cancelOptions?: UnsubscribeListenerOptions) => {\r\n      entry.unsubscribe()\r\n      if (cancelOptions?.cancelActive) {\r\n        cancelActiveListeners(entry)\r\n      }\r\n    }\r\n  }\r\n\r\n  const findListenerEntry = (\r\n    comparator: (entry: ListenerEntry) => boolean\r\n  ): ListenerEntry | undefined => {\r\n    for (const entry of Array.from(listenerMap.values())) {\r\n      if (comparator(entry)) {\r\n        return entry\r\n      }\r\n    }\r\n\r\n    return undefined\r\n  }\r\n\r\n  const startListening = (options: FallbackAddListenerOptions) => {\r\n    let entry = findListenerEntry(\r\n      (existingEntry) => existingEntry.effect === options.effect\r\n    )\r\n\r\n    if (!entry) {\r\n      entry = createListenerEntry(options as any)\r\n    }\r\n\r\n    return insertEntry(entry)\r\n  }\r\n\r\n  const stopListening = (\r\n    options: FallbackAddListenerOptions & UnsubscribeListenerOptions\r\n  ): boolean => {\r\n    const { type, effect, predicate } = getListenerEntryPropsFrom(options)\r\n\r\n    const entry = findListenerEntry((entry) => {\r\n      const matchPredicateOrType =\r\n        typeof type === 'string'\r\n          ? entry.type === type\r\n          : entry.predicate === predicate\r\n\r\n      return matchPredicateOrType && entry.effect === effect\r\n    })\r\n\r\n    if (entry) {\r\n      entry.unsubscribe()\r\n      if (options.cancelActive) {\r\n        cancelActiveListeners(entry)\r\n      }\r\n    }\r\n\r\n    return !!entry\r\n  }\r\n\r\n  const notifyListener = async (\r\n    entry: ListenerEntry<unknown, Dispatch<AnyAction>>,\r\n    action: AnyAction,\r\n    api: MiddlewareAPI,\r\n    getOriginalState: () => S\r\n  ) => {\r\n    const internalTaskController = new AbortController()\r\n    const take = createTakePattern(\r\n      startListening,\r\n      internalTaskController.signal\r\n    )\r\n\r\n    try {\r\n      entry.pending.add(internalTaskController)\r\n      await Promise.resolve(\r\n        entry.effect(\r\n          action,\r\n          // Use assign() rather than ... to avoid extra helper functions added to bundle\r\n          assign({}, api, {\r\n            getOriginalState,\r\n            condition: (\r\n              predicate: AnyListenerPredicate<any>,\r\n              timeout?: number\r\n            ) => take(predicate, timeout).then(Boolean),\r\n            take,\r\n            delay: createDelay(internalTaskController.signal),\r\n            pause: createPause<any>(internalTaskController.signal),\r\n            extra,\r\n            signal: internalTaskController.signal,\r\n            fork: createFork(internalTaskController.signal),\r\n            unsubscribe: entry.unsubscribe,\r\n            subscribe: () => {\r\n              listenerMap.set(entry.id, entry)\r\n            },\r\n            cancelActiveListeners: () => {\r\n              entry.pending.forEach((controller, _, set) => {\r\n                if (controller !== internalTaskController) {\r\n                  abortControllerWithReason(controller, listenerCancelled)\r\n                  set.delete(controller)\r\n                }\r\n              })\r\n            },\r\n          })\r\n        )\r\n      )\r\n    } catch (listenerError) {\r\n      if (!(listenerError instanceof TaskAbortError)) {\r\n        safelyNotifyError(onError, listenerError, {\r\n          raisedBy: 'effect',\r\n        })\r\n      }\r\n    } finally {\r\n      abortControllerWithReason(internalTaskController, listenerCompleted) // Notify that the task has completed\r\n      entry.pending.delete(internalTaskController)\r\n    }\r\n  }\r\n\r\n  const clearListenerMiddleware = createClearListenerMiddleware(listenerMap)\r\n\r\n  const middleware: ListenerMiddleware<S, D, ExtraArgument> =\r\n    (api) => (next) => (action) => {\r\n      if (addListener.match(action)) {\r\n        return startListening(action.payload)\r\n      }\r\n\r\n      if (clearAllListeners.match(action)) {\r\n        clearListenerMiddleware()\r\n        return\r\n      }\r\n\r\n      if (removeListener.match(action)) {\r\n        return stopListening(action.payload)\r\n      }\r\n\r\n      // Need to get this state _before_ the reducer processes the action\r\n      let originalState: S | typeof INTERNAL_NIL_TOKEN = api.getState()\r\n\r\n      // `getOriginalState` can only be called synchronously.\r\n      // @see https://github.com/reduxjs/redux-toolkit/discussions/1648#discussioncomment-1932820\r\n      const getOriginalState = (): S => {\r\n        if (originalState === INTERNAL_NIL_TOKEN) {\r\n          throw new Error(\r\n            `${alm}: getOriginalState can only be called synchronously`\r\n          )\r\n        }\r\n\r\n        return originalState as S\r\n      }\r\n\r\n      let result: unknown\r\n\r\n      try {\r\n        // Actually forward the action to the reducer before we handle listeners\r\n        result = next(action)\r\n\r\n        if (listenerMap.size > 0) {\r\n          let currentState = api.getState()\r\n          // Work around ESBuild+TS transpilation issue\r\n          const listenerEntries = Array.from(listenerMap.values())\r\n          for (let entry of listenerEntries) {\r\n            let runListener = false\r\n\r\n            try {\r\n              runListener = entry.predicate(action, currentState, originalState)\r\n            } catch (predicateError) {\r\n              runListener = false\r\n\r\n              safelyNotifyError(onError, predicateError, {\r\n                raisedBy: 'predicate',\r\n              })\r\n            }\r\n\r\n            if (!runListener) {\r\n              continue\r\n            }\r\n\r\n            notifyListener(entry, action, api, getOriginalState)\r\n          }\r\n        }\r\n      } finally {\r\n        // Remove `originalState` store from this scope.\r\n        originalState = INTERNAL_NIL_TOKEN\r\n      }\r\n\r\n      return result\r\n    }\r\n\r\n  return {\r\n    middleware,\r\n    startListening,\r\n    stopListening,\r\n    clearListeners: clearListenerMiddleware,\r\n  } as ListenerMiddlewareInstance<S, D, ExtraArgument>\r\n}\r\n","import { TaskAbortError } from './exceptions'\r\nimport type { AbortSignalWithReason, TaskResult } from './types'\r\nimport { addAbortSignalListener, catchRejection, noop } from './utils'\r\n\r\n/**\r\n * Synchronously raises {@link TaskAbortError} if the task tied to the input `signal` has been cancelled.\r\n * @param signal\r\n * @param reason\r\n * @see {TaskAbortError}\r\n */\r\nexport const validateActive = (signal: AbortSignal): void => {\r\n  if (signal.aborted) {\r\n    throw new TaskAbortError((signal as AbortSignalWithReason<string>).reason)\r\n  }\r\n}\r\n\r\n/**\r\n * Generates a race between the promise(s) and the AbortSignal\r\n * This avoids `Promise.race()`-related memory leaks:\r\n * https://github.com/nodejs/node/issues/17469#issuecomment-349794909\r\n */\r\nexport function raceWithSignal<T>(\r\n  signal: AbortSignalWithReason<string>,\r\n  promise: Promise<T>\r\n): Promise<T> {\r\n  let cleanup = noop\r\n  return new Promise<T>((resolve, reject) => {\r\n    const notifyRejection = () => reject(new TaskAbortError(signal.reason))\r\n\r\n    if (signal.aborted) {\r\n      notifyRejection()\r\n      return\r\n    }\r\n\r\n    cleanup = addAbortSignalListener(signal, notifyRejection)\r\n    promise.finally(() => cleanup()).then(resolve, reject)\r\n  }).finally(() => {\r\n    // after this point, replace `cleanup` with a noop, so there is no reference to `signal` any more\r\n    cleanup = noop\r\n  })\r\n}\r\n\r\n/**\r\n * Runs a task and returns promise that resolves to {@link TaskResult}.\r\n * Second argument is an optional `cleanUp` function that always runs after task.\r\n *\r\n * **Note:** `runTask` runs the executor in the next microtask.\r\n * @returns\r\n */\r\nexport const runTask = async <T>(\r\n  task: () => Promise<T>,\r\n  cleanUp?: () => void\r\n): Promise<TaskResult<T>> => {\r\n  try {\r\n    await Promise.resolve()\r\n    const value = await task()\r\n    return {\r\n      status: 'ok',\r\n      value,\r\n    }\r\n  } catch (error: any) {\r\n    return {\r\n      status: error instanceof TaskAbortError ? 'cancelled' : 'rejected',\r\n      error,\r\n    }\r\n  } finally {\r\n    cleanUp?.()\r\n  }\r\n}\r\n\r\n/**\r\n * Given an input `AbortSignal` and a promise returns another promise that resolves\r\n * as soon the input promise is provided or rejects as soon as\r\n * `AbortSignal.abort` is `true`.\r\n * @param signal\r\n * @returns\r\n */\r\nexport const createPause = <T>(signal: AbortSignal) => {\r\n  return (promise: Promise<T>): Promise<T> => {\r\n    return catchRejection(\r\n      raceWithSignal(signal, promise).then((output) => {\r\n        validateActive(signal)\r\n        return output\r\n      })\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * Given an input `AbortSignal` and `timeoutMs` returns a promise that resolves\r\n * after `timeoutMs` or rejects as soon as `AbortSignal.abort` is `true`.\r\n * @param signal\r\n * @returns\r\n */\r\nexport const createDelay = (signal: AbortSignal) => {\r\n  const pause = createPause<void>(signal)\r\n  return (timeoutMs: number): Promise<void> => {\r\n    return pause(new Promise<void>((resolve) => setTimeout(resolve, timeoutMs)))\r\n  }\r\n}\r\n","import type { StoreEnhancer } from 'redux'\r\n\r\nexport const SHOULD_AUTOBATCH = 'RTK_autoBatch'\r\n\r\nexport const prepareAutoBatched =\r\n  <T>() =>\r\n  (payload: T): { payload: T; meta: unknown } => ({\r\n    payload,\r\n    meta: { [SHOULD_AUTOBATCH]: true },\r\n  })\r\n\r\n// TODO Remove this in 2.0\r\n// Copied from https://github.com/feross/queue-microtask\r\nlet promise: Promise<any>\r\nconst queueMicrotaskShim =\r\n  typeof queueMicrotask === 'function'\r\n    ? queueMicrotask.bind(\r\n        typeof window !== 'undefined'\r\n          ? window\r\n          : typeof global !== 'undefined'\r\n          ? global\r\n          : globalThis\r\n      )\r\n    : // reuse resolved promise, and allocate it lazily\r\n      (cb: () => void) =>\r\n        (promise || (promise = Promise.resolve())).then(cb).catch((err: any) =>\r\n          setTimeout(() => {\r\n            throw err\r\n          }, 0)\r\n        )\r\n\r\nconst createQueueWithTimer = (timeout: number) => {\r\n  return (notify: () => void) => {\r\n    setTimeout(notify, timeout)\r\n  }\r\n}\r\n\r\n// requestAnimationFrame won't exist in SSR environments.\r\n// Fall back to a vague approximation just to keep from erroring.\r\nconst rAF =\r\n  typeof window !== 'undefined' && window.requestAnimationFrame\r\n    ? window.requestAnimationFrame\r\n    : createQueueWithTimer(10)\r\n\r\nexport type AutoBatchOptions =\r\n  | { type: 'tick' }\r\n  | { type: 'timer'; timeout: number }\r\n  | { type: 'raf' }\r\n  | { type: 'callback'; queueNotification: (notify: () => void) => void }\r\n\r\n/**\r\n * A Redux store enhancer that watches for \"low-priority\" actions, and delays\r\n * notifying subscribers until either the queued callback executes or the\r\n * next \"standard-priority\" action is dispatched.\r\n *\r\n * This allows dispatching multiple \"low-priority\" actions in a row with only\r\n * a single subscriber notification to the UI after the sequence of actions\r\n * is finished, thus improving UI re-render performance.\r\n *\r\n * Watches for actions with the `action.meta[SHOULD_AUTOBATCH]` attribute.\r\n * This can be added to `action.meta` manually, or by using the\r\n * `prepareAutoBatched` helper.\r\n *\r\n * By default, it will queue a notification for the end of the event loop tick.\r\n * However, you can pass several other options to configure the behavior:\r\n * - `{type: 'tick'}: queues using `queueMicrotask` (default)\r\n * - `{type: 'timer, timeout: number}`: queues using `setTimeout`\r\n * - `{type: 'raf'}`: queues using `requestAnimationFrame`\r\n * - `{type: 'callback', queueNotification: (notify: () => void) => void}: lets you provide your own callback\r\n *\r\n *\r\n */\r\nexport const autoBatchEnhancer =\r\n  (options: AutoBatchOptions = { type: 'raf' }): StoreEnhancer =>\r\n  (next) =>\r\n  (...args) => {\r\n    const store = next(...args)\r\n\r\n    let notifying = true\r\n    let shouldNotifyAtEndOfTick = false\r\n    let notificationQueued = false\r\n\r\n    const listeners = new Set<() => void>()\r\n\r\n    const queueCallback =\r\n      options.type === 'tick'\r\n        ? queueMicrotaskShim\r\n        : options.type === 'raf'\r\n        ? rAF\r\n        : options.type === 'callback'\r\n        ? options.queueNotification\r\n        : createQueueWithTimer(options.timeout)\r\n\r\n    const notifyListeners = () => {\r\n      // We're running at the end of the event loop tick.\r\n      // Run the real listener callbacks to actually update the UI.\r\n      notificationQueued = false\r\n      if (shouldNotifyAtEndOfTick) {\r\n        shouldNotifyAtEndOfTick = false\r\n        listeners.forEach((l) => l())\r\n      }\r\n    }\r\n\r\n    return Object.assign({}, store, {\r\n      // Override the base `store.subscribe` method to keep original listeners\r\n      // from running if we're delaying notifications\r\n      subscribe(listener: () => void) {\r\n        // Each wrapped listener will only call the real listener if\r\n        // the `notifying` flag is currently active when it's called.\r\n        // This lets the base store work as normal, while the actual UI\r\n        // update becomes controlled by this enhancer.\r\n        const wrappedListener: typeof listener = () => notifying && listener()\r\n        const unsubscribe = store.subscribe(wrappedListener)\r\n        listeners.add(listener)\r\n        return () => {\r\n          unsubscribe()\r\n          listeners.delete(listener)\r\n        }\r\n      },\r\n      // Override the base `store.dispatch` method so that we can check actions\r\n      // for the `shouldAutoBatch` flag and determine if batching is active\r\n      dispatch(action: any) {\r\n        try {\r\n          // If the action does _not_ have the `shouldAutoBatch` flag,\r\n          // we resume/continue normal notify-after-each-dispatch behavior\r\n          notifying = !action?.meta?.[SHOULD_AUTOBATCH]\r\n          // If a `notifyListeners` microtask was queued, you can't cancel it.\r\n          // Instead, we set a flag so that it's a no-op when it does run\r\n          shouldNotifyAtEndOfTick = !notifying\r\n          if (shouldNotifyAtEndOfTick) {\r\n            // We've seen at least 1 action with `SHOULD_AUTOBATCH`. Try to queue\r\n            // a microtask to notify listeners at the end of the event loop tick.\r\n            // Make sure we only enqueue this _once_ per tick.\r\n            if (!notificationQueued) {\r\n              notificationQueued = true\r\n              queueCallback(notifyListeners)\r\n            }\r\n          }\r\n          // Go ahead and process the action as usual, including reducers.\r\n          // If normal notification behavior is enabled, the store will notify\r\n          // all of its own listeners, and the wrapper callbacks above will\r\n          // see `notifying` is true and pass on to the real listener callbacks.\r\n          // If we're \"batching\" behavior, then the wrapped callbacks will\r\n          // bail out, causing the base store notification behavior to be no-ops.\r\n          return store.dispatch(action)\r\n        } finally {\r\n          // Assume we're back to normal behavior after each action\r\n          notifying = true\r\n        }\r\n      },\r\n    })\r\n  }\r\n","import { enableES5 } from 'immer'\r\nexport * from 'redux'\r\nexport {\r\n  default as createNextState,\r\n  current,\r\n  freeze,\r\n  original,\r\n  isDraft,\r\n} from 'immer'\r\nexport type { Draft } from 'immer'\r\nexport { createSelector } from 'reselect'\r\nexport type {\r\n  Selector,\r\n  OutputParametricSelector,\r\n  OutputSelector,\r\n  ParametricSelector,\r\n} from 'reselect'\r\nexport { createDraftSafeSelector } from './createDraftSafeSelector'\r\nexport type { ThunkAction, ThunkDispatch, ThunkMiddleware } from 'redux-thunk'\r\n\r\n// We deliberately enable Immer's ES5 support, on the grounds that\r\n// we assume RTK will be used with React Native and other Proxy-less\r\n// environments.  In addition, that's how Immer 4 behaved, and since\r\n// we want to ship this in an RTK minor, we should keep the same behavior.\r\nenableES5()\r\n\r\nexport {\r\n  // js\r\n  configureStore,\r\n} from './configureStore'\r\nexport type {\r\n  // types\r\n  ConfigureEnhancersCallback,\r\n  ConfigureStoreOptions,\r\n  EnhancedStore,\r\n} from './configureStore'\r\nexport type { DevToolsEnhancerOptions } from './devtoolsExtension'\r\nexport {\r\n  // js\r\n  createAction,\r\n  getType,\r\n} from './createAction'\r\nexport type {\r\n  // types\r\n  PayloadAction,\r\n  PayloadActionCreator,\r\n  ActionCreatorWithNonInferrablePayload,\r\n  ActionCreatorWithOptionalPayload,\r\n  ActionCreatorWithPayload,\r\n  ActionCreatorWithoutPayload,\r\n  ActionCreatorWithPreparedPayload,\r\n  PrepareAction,\r\n} from './createAction'\r\nexport {\r\n  // js\r\n  createReducer,\r\n} from './createReducer'\r\nexport type {\r\n  // types\r\n  Actions,\r\n  CaseReducer,\r\n  CaseReducers,\r\n} from './createReducer'\r\nexport {\r\n  // js\r\n  createSlice,\r\n} from './createSlice'\r\n\r\nexport type {\r\n  // types\r\n  CreateSliceOptions,\r\n  Slice,\r\n  CaseReducerActions,\r\n  SliceCaseReducers,\r\n  ValidateSliceCaseReducers,\r\n  CaseReducerWithPrepare,\r\n  SliceActionCreator,\r\n} from './createSlice'\r\nexport {\r\n  // js\r\n  createImmutableStateInvariantMiddleware,\r\n  isImmutableDefault,\r\n} from './immutableStateInvariantMiddleware'\r\nexport type {\r\n  // types\r\n  ImmutableStateInvariantMiddlewareOptions,\r\n} from './immutableStateInvariantMiddleware'\r\nexport {\r\n  // js\r\n  createSerializableStateInvariantMiddleware,\r\n  findNonSerializableValue,\r\n  isPlain,\r\n} from './serializableStateInvariantMiddleware'\r\nexport type {\r\n  // types\r\n  SerializableStateInvariantMiddlewareOptions,\r\n} from './serializableStateInvariantMiddleware'\r\nexport {\r\n  // js\r\n  getDefaultMiddleware,\r\n} from './getDefaultMiddleware'\r\nexport type {\r\n  // types\r\n  ActionReducerMapBuilder,\r\n} from './mapBuilders'\r\nexport { MiddlewareArray } from './utils'\r\n\r\nexport { createEntityAdapter } from './entities/create_adapter'\r\nexport type {\r\n  Dictionary,\r\n  EntityState,\r\n  EntityAdapter,\r\n  EntitySelectors,\r\n  EntityStateAdapter,\r\n  EntityId,\r\n  Update,\r\n  IdSelector,\r\n  Comparer,\r\n} from './entities/models'\r\n\r\nexport {\r\n  createAsyncThunk,\r\n  unwrapResult,\r\n  miniSerializeError,\r\n} from './createAsyncThunk'\r\nexport type {\r\n  AsyncThunk,\r\n  AsyncThunkOptions,\r\n  AsyncThunkAction,\r\n  AsyncThunkPayloadCreatorReturnValue,\r\n  AsyncThunkPayloadCreator,\r\n  SerializedError,\r\n} from './createAsyncThunk'\r\n\r\nexport {\r\n  // js\r\n  isAllOf,\r\n  isAnyOf,\r\n  isPending,\r\n  isRejected,\r\n  isFulfilled,\r\n  isAsyncThunkAction,\r\n  isRejectedWithValue,\r\n} from './matchers'\r\nexport type {\r\n  // types\r\n  ActionMatchingAllOf,\r\n  ActionMatchingAnyOf,\r\n} from './matchers'\r\n\r\nexport { nanoid } from './nanoid'\r\n\r\nexport { default as isPlainObject } from './isPlainObject'\r\n\r\nexport type {\r\n  ListenerEffect,\r\n  ListenerMiddleware,\r\n  ListenerEffectAPI,\r\n  ListenerMiddlewareInstance,\r\n  CreateListenerMiddlewareOptions,\r\n  ListenerErrorHandler,\r\n  TypedStartListening,\r\n  TypedAddListener,\r\n  TypedStopListening,\r\n  TypedRemoveListener,\r\n  UnsubscribeListener,\r\n  UnsubscribeListenerOptions,\r\n  ForkedTaskExecutor,\r\n  ForkedTask,\r\n  ForkedTaskAPI,\r\n  AsyncTaskExecutor,\r\n  SyncTaskExecutor,\r\n  TaskCancelled,\r\n  TaskRejected,\r\n  TaskResolved,\r\n  TaskResult,\r\n} from './listenerMiddleware/index'\r\nexport type { AnyListenerPredicate } from './listenerMiddleware/types'\r\n\r\nexport {\r\n  createListenerMiddleware,\r\n  addListener,\r\n  removeListener,\r\n  clearAllListeners,\r\n  TaskAbortError,\r\n} from './listenerMiddleware/index'\r\n\r\nexport {\r\n  SHOULD_AUTOBATCH,\r\n  prepareAutoBatched,\r\n  autoBatchEnhancer,\r\n} from './autoBatchEnhancer'\r\nexport type { AutoBatchOptions } from './autoBatchEnhancer'\r\n","const errors = {\n\t0: \"Illegal state\",\n\t1: \"Immer drafts cannot have computed properties\",\n\t2: \"This object has been frozen and should not be mutated\",\n\t3(data: any) {\n\t\treturn (\n\t\t\t\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" +\n\t\t\tdata\n\t\t)\n\t},\n\t4: \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n\t5: \"Immer forbids circular references\",\n\t6: \"The first or second argument to `produce` must be a function\",\n\t7: \"The third argument to `produce` must be a function or undefined\",\n\t8: \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n\t9: \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n\t10: \"The given draft is already finalized\",\n\t11: \"Object.defineProperty() cannot be used on an Immer draft\",\n\t12: \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n\t13: \"Immer only supports deleting array indices\",\n\t14: \"Immer only supports setting array indices and the 'length' property\",\n\t15(path: string) {\n\t\treturn \"Cannot apply patch, path doesn't resolve: \" + path\n\t},\n\t16: 'Sets cannot have \"replace\" patches.',\n\t17(op: string) {\n\t\treturn \"Unsupported patch operation: \" + op\n\t},\n\t18(plugin: string) {\n\t\treturn `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`\n\t},\n\t20: \"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",\n\t21(thing: string) {\n\t\treturn `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`\n\t},\n\t22(thing: string) {\n\t\treturn `'current' expects a draft, got: ${thing}`\n\t},\n\t23(thing: string) {\n\t\treturn `'original' expects a draft, got: ${thing}`\n\t},\n\t24: \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n} as const\n\nexport function die(error: keyof typeof errors, ...args: any[]): never {\n\tif (__DEV__) {\n\t\tconst e = errors[error]\n\t\tconst msg = !e\n\t\t\t? \"unknown error nr: \" + error\n\t\t\t: typeof e === \"function\"\n\t\t\t? e.apply(null, args as any)\n\t\t\t: e\n\t\tthrow new Error(`[Immer] ${msg}`)\n\t}\n\tthrow new Error(\n\t\t`[Immer] minified error nr: ${error}${\n\t\t\targs.length ? \" \" + args.map(s => `'${s}'`).join(\",\") : \"\"\n\t\t}. Find the full error at: https://bit.ly/3cXEKWf`\n\t)\n}\n","import {\n\tDRAFT_STATE,\n\tDRAFTABLE,\n\thasSet,\n\tObjectish,\n\tDrafted,\n\tAnyObject,\n\tAnyMap,\n\tAnySet,\n\tImmerState,\n\thasMap,\n\tArchtype,\n\tdie\n} from \"../internal\"\n\n/** Returns true if the given value is an Immer draft */\n/*#__PURE__*/\nexport function isDraft(value: any): boolean {\n\treturn !!value && !!value[DRAFT_STATE]\n}\n\n/** Returns true if the given value can be drafted by Immer */\n/*#__PURE__*/\nexport function isDraftable(value: any): boolean {\n\tif (!value) return false\n\treturn (\n\t\tisPlainObject(value) ||\n\t\tArray.isArray(value) ||\n\t\t!!value[DRAFTABLE] ||\n\t\t!!value.constructor?.[DRAFTABLE] ||\n\t\tisMap(value) ||\n\t\tisSet(value)\n\t)\n}\n\nconst objectCtorString = Object.prototype.constructor.toString()\n/*#__PURE__*/\nexport function isPlainObject(value: any): boolean {\n\tif (!value || typeof value !== \"object\") return false\n\tconst proto = Object.getPrototypeOf(value)\n\tif (proto === null) {\n\t\treturn true\n\t}\n\tconst Ctor =\n\t\tObject.hasOwnProperty.call(proto, \"constructor\") && proto.constructor\n\n\tif (Ctor === Object) return true\n\n\treturn (\n\t\ttypeof Ctor == \"function\" &&\n\t\tFunction.toString.call(Ctor) === objectCtorString\n\t)\n}\n\n/** Get the underlying object that is represented by the given draft */\n/*#__PURE__*/\nexport function original<T>(value: T): T | undefined\nexport function original(value: Drafted<any>): any {\n\tif (!isDraft(value)) die(23, value)\n\treturn value[DRAFT_STATE].base_\n}\n\n/*#__PURE__*/\nexport const ownKeys: (target: AnyObject) => PropertyKey[] =\n\ttypeof Reflect !== \"undefined\" && Reflect.ownKeys\n\t\t? Reflect.ownKeys\n\t\t: typeof Object.getOwnPropertySymbols !== \"undefined\"\n\t\t? obj =>\n\t\t\t\tObject.getOwnPropertyNames(obj).concat(\n\t\t\t\t\tObject.getOwnPropertySymbols(obj) as any\n\t\t\t\t)\n\t\t: /* istanbul ignore next */ Object.getOwnPropertyNames\n\nexport const getOwnPropertyDescriptors =\n\tObject.getOwnPropertyDescriptors ||\n\tfunction getOwnPropertyDescriptors(target: any) {\n\t\t// Polyfill needed for Hermes and IE, see https://github.com/facebook/hermes/issues/274\n\t\tconst res: any = {}\n\t\townKeys(target).forEach(key => {\n\t\t\tres[key] = Object.getOwnPropertyDescriptor(target, key)\n\t\t})\n\t\treturn res\n\t}\n\nexport function each<T extends Objectish>(\n\tobj: T,\n\titer: (key: string | number, value: any, source: T) => void,\n\tenumerableOnly?: boolean\n): void\nexport function each(obj: any, iter: any, enumerableOnly = false) {\n\tif (getArchtype(obj) === Archtype.Object) {\n\t\t;(enumerableOnly ? Object.keys : ownKeys)(obj).forEach(key => {\n\t\t\tif (!enumerableOnly || typeof key !== \"symbol\") iter(key, obj[key], obj)\n\t\t})\n\t} else {\n\t\tobj.forEach((entry: any, index: any) => iter(index, entry, obj))\n\t}\n}\n\n/*#__PURE__*/\nexport function getArchtype(thing: any): Archtype {\n\t/* istanbul ignore next */\n\tconst state: undefined | ImmerState = thing[DRAFT_STATE]\n\treturn state\n\t\t? state.type_ > 3\n\t\t\t? state.type_ - 4 // cause Object and Array map back from 4 and 5\n\t\t\t: (state.type_ as any) // others are the same\n\t\t: Array.isArray(thing)\n\t\t? Archtype.Array\n\t\t: isMap(thing)\n\t\t? Archtype.Map\n\t\t: isSet(thing)\n\t\t? Archtype.Set\n\t\t: Archtype.Object\n}\n\n/*#__PURE__*/\nexport function has(thing: any, prop: PropertyKey): boolean {\n\treturn getArchtype(thing) === Archtype.Map\n\t\t? thing.has(prop)\n\t\t: Object.prototype.hasOwnProperty.call(thing, prop)\n}\n\n/*#__PURE__*/\nexport function get(thing: AnyMap | AnyObject, prop: PropertyKey): any {\n\t// @ts-ignore\n\treturn getArchtype(thing) === Archtype.Map ? thing.get(prop) : thing[prop]\n}\n\n/*#__PURE__*/\nexport function set(thing: any, propOrOldValue: PropertyKey, value: any) {\n\tconst t = getArchtype(thing)\n\tif (t === Archtype.Map) thing.set(propOrOldValue, value)\n\telse if (t === Archtype.Set) {\n\t\tthing.add(value)\n\t} else thing[propOrOldValue] = value\n}\n\n/*#__PURE__*/\nexport function is(x: any, y: any): boolean {\n\t// From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n\tif (x === y) {\n\t\treturn x !== 0 || 1 / x === 1 / y\n\t} else {\n\t\treturn x !== x && y !== y\n\t}\n}\n\n/*#__PURE__*/\nexport function isMap(target: any): target is AnyMap {\n\treturn hasMap && target instanceof Map\n}\n\n/*#__PURE__*/\nexport function isSet(target: any): target is AnySet {\n\treturn hasSet && target instanceof Set\n}\n/*#__PURE__*/\nexport function latest(state: ImmerState): any {\n\treturn state.copy_ || state.base_\n}\n\n/*#__PURE__*/\nexport function shallowCopy(base: any) {\n\tif (Array.isArray(base)) return Array.prototype.slice.call(base)\n\tconst descriptors = getOwnPropertyDescriptors(base)\n\tdelete descriptors[DRAFT_STATE as any]\n\tlet keys = ownKeys(descriptors)\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tconst key: any = keys[i]\n\t\tconst desc = descriptors[key]\n\t\tif (desc.writable === false) {\n\t\t\tdesc.writable = true\n\t\t\tdesc.configurable = true\n\t\t}\n\t\t// like object.assign, we will read any _own_, get/set accessors. This helps in dealing\n\t\t// with libraries that trap values, like mobx or vue\n\t\t// unlike object.assign, non-enumerables will be copied as well\n\t\tif (desc.get || desc.set)\n\t\t\tdescriptors[key] = {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true, // could live with !!desc.set as well here...\n\t\t\t\tenumerable: desc.enumerable,\n\t\t\t\tvalue: base[key]\n\t\t\t}\n\t}\n\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n}\n\n/**\n * Freezes draftable objects. Returns the original object.\n * By default freezes shallowly, but if the second argument is `true` it will freeze recursively.\n *\n * @param obj\n * @param deep\n */\nexport function freeze<T>(obj: T, deep?: boolean): T\nexport function freeze<T>(obj: any, deep: boolean = false): T {\n\tif (isFrozen(obj) || isDraft(obj) || !isDraftable(obj)) return obj\n\tif (getArchtype(obj) > 1 /* Map or Set */) {\n\t\tobj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections as any\n\t}\n\tObject.freeze(obj)\n\tif (deep) each(obj, (key, value) => freeze(value, true), true)\n\treturn obj\n}\n\nfunction dontMutateFrozenCollections() {\n\tdie(2)\n}\n\nexport function isFrozen(obj: any): boolean {\n\tif (obj == null || typeof obj !== \"object\") return true\n\t// See #600, IE dies on non-objects in Object.isFrozen\n\treturn Object.isFrozen(obj)\n}\n","import {\n\tImmerState,\n\tPatch,\n\tImmerScope,\n\tDrafted,\n\tAnyObject,\n\tImmerBaseState,\n\tAnyMap,\n\tAnySet,\n\tProxyType,\n\tdie\n} from \"../internal\"\n\n/** Plugin utilities */\nconst plugins: {\n\tPatches?: {\n\t\tgeneratePatches_(\n\t\t\tstate: ImmerState,\n\t\t\tbasePath: PatchPath,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tgenerateReplacementPatches_(\n\t\t\tbase: any,\n\t\t\treplacement: any,\n\t\t\tpatches: Patch[],\n\t\t\tinversePatches: Patch[]\n\t\t): void\n\t\tapplyPatches_<T>(draft: T, patches: Patch[]): T\n\t}\n\tES5?: {\n\t\twillFinalizeES5_(scope: ImmerScope, result: any, isReplaced: boolean): void\n\t\tcreateES5Proxy_<T>(\n\t\t\tbase: T,\n\t\t\tparent?: ImmerState\n\t\t): Drafted<T, ES5ObjectState | ES5ArrayState>\n\t\thasChanges_(state: ES5ArrayState | ES5ObjectState): boolean\n\t}\n\tMapSet?: {\n\t\tproxyMap_<T extends AnyMap>(target: T, parent?: ImmerState): T\n\t\tproxySet_<T extends AnySet>(target: T, parent?: ImmerState): T\n\t}\n} = {}\n\ntype Plugins = typeof plugins\n\nexport function getPlugin<K extends keyof Plugins>(\n\tpluginKey: K\n): Exclude<Plugins[K], undefined> {\n\tconst plugin = plugins[pluginKey]\n\tif (!plugin) {\n\t\tdie(18, pluginKey)\n\t}\n\t// @ts-ignore\n\treturn plugin\n}\n\nexport function loadPlugin<K extends keyof Plugins>(\n\tpluginKey: K,\n\timplementation: Plugins[K]\n): void {\n\tif (!plugins[pluginKey]) plugins[pluginKey] = implementation\n}\n\n/** ES5 Plugin */\n\ninterface ES5BaseState extends ImmerBaseState {\n\tassigned_: {[key: string]: any}\n\tparent_?: ImmerState\n\trevoked_: boolean\n}\n\nexport interface ES5ObjectState extends ES5BaseState {\n\ttype_: ProxyType.ES5Object\n\tdraft_: Drafted<AnyObject, ES5ObjectState>\n\tbase_: AnyObject\n\tcopy_: AnyObject | null\n}\n\nexport interface ES5ArrayState extends ES5BaseState {\n\ttype_: ProxyType.ES5Array\n\tdraft_: Drafted<AnyObject, ES5ArrayState>\n\tbase_: any\n\tcopy_: any\n}\n\n/** Map / Set plugin */\n\nexport interface MapState extends ImmerBaseState {\n\ttype_: ProxyType.Map\n\tcopy_: AnyMap | undefined\n\tassigned_: Map<any, boolean> | undefined\n\tbase_: AnyMap\n\trevoked_: boolean\n\tdraft_: Drafted<AnyMap, MapState>\n}\n\nexport interface SetState extends ImmerBaseState {\n\ttype_: ProxyType.Set\n\tcopy_: AnySet | undefined\n\tbase_: AnySet\n\tdrafts_: Map<any, Drafted> // maps the original value to the draft value in the new set\n\trevoked_: boolean\n\tdraft_: Drafted<AnySet, SetState>\n}\n\n/** Patches plugin */\n\nexport type PatchPath = (string | number)[]\n","import {\n\tPatch,\n\tPatchListener,\n\tDrafted,\n\tImmer,\n\tDRAFT_STATE,\n\tImmerState,\n\tProxyType,\n\tgetPlugin\n} from \"../internal\"\nimport {die} from \"../utils/errors\"\n\n/** Each scope represents a `produce` call. */\n\nexport interface ImmerScope {\n\tpatches_?: Patch[]\n\tinversePatches_?: Patch[]\n\tcanAutoFreeze_: boolean\n\tdrafts_: any[]\n\tparent_?: ImmerScope\n\tpatchListener_?: PatchListener\n\timmer_: Immer\n\tunfinalizedDrafts_: number\n}\n\nlet currentScope: ImmerScope | undefined\n\nexport function getCurrentScope() {\n\tif (__DEV__ && !currentScope) die(0)\n\treturn currentScope!\n}\n\nfunction createScope(\n\tparent_: ImmerScope | undefined,\n\timmer_: Immer\n): ImmerScope {\n\treturn {\n\t\tdrafts_: [],\n\t\tparent_,\n\t\timmer_,\n\t\t// Whenever the modified draft contains a draft from another scope, we\n\t\t// need to prevent auto-freezing so the unowned draft can be finalized.\n\t\tcanAutoFreeze_: true,\n\t\tunfinalizedDrafts_: 0\n\t}\n}\n\nexport function usePatchesInScope(\n\tscope: ImmerScope,\n\tpatchListener?: PatchListener\n) {\n\tif (patchListener) {\n\t\tgetPlugin(\"Patches\") // assert we have the plugin\n\t\tscope.patches_ = []\n\t\tscope.inversePatches_ = []\n\t\tscope.patchListener_ = patchListener\n\t}\n}\n\nexport function revokeScope(scope: ImmerScope) {\n\tleaveScope(scope)\n\tscope.drafts_.forEach(revokeDraft)\n\t// @ts-ignore\n\tscope.drafts_ = null\n}\n\nexport function leaveScope(scope: ImmerScope) {\n\tif (scope === currentScope) {\n\t\tcurrentScope = scope.parent_\n\t}\n}\n\nexport function enterScope(immer: Immer) {\n\treturn (currentScope = createScope(currentScope, immer))\n}\n\nfunction revokeDraft(draft: Drafted) {\n\tconst state: ImmerState = draft[DRAFT_STATE]\n\tif (\n\t\tstate.type_ === ProxyType.ProxyObject ||\n\t\tstate.type_ === ProxyType.ProxyArray\n\t)\n\t\tstate.revoke_()\n\telse state.revoked_ = true\n}\n","import {\n\tImmerScope,\n\tDRAFT_STATE,\n\tisDraftable,\n\tNOTHING,\n\tPatchPath,\n\teach,\n\thas,\n\tfreeze,\n\tImmerState,\n\tisDraft,\n\tSetState,\n\tset,\n\tProxyType,\n\tgetPlugin,\n\tdie,\n\trevokeScope,\n\tisFrozen,\n\tshallowCopy\n} from \"../internal\"\n\nexport function processResult(result: any, scope: ImmerScope) {\n\tscope.unfinalizedDrafts_ = scope.drafts_.length\n\tconst baseDraft = scope.drafts_![0]\n\tconst isReplaced = result !== undefined && result !== baseDraft\n\tif (!scope.immer_.useProxies_)\n\t\tgetPlugin(\"ES5\").willFinalizeES5_(scope, result, isReplaced)\n\tif (isReplaced) {\n\t\tif (baseDraft[DRAFT_STATE].modified_) {\n\t\t\trevokeScope(scope)\n\t\t\tdie(4)\n\t\t}\n\t\tif (isDraftable(result)) {\n\t\t\t// Finalize the result in case it contains (or is) a subset of the draft.\n\t\t\tresult = finalize(scope, result)\n\t\t\tif (!scope.parent_) maybeFreeze(scope, result)\n\t\t}\n\t\tif (scope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(\n\t\t\t\tbaseDraft[DRAFT_STATE].base_,\n\t\t\t\tresult,\n\t\t\t\tscope.patches_,\n\t\t\t\tscope.inversePatches_!\n\t\t\t)\n\t\t}\n\t} else {\n\t\t// Finalize the base draft.\n\t\tresult = finalize(scope, baseDraft, [])\n\t}\n\trevokeScope(scope)\n\tif (scope.patches_) {\n\t\tscope.patchListener_!(scope.patches_, scope.inversePatches_!)\n\t}\n\treturn result !== NOTHING ? result : undefined\n}\n\nfunction finalize(rootScope: ImmerScope, value: any, path?: PatchPath) {\n\t// Don't recurse in tho recursive data structures\n\tif (isFrozen(value)) return value\n\n\tconst state: ImmerState = value[DRAFT_STATE]\n\t// A plain object, might need freezing, might contain drafts\n\tif (!state) {\n\t\teach(\n\t\t\tvalue,\n\t\t\t(key, childValue) =>\n\t\t\t\tfinalizeProperty(rootScope, state, value, key, childValue, path),\n\t\t\ttrue // See #590, don't recurse into non-enumerable of non drafted objects\n\t\t)\n\t\treturn value\n\t}\n\t// Never finalize drafts owned by another scope.\n\tif (state.scope_ !== rootScope) return value\n\t// Unmodified draft, return the (frozen) original\n\tif (!state.modified_) {\n\t\tmaybeFreeze(rootScope, state.base_, true)\n\t\treturn state.base_\n\t}\n\t// Not finalized yet, let's do that now\n\tif (!state.finalized_) {\n\t\tstate.finalized_ = true\n\t\tstate.scope_.unfinalizedDrafts_--\n\t\tconst result =\n\t\t\t// For ES5, create a good copy from the draft first, with added keys and without deleted keys.\n\t\t\tstate.type_ === ProxyType.ES5Object || state.type_ === ProxyType.ES5Array\n\t\t\t\t? (state.copy_ = shallowCopy(state.draft_))\n\t\t\t\t: state.copy_\n\t\t// Finalize all children of the copy\n\t\t// For sets we clone before iterating, otherwise we can get in endless loop due to modifying during iteration, see #628\n\t\t// To preserve insertion order in all cases we then clear the set\n\t\t// And we let finalizeProperty know it needs to re-add non-draft children back to the target\n\t\tlet resultEach = result\n\t\tlet isSet = false\n\t\tif (state.type_ === ProxyType.Set) {\n\t\t\tresultEach = new Set(result)\n\t\t\tresult.clear()\n\t\t\tisSet = true\n\t\t}\n\t\teach(resultEach, (key, childValue) =>\n\t\t\tfinalizeProperty(rootScope, state, result, key, childValue, path, isSet)\n\t\t)\n\t\t// everything inside is frozen, we can freeze here\n\t\tmaybeFreeze(rootScope, result, false)\n\t\t// first time finalizing, let's create those patches\n\t\tif (path && rootScope.patches_) {\n\t\t\tgetPlugin(\"Patches\").generatePatches_(\n\t\t\t\tstate,\n\t\t\t\tpath,\n\t\t\t\trootScope.patches_,\n\t\t\t\trootScope.inversePatches_!\n\t\t\t)\n\t\t}\n\t}\n\treturn state.copy_\n}\n\nfunction finalizeProperty(\n\trootScope: ImmerScope,\n\tparentState: undefined | ImmerState,\n\ttargetObject: any,\n\tprop: string | number,\n\tchildValue: any,\n\trootPath?: PatchPath,\n\ttargetIsSet?: boolean\n) {\n\tif (__DEV__ && childValue === targetObject) die(5)\n\tif (isDraft(childValue)) {\n\t\tconst path =\n\t\t\trootPath &&\n\t\t\tparentState &&\n\t\t\tparentState!.type_ !== ProxyType.Set && // Set objects are atomic since they have no keys.\n\t\t\t!has((parentState as Exclude<ImmerState, SetState>).assigned_!, prop) // Skip deep patches for assigned keys.\n\t\t\t\t? rootPath!.concat(prop)\n\t\t\t\t: undefined\n\t\t// Drafts owned by `scope` are finalized here.\n\t\tconst res = finalize(rootScope, childValue, path)\n\t\tset(targetObject, prop, res)\n\t\t// Drafts from another scope must prevented to be frozen\n\t\t// if we got a draft back from finalize, we're in a nested produce and shouldn't freeze\n\t\tif (isDraft(res)) {\n\t\t\trootScope.canAutoFreeze_ = false\n\t\t} else return\n\t} else if (targetIsSet) {\n\t\ttargetObject.add(childValue)\n\t}\n\t// Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n\tif (isDraftable(childValue) && !isFrozen(childValue)) {\n\t\tif (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n\t\t\t// optimization: if an object is not a draft, and we don't have to\n\t\t\t// deepfreeze everything, and we are sure that no drafts are left in the remaining object\n\t\t\t// cause we saw and finalized all drafts already; we can stop visiting the rest of the tree.\n\t\t\t// This benefits especially adding large data tree's without further processing.\n\t\t\t// See add-data.js perf test\n\t\t\treturn\n\t\t}\n\t\tfinalize(rootScope, childValue)\n\t\t// immer deep freezes plain objects, so if there is no parent state, we freeze as well\n\t\tif (!parentState || !parentState.scope_.parent_)\n\t\t\tmaybeFreeze(rootScope, childValue)\n\t}\n}\n\nfunction maybeFreeze(scope: ImmerScope, value: any, deep = false) {\n\t// we never freeze for a non-root scope; as it would prevent pruning for drafts inside wrapping objects\n\tif (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n\t\tfreeze(value, deep)\n\t}\n}\n","import {\n\teach,\n\thas,\n\tis,\n\tisDraftable,\n\tshallowCopy,\n\tlatest,\n\tImmerBaseState,\n\tImmerState,\n\tDrafted,\n\tAnyObject,\n\tAnyArray,\n\tObjectish,\n\tgetCurrentScope,\n\tDRAFT_STATE,\n\tdie,\n\tcreateProxy,\n\tProxyType\n} from \"../internal\"\n\ninterface ProxyBaseState extends ImmerBaseState {\n\tassigned_: {\n\t\t[property: string]: boolean\n\t}\n\tparent_?: ImmerState\n\trevoke_(): void\n}\n\nexport interface ProxyObjectState extends ProxyBaseState {\n\ttype_: ProxyType.ProxyObject\n\tbase_: any\n\tcopy_: any\n\tdraft_: Drafted<AnyObject, ProxyObjectState>\n}\n\nexport interface ProxyArrayState extends ProxyBaseState {\n\ttype_: ProxyType.ProxyArray\n\tbase_: AnyArray\n\tcopy_: AnyArray | null\n\tdraft_: Drafted<AnyArray, ProxyArrayState>\n}\n\ntype ProxyState = ProxyObjectState | ProxyArrayState\n\n/**\n * Returns a new draft of the `base` object.\n *\n * The second argument is the parent draft-state (used internally).\n */\nexport function createProxyProxy<T extends Objectish>(\n\tbase: T,\n\tparent?: ImmerState\n): Drafted<T, ProxyState> {\n\tconst isArray = Array.isArray(base)\n\tconst state: ProxyState = {\n\t\ttype_: isArray ? ProxyType.ProxyArray : (ProxyType.ProxyObject as any),\n\t\t// Track which produce call this is associated with.\n\t\tscope_: parent ? parent.scope_ : getCurrentScope()!,\n\t\t// True for both shallow and deep changes.\n\t\tmodified_: false,\n\t\t// Used during finalization.\n\t\tfinalized_: false,\n\t\t// Track which properties have been assigned (true) or deleted (false).\n\t\tassigned_: {},\n\t\t// The parent draft state.\n\t\tparent_: parent,\n\t\t// The base state.\n\t\tbase_: base,\n\t\t// The base proxy.\n\t\tdraft_: null as any, // set below\n\t\t// The base copy with any updated values.\n\t\tcopy_: null,\n\t\t// Called by the `produce` function.\n\t\trevoke_: null as any,\n\t\tisManual_: false\n\t}\n\n\t// the traps must target something, a bit like the 'real' base.\n\t// but also, we need to be able to determine from the target what the relevant state is\n\t// (to avoid creating traps per instance to capture the state in closure,\n\t// and to avoid creating weird hidden properties as well)\n\t// So the trick is to use 'state' as the actual 'target'! (and make sure we intercept everything)\n\t// Note that in the case of an array, we put the state in an array to have better Reflect defaults ootb\n\tlet target: T = state as any\n\tlet traps: ProxyHandler<object | Array<any>> = objectTraps\n\tif (isArray) {\n\t\ttarget = [state] as any\n\t\ttraps = arrayTraps\n\t}\n\n\tconst {revoke, proxy} = Proxy.revocable(target, traps)\n\tstate.draft_ = proxy as any\n\tstate.revoke_ = revoke\n\treturn proxy as any\n}\n\n/**\n * Object drafts\n */\nexport const objectTraps: ProxyHandler<ProxyState> = {\n\tget(state, prop) {\n\t\tif (prop === DRAFT_STATE) return state\n\n\t\tconst source = latest(state)\n\t\tif (!has(source, prop)) {\n\t\t\t// non-existing or non-own property...\n\t\t\treturn readPropFromProto(state, source, prop)\n\t\t}\n\t\tconst value = source[prop]\n\t\tif (state.finalized_ || !isDraftable(value)) {\n\t\t\treturn value\n\t\t}\n\t\t// Check for existing draft in modified state.\n\t\t// Assigned values are never drafted. This catches any drafts we created, too.\n\t\tif (value === peek(state.base_, prop)) {\n\t\t\tprepareCopy(state)\n\t\t\treturn (state.copy_![prop as any] = createProxy(\n\t\t\t\tstate.scope_.immer_,\n\t\t\t\tvalue,\n\t\t\t\tstate\n\t\t\t))\n\t\t}\n\t\treturn value\n\t},\n\thas(state, prop) {\n\t\treturn prop in latest(state)\n\t},\n\townKeys(state) {\n\t\treturn Reflect.ownKeys(latest(state))\n\t},\n\tset(\n\t\tstate: ProxyObjectState,\n\t\tprop: string /* strictly not, but helps TS */,\n\t\tvalue\n\t) {\n\t\tconst desc = getDescriptorFromProto(latest(state), prop)\n\t\tif (desc?.set) {\n\t\t\t// special case: if this write is captured by a setter, we have\n\t\t\t// to trigger it with the correct context\n\t\t\tdesc.set.call(state.draft_, value)\n\t\t\treturn true\n\t\t}\n\t\tif (!state.modified_) {\n\t\t\t// the last check is because we need to be able to distinguish setting a non-existing to undefined (which is a change)\n\t\t\t// from setting an existing property with value undefined to undefined (which is not a change)\n\t\t\tconst current = peek(latest(state), prop)\n\t\t\t// special case, if we assigning the original value to a draft, we can ignore the assignment\n\t\t\tconst currentState: ProxyObjectState = current?.[DRAFT_STATE]\n\t\t\tif (currentState && currentState.base_ === value) {\n\t\t\t\tstate.copy_![prop] = value\n\t\t\t\tstate.assigned_[prop] = false\n\t\t\t\treturn true\n\t\t\t}\n\t\t\tif (is(value, current) && (value !== undefined || has(state.base_, prop)))\n\t\t\t\treturn true\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t}\n\n\t\tif (\n\t\t\t(state.copy_![prop] === value &&\n\t\t\t\t// special case: handle new props with value 'undefined'\n\t\t\t\t(value !== undefined || prop in state.copy_)) ||\n\t\t\t// special case: NaN\n\t\t\t(Number.isNaN(value) && Number.isNaN(state.copy_![prop]))\n\t\t)\n\t\t\treturn true\n\n\t\t// @ts-ignore\n\t\tstate.copy_![prop] = value\n\t\tstate.assigned_[prop] = true\n\t\treturn true\n\t},\n\tdeleteProperty(state, prop: string) {\n\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\tif (peek(state.base_, prop) !== undefined || prop in state.base_) {\n\t\t\tstate.assigned_[prop] = false\n\t\t\tprepareCopy(state)\n\t\t\tmarkChanged(state)\n\t\t} else {\n\t\t\t// if an originally not assigned property was deleted\n\t\t\tdelete state.assigned_[prop]\n\t\t}\n\t\t// @ts-ignore\n\t\tif (state.copy_) delete state.copy_[prop]\n\t\treturn true\n\t},\n\t// Note: We never coerce `desc.value` into an Immer draft, because we can't make\n\t// the same guarantee in ES5 mode.\n\tgetOwnPropertyDescriptor(state, prop) {\n\t\tconst owner = latest(state)\n\t\tconst desc = Reflect.getOwnPropertyDescriptor(owner, prop)\n\t\tif (!desc) return desc\n\t\treturn {\n\t\t\twritable: true,\n\t\t\tconfigurable: state.type_ !== ProxyType.ProxyArray || prop !== \"length\",\n\t\t\tenumerable: desc.enumerable,\n\t\t\tvalue: owner[prop]\n\t\t}\n\t},\n\tdefineProperty() {\n\t\tdie(11)\n\t},\n\tgetPrototypeOf(state) {\n\t\treturn Object.getPrototypeOf(state.base_)\n\t},\n\tsetPrototypeOf() {\n\t\tdie(12)\n\t}\n}\n\n/**\n * Array drafts\n */\n\nconst arrayTraps: ProxyHandler<[ProxyArrayState]> = {}\neach(objectTraps, (key, fn) => {\n\t// @ts-ignore\n\tarrayTraps[key] = function() {\n\t\targuments[0] = arguments[0][0]\n\t\treturn fn.apply(this, arguments)\n\t}\n})\narrayTraps.deleteProperty = function(state, prop) {\n\tif (__DEV__ && isNaN(parseInt(prop as any))) die(13)\n\t// @ts-ignore\n\treturn arrayTraps.set!.call(this, state, prop, undefined)\n}\narrayTraps.set = function(state, prop, value) {\n\tif (__DEV__ && prop !== \"length\" && isNaN(parseInt(prop as any))) die(14)\n\treturn objectTraps.set!.call(this, state[0], prop, value, state[0])\n}\n\n// Access a property without creating an Immer draft.\nfunction peek(draft: Drafted, prop: PropertyKey) {\n\tconst state = draft[DRAFT_STATE]\n\tconst source = state ? latest(state) : draft\n\treturn source[prop]\n}\n\nfunction readPropFromProto(state: ImmerState, source: any, prop: PropertyKey) {\n\tconst desc = getDescriptorFromProto(source, prop)\n\treturn desc\n\t\t? `value` in desc\n\t\t\t? desc.value\n\t\t\t: // This is a very special case, if the prop is a getter defined by the\n\t\t\t  // prototype, we should invoke it with the draft as context!\n\t\t\t  desc.get?.call(state.draft_)\n\t\t: undefined\n}\n\nfunction getDescriptorFromProto(\n\tsource: any,\n\tprop: PropertyKey\n): PropertyDescriptor | undefined {\n\t// 'in' checks proto!\n\tif (!(prop in source)) return undefined\n\tlet proto = Object.getPrototypeOf(source)\n\twhile (proto) {\n\t\tconst desc = Object.getOwnPropertyDescriptor(proto, prop)\n\t\tif (desc) return desc\n\t\tproto = Object.getPrototypeOf(proto)\n\t}\n\treturn undefined\n}\n\nexport function markChanged(state: ImmerState) {\n\tif (!state.modified_) {\n\t\tstate.modified_ = true\n\t\tif (state.parent_) {\n\t\t\tmarkChanged(state.parent_)\n\t\t}\n\t}\n}\n\nexport function prepareCopy(state: {base_: any; copy_: any}) {\n\tif (!state.copy_) {\n\t\tstate.copy_ = shallowCopy(state.base_)\n\t}\n}\n","import {\n\tIProduceWithPatches,\n\tIProduce,\n\tImmerState,\n\tDrafted,\n\tisDraftable,\n\tprocessResult,\n\tPatch,\n\tObjectish,\n\tDRAFT_STATE,\n\tDraft,\n\tPatchListener,\n\tisDraft,\n\tisMap,\n\tisSet,\n\tcreateProxyProxy,\n\tgetPlugin,\n\tdie,\n\thasProxies,\n\tenterScope,\n\trevokeScope,\n\tleaveScope,\n\tusePatchesInScope,\n\tgetCurrentScope,\n\tNOTHING,\n\tfreeze,\n\tcurrent\n} from \"../internal\"\n\ninterface ProducersFns {\n\tproduce: IProduce\n\tproduceWithPatches: IProduceWithPatches\n}\n\nexport class Immer implements ProducersFns {\n\tuseProxies_: boolean = hasProxies\n\n\tautoFreeze_: boolean = true\n\n\tconstructor(config?: {useProxies?: boolean; autoFreeze?: boolean}) {\n\t\tif (typeof config?.useProxies === \"boolean\")\n\t\t\tthis.setUseProxies(config!.useProxies)\n\t\tif (typeof config?.autoFreeze === \"boolean\")\n\t\t\tthis.setAutoFreeze(config!.autoFreeze)\n\t}\n\n\t/**\n\t * The `produce` function takes a value and a \"recipe function\" (whose\n\t * return value often depends on the base state). The recipe function is\n\t * free to mutate its first argument however it wants. All mutations are\n\t * only ever applied to a __copy__ of the base state.\n\t *\n\t * Pass only a function to create a \"curried producer\" which relieves you\n\t * from passing the recipe function every time.\n\t *\n\t * Only plain objects and arrays are made mutable. All other objects are\n\t * considered uncopyable.\n\t *\n\t * Note: This function is __bound__ to its `Immer` instance.\n\t *\n\t * @param {any} base - the initial state\n\t * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified\n\t * @param {Function} patchListener - optional function that will be called with all the patches produced here\n\t * @returns {any} a new state, or the initial state if nothing was modified\n\t */\n\tproduce: IProduce = (base: any, recipe?: any, patchListener?: any) => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\" && typeof recipe !== \"function\") {\n\t\t\tconst defaultBase = recipe\n\t\t\trecipe = base\n\n\t\t\tconst self = this\n\t\t\treturn function curriedProduce(\n\t\t\t\tthis: any,\n\t\t\t\tbase = defaultBase,\n\t\t\t\t...args: any[]\n\t\t\t) {\n\t\t\t\treturn self.produce(base, (draft: Drafted) => recipe.call(this, draft, ...args)) // prettier-ignore\n\t\t\t}\n\t\t}\n\n\t\tif (typeof recipe !== \"function\") die(6)\n\t\tif (patchListener !== undefined && typeof patchListener !== \"function\")\n\t\t\tdie(7)\n\n\t\tlet result\n\n\t\t// Only plain objects, arrays, and \"immerable classes\" are drafted.\n\t\tif (isDraftable(base)) {\n\t\t\tconst scope = enterScope(this)\n\t\t\tconst proxy = createProxy(this, base, undefined)\n\t\t\tlet hasError = true\n\t\t\ttry {\n\t\t\t\tresult = recipe(proxy)\n\t\t\t\thasError = false\n\t\t\t} finally {\n\t\t\t\t// finally instead of catch + rethrow better preserves original stack\n\t\t\t\tif (hasError) revokeScope(scope)\n\t\t\t\telse leaveScope(scope)\n\t\t\t}\n\t\t\tif (typeof Promise !== \"undefined\" && result instanceof Promise) {\n\t\t\t\treturn result.then(\n\t\t\t\t\tresult => {\n\t\t\t\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\t\t\t\treturn processResult(result, scope)\n\t\t\t\t\t},\n\t\t\t\t\terror => {\n\t\t\t\t\t\trevokeScope(scope)\n\t\t\t\t\t\tthrow error\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\tusePatchesInScope(scope, patchListener)\n\t\t\treturn processResult(result, scope)\n\t\t} else if (!base || typeof base !== \"object\") {\n\t\t\tresult = recipe(base)\n\t\t\tif (result === undefined) result = base\n\t\t\tif (result === NOTHING) result = undefined\n\t\t\tif (this.autoFreeze_) freeze(result, true)\n\t\t\tif (patchListener) {\n\t\t\t\tconst p: Patch[] = []\n\t\t\t\tconst ip: Patch[] = []\n\t\t\t\tgetPlugin(\"Patches\").generateReplacementPatches_(base, result, p, ip)\n\t\t\t\tpatchListener(p, ip)\n\t\t\t}\n\t\t\treturn result\n\t\t} else die(21, base)\n\t}\n\n\tproduceWithPatches: IProduceWithPatches = (base: any, recipe?: any): any => {\n\t\t// curried invocation\n\t\tif (typeof base === \"function\") {\n\t\t\treturn (state: any, ...args: any[]) =>\n\t\t\t\tthis.produceWithPatches(state, (draft: any) => base(draft, ...args))\n\t\t}\n\n\t\tlet patches: Patch[], inversePatches: Patch[]\n\t\tconst result = this.produce(base, recipe, (p: Patch[], ip: Patch[]) => {\n\t\t\tpatches = p\n\t\t\tinversePatches = ip\n\t\t})\n\n\t\tif (typeof Promise !== \"undefined\" && result instanceof Promise) {\n\t\t\treturn result.then(nextState => [nextState, patches!, inversePatches!])\n\t\t}\n\t\treturn [result, patches!, inversePatches!]\n\t}\n\n\tcreateDraft<T extends Objectish>(base: T): Draft<T> {\n\t\tif (!isDraftable(base)) die(8)\n\t\tif (isDraft(base)) base = current(base)\n\t\tconst scope = enterScope(this)\n\t\tconst proxy = createProxy(this, base, undefined)\n\t\tproxy[DRAFT_STATE].isManual_ = true\n\t\tleaveScope(scope)\n\t\treturn proxy as any\n\t}\n\n\tfinishDraft<D extends Draft<any>>(\n\t\tdraft: D,\n\t\tpatchListener?: PatchListener\n\t): D extends Draft<infer T> ? T : never {\n\t\tconst state: ImmerState = draft && (draft as any)[DRAFT_STATE]\n\t\tif (__DEV__) {\n\t\t\tif (!state || !state.isManual_) die(9)\n\t\t\tif (state.finalized_) die(10)\n\t\t}\n\t\tconst {scope_: scope} = state\n\t\tusePatchesInScope(scope, patchListener)\n\t\treturn processResult(undefined, scope)\n\t}\n\n\t/**\n\t * Pass true to automatically freeze all copies created by Immer.\n\t *\n\t * By default, auto-freezing is enabled.\n\t */\n\tsetAutoFreeze(value: boolean) {\n\t\tthis.autoFreeze_ = value\n\t}\n\n\t/**\n\t * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n\t * always faster than using ES5 proxies.\n\t *\n\t * By default, feature detection is used, so calling this is rarely necessary.\n\t */\n\tsetUseProxies(value: boolean) {\n\t\tif (value && !hasProxies) {\n\t\t\tdie(20)\n\t\t}\n\t\tthis.useProxies_ = value\n\t}\n\n\tapplyPatches<T extends Objectish>(base: T, patches: Patch[]): T {\n\t\t// If a patch replaces the entire state, take that replacement as base\n\t\t// before applying patches\n\t\tlet i: number\n\t\tfor (i = patches.length - 1; i >= 0; i--) {\n\t\t\tconst patch = patches[i]\n\t\t\tif (patch.path.length === 0 && patch.op === \"replace\") {\n\t\t\t\tbase = patch.value\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// If there was a patch that replaced the entire state, start from the\n\t\t// patch after that.\n\t\tif (i > -1) {\n\t\t\tpatches = patches.slice(i + 1)\n\t\t}\n\n\t\tconst applyPatchesImpl = getPlugin(\"Patches\").applyPatches_\n\t\tif (isDraft(base)) {\n\t\t\t// N.B: never hits if some patch a replacement, patches are never drafts\n\t\t\treturn applyPatchesImpl(base, patches)\n\t\t}\n\t\t// Otherwise, produce a copy of the base state.\n\t\treturn this.produce(base, (draft: Drafted) =>\n\t\t\tapplyPatchesImpl(draft, patches)\n\t\t)\n\t}\n}\n\nexport function createProxy<T extends Objectish>(\n\timmer: Immer,\n\tvalue: T,\n\tparent?: ImmerState\n): Drafted<T, ImmerState> {\n\t// precondition: createProxy should be guarded by isDraftable, so we know we can safely draft\n\tconst draft: Drafted = isMap(value)\n\t\t? getPlugin(\"MapSet\").proxyMap_(value, parent)\n\t\t: isSet(value)\n\t\t? getPlugin(\"MapSet\").proxySet_(value, parent)\n\t\t: immer.useProxies_\n\t\t? createProxyProxy(value, parent)\n\t\t: getPlugin(\"ES5\").createES5Proxy_(value, parent)\n\n\tconst scope = parent ? parent.scope_ : getCurrentScope()\n\tscope.drafts_.push(draft)\n\treturn draft\n}\n","import {\n\tdie,\n\tisDraft,\n\tshallowCopy,\n\teach,\n\tDRAFT_STATE,\n\tget,\n\tset,\n\tImmerState,\n\tisDraftable,\n\tArchtype,\n\tgetArchtype,\n\tgetPlugin\n} from \"../internal\"\n\n/** Takes a snapshot of the current state of a draft and finalizes it (but without freezing). This is a great utility to print the current state during debugging (no Proxies in the way). The output of current can also be safely leaked outside the producer. */\nexport function current<T>(value: T): T\nexport function current(value: any): any {\n\tif (!isDraft(value)) die(22, value)\n\treturn currentImpl(value)\n}\n\nfunction currentImpl(value: any): any {\n\tif (!isDraftable(value)) return value\n\tconst state: ImmerState | undefined = value[DRAFT_STATE]\n\tlet copy: any\n\tconst archType = getArchtype(value)\n\tif (state) {\n\t\tif (\n\t\t\t!state.modified_ &&\n\t\t\t(state.type_ < 4 || !getPlugin(\"ES5\").hasChanges_(state as any))\n\t\t)\n\t\t\treturn state.base_\n\t\t// Optimization: avoid generating new drafts during copying\n\t\tstate.finalized_ = true\n\t\tcopy = copyHelper(value, archType)\n\t\tstate.finalized_ = false\n\t} else {\n\t\tcopy = copyHelper(value, archType)\n\t}\n\n\teach(copy, (key, childValue) => {\n\t\tif (state && get(state.base_, key) === childValue) return // no need to copy or search in something that didn't change\n\t\tset(copy, key, currentImpl(childValue))\n\t})\n\t// In the future, we might consider freezing here, based on the current settings\n\treturn archType === Archtype.Set ? new Set(copy) : copy\n}\n\nfunction copyHelper(value: any, archType: number): any {\n\t// creates a shallow copy, even if it is a map or set\n\tswitch (archType) {\n\t\tcase Archtype.Map:\n\t\t\treturn new Map(value)\n\t\tcase Archtype.Set:\n\t\t\t// Set will be cloned as array temporarily, so that we can replace individual items\n\t\t\treturn Array.from(value)\n\t}\n\treturn shallowCopy(value)\n}\n","import {\n\tImmerState,\n\tDrafted,\n\tES5ArrayState,\n\tES5ObjectState,\n\teach,\n\thas,\n\tisDraft,\n\tlatest,\n\tDRAFT_STATE,\n\tis,\n\tloadPlugin,\n\tImmerScope,\n\tProxyType,\n\tgetCurrentScope,\n\tdie,\n\tmarkChanged,\n\tobjectTraps,\n\townKeys,\n\tgetOwnPropertyDescriptors\n} from \"../internal\"\n\ntype ES5State = ES5ArrayState | ES5ObjectState\n\nexport function enableES5() {\n\tfunction willFinalizeES5_(\n\t\tscope: ImmerScope,\n\t\tresult: any,\n\t\tisReplaced: boolean\n\t) {\n\t\tif (!isReplaced) {\n\t\t\tif (scope.patches_) {\n\t\t\t\tmarkChangesRecursively(scope.drafts_![0])\n\t\t\t}\n\t\t\t// This is faster when we don't care about which attributes changed.\n\t\t\tmarkChangesSweep(scope.drafts_)\n\t\t}\n\t\t// When a child draft is returned, look for changes.\n\t\telse if (\n\t\t\tisDraft(result) &&\n\t\t\t(result[DRAFT_STATE] as ES5State).scope_ === scope\n\t\t) {\n\t\t\tmarkChangesSweep(scope.drafts_)\n\t\t}\n\t}\n\n\tfunction createES5Draft(isArray: boolean, base: any) {\n\t\tif (isArray) {\n\t\t\tconst draft = new Array(base.length)\n\t\t\tfor (let i = 0; i < base.length; i++)\n\t\t\t\tObject.defineProperty(draft, \"\" + i, proxyProperty(i, true))\n\t\t\treturn draft\n\t\t} else {\n\t\t\tconst descriptors = getOwnPropertyDescriptors(base)\n\t\t\tdelete descriptors[DRAFT_STATE as any]\n\t\t\tconst keys = ownKeys(descriptors)\n\t\t\tfor (let i = 0; i < keys.length; i++) {\n\t\t\t\tconst key: any = keys[i]\n\t\t\t\tdescriptors[key] = proxyProperty(\n\t\t\t\t\tkey,\n\t\t\t\t\tisArray || !!descriptors[key].enumerable\n\t\t\t\t)\n\t\t\t}\n\t\t\treturn Object.create(Object.getPrototypeOf(base), descriptors)\n\t\t}\n\t}\n\n\tfunction createES5Proxy_<T>(\n\t\tbase: T,\n\t\tparent?: ImmerState\n\t): Drafted<T, ES5ObjectState | ES5ArrayState> {\n\t\tconst isArray = Array.isArray(base)\n\t\tconst draft = createES5Draft(isArray, base)\n\n\t\tconst state: ES5ObjectState | ES5ArrayState = {\n\t\t\ttype_: isArray ? ProxyType.ES5Array : (ProxyType.ES5Object as any),\n\t\t\tscope_: parent ? parent.scope_ : getCurrentScope(),\n\t\t\tmodified_: false,\n\t\t\tfinalized_: false,\n\t\t\tassigned_: {},\n\t\t\tparent_: parent,\n\t\t\t// base is the object we are drafting\n\t\t\tbase_: base,\n\t\t\t// draft is the draft object itself, that traps all reads and reads from either the base (if unmodified) or copy (if modified)\n\t\t\tdraft_: draft,\n\t\t\tcopy_: null,\n\t\t\trevoked_: false,\n\t\t\tisManual_: false\n\t\t}\n\n\t\tObject.defineProperty(draft, DRAFT_STATE, {\n\t\t\tvalue: state,\n\t\t\t// enumerable: false <- the default\n\t\t\twritable: true\n\t\t})\n\t\treturn draft\n\t}\n\n\t// property descriptors are recycled to make sure we don't create a get and set closure per property,\n\t// but share them all instead\n\tconst descriptors: {[prop: string]: PropertyDescriptor} = {}\n\n\tfunction proxyProperty(\n\t\tprop: string | number,\n\t\tenumerable: boolean\n\t): PropertyDescriptor {\n\t\tlet desc = descriptors[prop]\n\t\tif (desc) {\n\t\t\tdesc.enumerable = enumerable\n\t\t} else {\n\t\t\tdescriptors[prop] = desc = {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable,\n\t\t\t\tget(this: any) {\n\t\t\t\t\tconst state = this[DRAFT_STATE]\n\t\t\t\t\tif (__DEV__) assertUnrevoked(state)\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\treturn objectTraps.get(state, prop)\n\t\t\t\t},\n\t\t\t\tset(this: any, value) {\n\t\t\t\t\tconst state = this[DRAFT_STATE]\n\t\t\t\t\tif (__DEV__) assertUnrevoked(state)\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tobjectTraps.set(state, prop, value)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn desc\n\t}\n\n\t// This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\n\tfunction markChangesSweep(drafts: Drafted<any, ImmerState>[]) {\n\t\t// The natural order of drafts in the `scope` array is based on when they\n\t\t// were accessed. By processing drafts in reverse natural order, we have a\n\t\t// better chance of processing leaf nodes first. When a leaf node is known to\n\t\t// have changed, we can avoid any traversal of its ancestor nodes.\n\t\tfor (let i = drafts.length - 1; i >= 0; i--) {\n\t\t\tconst state: ES5State = drafts[i][DRAFT_STATE]\n\t\t\tif (!state.modified_) {\n\t\t\t\tswitch (state.type_) {\n\t\t\t\t\tcase ProxyType.ES5Array:\n\t\t\t\t\t\tif (hasArrayChanges(state)) markChanged(state)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tcase ProxyType.ES5Object:\n\t\t\t\t\t\tif (hasObjectChanges(state)) markChanged(state)\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction markChangesRecursively(object: any) {\n\t\tif (!object || typeof object !== \"object\") return\n\t\tconst state: ES5State | undefined = object[DRAFT_STATE]\n\t\tif (!state) return\n\t\tconst {base_, draft_, assigned_, type_} = state\n\t\tif (type_ === ProxyType.ES5Object) {\n\t\t\t// Look for added keys.\n\t\t\t// probably there is a faster way to detect changes, as sweep + recurse seems to do some\n\t\t\t// unnecessary work.\n\t\t\t// also: probably we can store the information we detect here, to speed up tree finalization!\n\t\t\teach(draft_, key => {\n\t\t\t\tif ((key as any) === DRAFT_STATE) return\n\t\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\t\tif ((base_ as any)[key] === undefined && !has(base_, key)) {\n\t\t\t\t\tassigned_[key] = true\n\t\t\t\t\tmarkChanged(state)\n\t\t\t\t} else if (!assigned_[key]) {\n\t\t\t\t\t// Only untouched properties trigger recursion.\n\t\t\t\t\tmarkChangesRecursively(draft_[key])\n\t\t\t\t}\n\t\t\t})\n\t\t\t// Look for removed keys.\n\t\t\teach(base_, key => {\n\t\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\t\tif (draft_[key] === undefined && !has(draft_, key)) {\n\t\t\t\t\tassigned_[key] = false\n\t\t\t\t\tmarkChanged(state)\n\t\t\t\t}\n\t\t\t})\n\t\t} else if (type_ === ProxyType.ES5Array) {\n\t\t\tif (hasArrayChanges(state as ES5ArrayState)) {\n\t\t\t\tmarkChanged(state)\n\t\t\t\tassigned_.length = true\n\t\t\t}\n\n\t\t\tif (draft_.length < base_.length) {\n\t\t\t\tfor (let i = draft_.length; i < base_.length; i++) assigned_[i] = false\n\t\t\t} else {\n\t\t\t\tfor (let i = base_.length; i < draft_.length; i++) assigned_[i] = true\n\t\t\t}\n\n\t\t\t// Minimum count is enough, the other parts has been processed.\n\t\t\tconst min = Math.min(draft_.length, base_.length)\n\n\t\t\tfor (let i = 0; i < min; i++) {\n\t\t\t\t// Only untouched indices trigger recursion.\n\t\t\t\tif (!draft_.hasOwnProperty(i)) {\n\t\t\t\t\tassigned_[i] = true\n\t\t\t\t}\n\t\t\t\tif (assigned_[i] === undefined) markChangesRecursively(draft_[i])\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction hasObjectChanges(state: ES5ObjectState) {\n\t\tconst {base_, draft_} = state\n\n\t\t// Search for added keys and changed keys. Start at the back, because\n\t\t// non-numeric keys are ordered by time of definition on the object.\n\t\tconst keys = ownKeys(draft_)\n\t\tfor (let i = keys.length - 1; i >= 0; i--) {\n\t\t\tconst key: any = keys[i]\n\t\t\tif (key === DRAFT_STATE) continue\n\t\t\tconst baseValue = base_[key]\n\t\t\t// The `undefined` check is a fast path for pre-existing keys.\n\t\t\tif (baseValue === undefined && !has(base_, key)) {\n\t\t\t\treturn true\n\t\t\t}\n\t\t\t// Once a base key is deleted, future changes go undetected, because its\n\t\t\t// descriptor is erased. This branch detects any missed changes.\n\t\t\telse {\n\t\t\t\tconst value = draft_[key]\n\t\t\t\tconst state: ImmerState = value && value[DRAFT_STATE]\n\t\t\t\tif (state ? state.base_ !== baseValue : !is(value, baseValue)) {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// At this point, no keys were added or changed.\n\t\t// Compare key count to determine if keys were deleted.\n\t\tconst baseIsDraft = !!base_[DRAFT_STATE as any]\n\t\treturn keys.length !== ownKeys(base_).length + (baseIsDraft ? 0 : 1) // + 1 to correct for DRAFT_STATE\n\t}\n\n\tfunction hasArrayChanges(state: ES5ArrayState) {\n\t\tconst {draft_} = state\n\t\tif (draft_.length !== state.base_.length) return true\n\t\t// See #116\n\t\t// If we first shorten the length, our array interceptors will be removed.\n\t\t// If after that new items are added, result in the same original length,\n\t\t// those last items will have no intercepting property.\n\t\t// So if there is no own descriptor on the last position, we know that items were removed and added\n\t\t// N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n\t\t// the last one\n\t\t// last descriptor can be not a trap, if the array was extended\n\t\tconst descriptor = Object.getOwnPropertyDescriptor(\n\t\t\tdraft_,\n\t\t\tdraft_.length - 1\n\t\t)\n\t\t// descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n\t\tif (descriptor && !descriptor.get) return true\n\t\t// if we miss a property, it has been deleted, so array probobaly changed\n\t\tfor (let i = 0; i < draft_.length; i++) {\n\t\t\tif (!draft_.hasOwnProperty(i)) return true\n\t\t}\n\t\t// For all other cases, we don't have to compare, as they would have been picked up by the index setters\n\t\treturn false\n\t}\n\n\tfunction hasChanges_(state: ES5State) {\n\t\treturn state.type_ === ProxyType.ES5Object\n\t\t\t? hasObjectChanges(state)\n\t\t\t: hasArrayChanges(state)\n\t}\n\n\tfunction assertUnrevoked(state: any /*ES5State | MapState | SetState*/) {\n\t\tif (state.revoked_) die(3, JSON.stringify(latest(state)))\n\t}\n\n\tloadPlugin(\"ES5\", {\n\t\tcreateES5Proxy_,\n\t\twillFinalizeES5_,\n\t\thasChanges_\n\t})\n}\n","import {\n\tIProduce,\n\tIProduceWithPatches,\n\tImmer,\n\tDraft,\n\tImmutable\n} from \"./internal\"\n\nexport {\n\tDraft,\n\tImmutable,\n\tPatch,\n\tPatchListener,\n\toriginal,\n\tcurrent,\n\tisDraft,\n\tisDraftable,\n\tNOTHING as nothing,\n\tDRAFTABLE as immerable,\n\tfreeze\n} from \"./internal\"\n\nconst immer = new Immer()\n\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\nexport const produce: IProduce = immer.produce\nexport default produce\n\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\nexport const produceWithPatches: IProduceWithPatches = immer.produceWithPatches.bind(\n\timmer\n)\n\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * Always freeze by default, even in production mode\n */\nexport const setAutoFreeze = immer.setAutoFreeze.bind(immer)\n\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\nexport const setUseProxies = immer.setUseProxies.bind(immer)\n\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\nexport const applyPatches = immer.applyPatches.bind(immer)\n\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\nexport const createDraft = immer.createDraft.bind(immer)\n\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\nexport const finishDraft = immer.finishDraft.bind(immer)\n\n/**\n * This function is actually a no-op, but can be used to cast an immutable type\n * to an draft type and make TypeScript happy\n *\n * @param value\n */\nexport function castDraft<T>(value: T): Draft<T> {\n\treturn value as any\n}\n\n/**\n * This function is actually a no-op, but can be used to cast a mutable type\n * to an immutable type and make TypeScript happy\n * @param value\n */\nexport function castImmutable<T>(value: T): Immutable<T> {\n\treturn value as any\n}\n\nexport {Immer}\n\nexport {enableES5} from \"./plugins/es5\"\nexport {enablePatches} from \"./plugins/patches\"\nexport {enableMapSet} from \"./plugins/mapset\"\nexport {enableAllPlugins} from \"./plugins/all\"\n","// Should be no imports here!\n\n// Some things that should be evaluated before all else...\n\n// We only want to know if non-polyfilled symbols are available\nconst hasSymbol =\n\ttypeof Symbol !== \"undefined\" && typeof Symbol(\"x\") === \"symbol\"\nexport const hasMap = typeof Map !== \"undefined\"\nexport const hasSet = typeof Set !== \"undefined\"\nexport const hasProxies =\n\ttypeof Proxy !== \"undefined\" &&\n\ttypeof Proxy.revocable !== \"undefined\" &&\n\ttypeof Reflect !== \"undefined\"\n\n/**\n * The sentinel value returned by producers to replace the draft with undefined.\n */\nexport const NOTHING: Nothing = hasSymbol\n\t? Symbol.for(\"immer-nothing\")\n\t: ({[\"immer-nothing\"]: true} as any)\n\n/**\n * To let Immer treat your class instances as plain immutable objects\n * (albeit with a custom prototype), you must define either an instance property\n * or a static property on each of your custom classes.\n *\n * Otherwise, your class instance will never be drafted, which means it won't be\n * safe to mutate in a produce callback.\n */\nexport const DRAFTABLE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-draftable\")\n\t: (\"__$immer_draftable\" as any)\n\nexport const DRAFT_STATE: unique symbol = hasSymbol\n\t? Symbol.for(\"immer-state\")\n\t: (\"__$immer_state\" as any)\n\n// Even a polyfilled Symbol might provide Symbol.iterator\nexport const iteratorSymbol: typeof Symbol.iterator =\n\t(typeof Symbol != \"undefined\" && Symbol.iterator) || (\"@@iterator\" as any)\n\n/** Use a class type for `nothing` so its type is unique */\nexport class Nothing {\n\t// This lets us do `Exclude<T, Nothing>`\n\t// @ts-ignore\n\tprivate _!: unique symbol\n}\n","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import { defaultMemoize, defaultEqualityCheck } from './defaultMemoize';\nexport { defaultMemoize, defaultEqualityCheck };\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep === 'function' ? \"function \" + (dep.name || 'unnamed') + \"()\" : typeof dep;\n    }).join(', ');\n    throw new Error(\"createSelector expects all input-selectors to be functions, but received the following types: [\" + dependencyTypes + \"]\");\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptionsFromArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptionsFromArgs[_key - 1] = arguments[_key];\n  }\n\n  var createSelector = function createSelector() {\n    for (var _len2 = arguments.length, funcs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var _recomputations = 0;\n\n    var _lastResult; // Due to the intricacies of rest params, we can't do an optional arg after `...funcs`.\n    // So, start by declaring the default value here.\n    // (And yes, the words 'memoize' and 'options' appear too many times in this next sequence.)\n\n\n    var directlyPassedOptions = {\n      memoizeOptions: undefined\n    }; // Normally, the result func or \"output selector\" is the last arg\n\n    var resultFunc = funcs.pop(); // If the result func is actually an _object_, assume it's our options object\n\n    if (typeof resultFunc === 'object') {\n      directlyPassedOptions = resultFunc; // and pop the real result func off\n\n      resultFunc = funcs.pop();\n    }\n\n    if (typeof resultFunc !== 'function') {\n      throw new Error(\"createSelector expects an output function after the inputs, but received: [\" + typeof resultFunc + \"]\");\n    } // Determine which set of options we're using. Prefer options passed directly,\n    // but fall back to options given to createSelectorCreator.\n\n\n    var _directlyPassedOption = directlyPassedOptions,\n        _directlyPassedOption2 = _directlyPassedOption.memoizeOptions,\n        memoizeOptions = _directlyPassedOption2 === void 0 ? memoizeOptionsFromArgs : _directlyPassedOption2; // Simplifying assumption: it's unlikely that the first options arg of the provided memoizer\n    // is an array. In most libs I've looked at, it's an equality function or options object.\n    // Based on that, if `memoizeOptions` _is_ an array, we assume it's a full\n    // user-provided array of options. Otherwise, it must be just the _first_ arg, and so\n    // we wrap it in an array so we can apply it.\n\n    var finalMemoizeOptions = Array.isArray(memoizeOptions) ? memoizeOptions : [memoizeOptions];\n    var dependencies = getDependencies(funcs);\n    var memoizedResultFunc = memoize.apply(void 0, [function recomputationWrapper() {\n      _recomputations++; // apply arguments instead of spreading for performance.\n\n      return resultFunc.apply(null, arguments);\n    }].concat(finalMemoizeOptions)); // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n\n    var selector = memoize(function dependenciesChecker() {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        // @ts-ignore\n        params.push(dependencies[i].apply(null, arguments));\n      } // apply arguments instead of spreading for performance.\n\n\n      _lastResult = memoizedResultFunc.apply(null, params);\n      return _lastResult;\n    });\n    Object.assign(selector, {\n      resultFunc: resultFunc,\n      memoizedResultFunc: memoizedResultFunc,\n      dependencies: dependencies,\n      lastResult: function lastResult() {\n        return _lastResult;\n      },\n      recomputations: function recomputations() {\n        return _recomputations;\n      },\n      resetRecomputations: function resetRecomputations() {\n        return _recomputations = 0;\n      }\n    });\n    return selector;\n  }; // @ts-ignore\n\n\n  return createSelector;\n}\nexport var createSelector = /* #__PURE__ */createSelectorCreator(defaultMemoize);\n// Manual definition of state and output arguments\nexport var createStructuredSelector = function createStructuredSelector(selectors, selectorCreator) {\n  if (selectorCreator === void 0) {\n    selectorCreator = createSelector;\n  }\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + (\"where each property is a selector, instead received a \" + typeof selectors));\n  }\n\n  var objectKeys = Object.keys(selectors);\n  var resultSelector = selectorCreator( // @ts-ignore\n  objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n  return resultSelector;\n};","// Cache implementation based on Erik Rasmussen's `lru-memoize`:\n// https://github.com/erikras/lru-memoize\nvar NOT_FOUND = 'NOT_FOUND';\n\nfunction createSingletonCache(equals) {\n  var entry;\n  return {\n    get: function get(key) {\n      if (entry && equals(entry.key, key)) {\n        return entry.value;\n      }\n\n      return NOT_FOUND;\n    },\n    put: function put(key, value) {\n      entry = {\n        key: key,\n        value: value\n      };\n    },\n    getEntries: function getEntries() {\n      return entry ? [entry] : [];\n    },\n    clear: function clear() {\n      entry = undefined;\n    }\n  };\n}\n\nfunction createLruCache(maxSize, equals) {\n  var entries = [];\n\n  function get(key) {\n    var cacheIndex = entries.findIndex(function (entry) {\n      return equals(key, entry.key);\n    }); // We found a cached entry\n\n    if (cacheIndex > -1) {\n      var entry = entries[cacheIndex]; // Cached entry not at top of cache, move it to the top\n\n      if (cacheIndex > 0) {\n        entries.splice(cacheIndex, 1);\n        entries.unshift(entry);\n      }\n\n      return entry.value;\n    } // No entry found in cache, return sentinel\n\n\n    return NOT_FOUND;\n  }\n\n  function put(key, value) {\n    if (get(key) === NOT_FOUND) {\n      // TODO Is unshift slow?\n      entries.unshift({\n        key: key,\n        value: value\n      });\n\n      if (entries.length > maxSize) {\n        entries.pop();\n      }\n    }\n  }\n\n  function getEntries() {\n    return entries;\n  }\n\n  function clear() {\n    entries = [];\n  }\n\n  return {\n    get: get,\n    put: put,\n    getEntries: getEntries,\n    clear: clear\n  };\n}\n\nexport var defaultEqualityCheck = function defaultEqualityCheck(a, b) {\n  return a === b;\n};\nexport function createCacheKeyComparator(equalityCheck) {\n  return function areArgumentsShallowlyEqual(prev, next) {\n    if (prev === null || next === null || prev.length !== next.length) {\n      return false;\n    } // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n\n\n    var length = prev.length;\n\n    for (var i = 0; i < length; i++) {\n      if (!equalityCheck(prev[i], next[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n}\n// defaultMemoize now supports a configurable cache size with LRU behavior,\n// and optional comparison of the result value with existing values\nexport function defaultMemoize(func, equalityCheckOrOptions) {\n  var providedOptions = typeof equalityCheckOrOptions === 'object' ? equalityCheckOrOptions : {\n    equalityCheck: equalityCheckOrOptions\n  };\n  var _providedOptions$equa = providedOptions.equalityCheck,\n      equalityCheck = _providedOptions$equa === void 0 ? defaultEqualityCheck : _providedOptions$equa,\n      _providedOptions$maxS = providedOptions.maxSize,\n      maxSize = _providedOptions$maxS === void 0 ? 1 : _providedOptions$maxS,\n      resultEqualityCheck = providedOptions.resultEqualityCheck;\n  var comparator = createCacheKeyComparator(equalityCheck);\n  var cache = maxSize === 1 ? createSingletonCache(comparator) : createLruCache(maxSize, comparator); // we reference arguments instead of spreading them for performance reasons\n\n  function memoized() {\n    var value = cache.get(arguments);\n\n    if (value === NOT_FOUND) {\n      // @ts-ignore\n      value = func.apply(null, arguments);\n\n      if (resultEqualityCheck) {\n        var entries = cache.getEntries();\n        var matchingEntry = entries.find(function (entry) {\n          return resultEqualityCheck(entry.value, value);\n        });\n\n        if (matchingEntry) {\n          value = matchingEntry.value;\n        }\n      }\n\n      cache.put(arguments, value);\n    }\n\n    return value;\n  }\n\n  memoized.clearCache = function () {\n    return cache.clear();\n  };\n\n  return memoized;\n}","/** A function that accepts a potential \"extra argument\" value to be injected later,\r\n * and returns an instance of the thunk middleware that uses that value\r\n */\nfunction createThunkMiddleware(extraArgument) {\n  // Standard Redux middleware definition pattern:\n  // See: https://redux.js.org/tutorials/fundamentals/part-4-store#writing-custom-middleware\n  var middleware = function middleware(_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        // The thunk middleware looks for any functions that were passed to `store.dispatch`.\n        // If this \"action\" is really a function, call it and return the result.\n        if (typeof action === 'function') {\n          // Inject the store's `dispatch` and `getState` methods, as well as any \"extra arg\"\n          return action(dispatch, getState, extraArgument);\n        } // Otherwise, pass the action down the middleware chain as usual\n\n\n        return next(action);\n      };\n    };\n  };\n\n  return middleware;\n}\n\nvar thunk = createThunkMiddleware(); // Attach the factory function so users can create a customized version\n// with whatever \"extra arg\" they want to inject into their thunks\n\nthunk.withExtraArgument = createThunkMiddleware;\nexport default thunk;","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport xml2js from \"xml2js\";\n\nimport {\n  OBJECT_STORE_ASSETS_URL,\n  PHOTO_SIZE_PREFIXES,\n} from \"~/src/utilities/constants\";\n\ntype PhotoSet = {\n  small: string;\n  medium: string;\n  large: string;\n};\n\ntype ObjectStoreListObjectsResponse = {\n  ListBucketResult: {\n    Contents: {\n      Size: string[];\n      Key: string[];\n    }[];\n  };\n};\n\ntype PhotosState = {\n  status: \"idle\" | \"pending\" | \"failed\";\n  photoSets: PhotoSet[];\n};\n\nconst initialState: PhotosState = {\n  status: \"idle\",\n  photoSets: [],\n};\n\nexport const fetchPhotos = createAsyncThunk<PhotoSet[]>(\n  \"photos/fetchPhotos\",\n  async () => {\n    const response = await fetch(\n      `${OBJECT_STORE_ASSETS_URL}?prefix=photos/${PHOTO_SIZE_PREFIXES.SMALL}`\n    );\n    const jsonResponse = (await xml2js.parseStringPromise(\n      await response.text()\n    )) as ObjectStoreListObjectsResponse;\n    return jsonResponse.ListBucketResult.Contents.map(\n      (object) => object.Key[0]\n    ).map((key) => ({\n      small: OBJECT_STORE_ASSETS_URL + key,\n      medium:\n        OBJECT_STORE_ASSETS_URL +\n        key.replace(PHOTO_SIZE_PREFIXES.SMALL, PHOTO_SIZE_PREFIXES.MEDIUM),\n      large:\n        OBJECT_STORE_ASSETS_URL +\n        key.replace(PHOTO_SIZE_PREFIXES.SMALL, PHOTO_SIZE_PREFIXES.LARGE),\n    }));\n  }\n);\n\nconst photosSlice = createSlice({\n  name: \"photos\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(fetchPhotos.pending, (state) => {\n      state.status = \"pending\";\n    });\n    builder.addCase(fetchPhotos.fulfilled, (state, { payload }) => {\n      state.status = \"idle\";\n      state.photoSets = payload;\n    });\n    builder.addCase(fetchPhotos.rejected, (state) => {\n      state.status = \"failed\";\n    });\n  },\n});\n\nexport default photosSlice.reducer;\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, parser, processors,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  defaults = require('./defaults');\n\n  builder = require('./builder');\n\n  parser = require('./parser');\n\n  processors = require('./processors');\n\n  exports.defaults = defaults.defaults;\n\n  exports.processors = processors;\n\n  exports.ValidationError = (function(superClass) {\n    extend(ValidationError, superClass);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = builder.Builder;\n\n  exports.Parser = parser.Parser;\n\n  exports.parseString = parser.parseString;\n\n  exports.parseStringPromise = parser.parseStringPromise;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      emptyTag: ''\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      preserveChildrenOrder: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false,\n      chunkSize: 10000,\n      emptyTag: '',\n      cdata: false\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, escapeCDATA, requiresCDATA, wrapCDATA,\n    hasProp = {}.hasOwnProperty;\n\n  builder = require('xmlbuilder');\n\n  defaults = require('./defaults').defaults;\n\n  requiresCDATA = function(entry) {\n    return typeof entry === \"string\" && (entry.indexOf('&') >= 0 || entry.indexOf('>') >= 0 || entry.indexOf('<') >= 0);\n  };\n\n  wrapCDATA = function(entry) {\n    return \"<![CDATA[\" + (escapeCDATA(entry)) + \"]]>\";\n  };\n\n  escapeCDATA = function(entry) {\n    return entry.replace(']]>', ']]]]><![CDATA[>');\n  };\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, ref, value;\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = (function(_this) {\n        return function(element, obj) {\n          var attr, child, entry, index, key, value;\n          if (typeof obj !== 'object') {\n            if (_this.options.cdata && requiresCDATA(obj)) {\n              element.raw(wrapCDATA(obj));\n            } else {\n              element.txt(obj);\n            }\n          } else if (Array.isArray(obj)) {\n            for (index in obj) {\n              if (!hasProp.call(obj, index)) continue;\n              child = obj[index];\n              for (key in child) {\n                entry = child[key];\n                element = render(element.ele(key), entry).up();\n              }\n            }\n          } else {\n            for (key in obj) {\n              if (!hasProp.call(obj, key)) continue;\n              child = obj[key];\n              if (key === attrkey) {\n                if (typeof child === \"object\") {\n                  for (attr in child) {\n                    value = child[attr];\n                    element = element.att(attr, value);\n                  }\n                }\n              } else if (key === charkey) {\n                if (_this.options.cdata && requiresCDATA(child)) {\n                  element = element.raw(wrapCDATA(child));\n                } else {\n                  element = element.txt(child);\n                }\n              } else if (Array.isArray(child)) {\n                for (index in child) {\n                  if (!hasProp.call(child, index)) continue;\n                  entry = child[index];\n                  if (typeof entry === 'string') {\n                    if (_this.options.cdata && requiresCDATA(entry)) {\n                      element = element.ele(key).raw(wrapCDATA(entry)).up();\n                    } else {\n                      element = element.ele(key, entry).up();\n                    }\n                  } else {\n                    element = render(element.ele(key), entry).up();\n                  }\n                }\n              } else if (typeof child === \"object\") {\n                element = render(element.ele(key), child).up();\n              } else {\n                if (typeof child === 'string' && _this.options.cdata && requiresCDATA(child)) {\n                  element = element.ele(key).raw(wrapCDATA(child)).up();\n                } else {\n                  if (child == null) {\n                    child = '';\n                  }\n                  element = element.ele(key, child.toString()).up();\n                }\n              }\n            }\n          }\n          return element;\n        };\n      })(this);\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless,\n        allowSurrogateChars: this.options.allowSurrogateChars\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLDOMImplementation, XMLDocument, XMLDocumentCB, XMLStreamWriter, XMLStringWriter, assign, isFunction, ref;\n\n  ref = require('./Utility'), assign = ref.assign, isFunction = ref.isFunction;\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLDocumentCB = require('./XMLDocumentCB');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  XMLStreamWriter = require('./XMLStreamWriter');\n\n  NodeType = require('./NodeType');\n\n  WriterState = require('./WriterState');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    var doc, root;\n    if (name == null) {\n      throw new Error(\"Root element needs a name.\");\n    }\n    options = assign({}, xmldec, doctype, options);\n    doc = new XMLDocument(options);\n    root = doc.element(name);\n    if (!options.headless) {\n      doc.declaration(options);\n      if ((options.pubID != null) || (options.sysID != null)) {\n        doc.dtd(options);\n      }\n    }\n    return root;\n  };\n\n  module.exports.begin = function(options, onData, onEnd) {\n    var ref1;\n    if (isFunction(options)) {\n      ref1 = [options, onData], onData = ref1[0], onEnd = ref1[1];\n      options = {};\n    }\n    if (onData) {\n      return new XMLDocumentCB(options, onData, onEnd);\n    } else {\n      return new XMLDocument(options);\n    }\n  };\n\n  module.exports.stringWriter = function(options) {\n    return new XMLStringWriter(options);\n  };\n\n  module.exports.streamWriter = function(stream, options) {\n    return new XMLStreamWriter(stream, options);\n  };\n\n  module.exports.implementation = new XMLDOMImplementation();\n\n  module.exports.nodeType = NodeType;\n\n  module.exports.writerState = WriterState;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var assign, getValue, isArray, isEmpty, isFunction, isObject, isPlainObject,\n    slice = [].slice,\n    hasProp = {}.hasOwnProperty;\n\n  assign = function() {\n    var i, key, len, source, sources, target;\n    target = arguments[0], sources = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n    if (isFunction(Object.assign)) {\n      Object.assign.apply(null, arguments);\n    } else {\n      for (i = 0, len = sources.length; i < len; i++) {\n        source = sources[i];\n        if (source != null) {\n          for (key in source) {\n            if (!hasProp.call(source, key)) continue;\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n    return target;\n  };\n\n  isFunction = function(val) {\n    return !!val && Object.prototype.toString.call(val) === '[object Function]';\n  };\n\n  isObject = function(val) {\n    var ref;\n    return !!val && ((ref = typeof val) === 'function' || ref === 'object');\n  };\n\n  isArray = function(val) {\n    if (isFunction(Array.isArray)) {\n      return Array.isArray(val);\n    } else {\n      return Object.prototype.toString.call(val) === '[object Array]';\n    }\n  };\n\n  isEmpty = function(val) {\n    var key;\n    if (isArray(val)) {\n      return !val.length;\n    } else {\n      for (key in val) {\n        if (!hasProp.call(val, key)) continue;\n        return false;\n      }\n      return true;\n    }\n  };\n\n  isPlainObject = function(val) {\n    var ctor, proto;\n    return isObject(val) && (proto = Object.getPrototypeOf(val)) && (ctor = proto.constructor) && (typeof ctor === 'function') && (ctor instanceof ctor) && (Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object));\n  };\n\n  getValue = function(obj) {\n    if (isFunction(obj.valueOf)) {\n      return obj.valueOf();\n    } else {\n      return obj;\n    }\n  };\n\n  module.exports.assign = assign;\n\n  module.exports.isFunction = isFunction;\n\n  module.exports.isObject = isObject;\n\n  module.exports.isArray = isArray;\n\n  module.exports.isEmpty = isEmpty;\n\n  module.exports.isPlainObject = isPlainObject;\n\n  module.exports.getValue = getValue;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMImplementation;\n\n  module.exports = XMLDOMImplementation = (function() {\n    function XMLDOMImplementation() {}\n\n    XMLDOMImplementation.prototype.hasFeature = function(feature, version) {\n      return true;\n    };\n\n    XMLDOMImplementation.prototype.createDocumentType = function(qualifiedName, publicId, systemId) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.createDocument = function(namespaceURI, qualifiedName, doctype) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.createHTMLDocument = function(title) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.getFeature = function(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    return XMLDOMImplementation;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDOMConfiguration, XMLDOMImplementation, XMLDocument, XMLNode, XMLStringWriter, XMLStringifier, isPlainObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isPlainObject = require('./Utility').isPlainObject;\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDOMConfiguration = require('./XMLDOMConfiguration');\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  module.exports = XMLDocument = (function(superClass) {\n    extend(XMLDocument, superClass);\n\n    function XMLDocument(options) {\n      XMLDocument.__super__.constructor.call(this, null);\n      this.name = \"#document\";\n      this.type = NodeType.Document;\n      this.documentURI = null;\n      this.domConfig = new XMLDOMConfiguration();\n      options || (options = {});\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n    }\n\n    Object.defineProperty(XMLDocument.prototype, 'implementation', {\n      value: new XMLDOMImplementation()\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'doctype', {\n      get: function() {\n        var child, i, len, ref;\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.DocType) {\n            return child;\n          }\n        }\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'documentElement', {\n      get: function() {\n        return this.rootObject || null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'strictErrorChecking', {\n      get: function() {\n        return false;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlEncoding', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].encoding;\n        } else {\n          return null;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlStandalone', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].standalone === 'yes';\n        } else {\n          return false;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlVersion', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].version;\n        } else {\n          return \"1.0\";\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'URL', {\n      get: function() {\n        return this.documentURI;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'origin', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'compatMode', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'characterSet', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'contentType', {\n      get: function() {\n        return null;\n      }\n    });\n\n    XMLDocument.prototype.end = function(writer) {\n      var writerOptions;\n      writerOptions = {};\n      if (!writer) {\n        writer = this.options.writer;\n      } else if (isPlainObject(writer)) {\n        writerOptions = writer;\n        writer = this.options.writer;\n      }\n      return writer.document(this, writer.filterOptions(writerOptions));\n    };\n\n    XMLDocument.prototype.toString = function(options) {\n      return this.options.writer.document(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLDocument.prototype.createElement = function(tagName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createDocumentFragment = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createTextNode = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createComment = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createCDATASection = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createProcessingInstruction = function(target, data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createAttribute = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createEntityReference = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByTagName = function(tagname) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.importNode = function(importedNode, deep) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createElementNS = function(namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createAttributeNS = function(namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementById = function(elementId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.adoptNode = function(source) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.normalizeDocument = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.renameNode = function(node, namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByClassName = function(classNames) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createEvent = function(eventInterface) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createRange = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createNodeIterator = function(root, whatToShow, filter) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createTreeWalker = function(root, whatToShow, filter) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    return XMLDocument;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMConfiguration, XMLDOMErrorHandler, XMLDOMStringList;\n\n  XMLDOMErrorHandler = require('./XMLDOMErrorHandler');\n\n  XMLDOMStringList = require('./XMLDOMStringList');\n\n  module.exports = XMLDOMConfiguration = (function() {\n    function XMLDOMConfiguration() {\n      var clonedSelf;\n      this.defaultParams = {\n        \"canonical-form\": false,\n        \"cdata-sections\": false,\n        \"comments\": false,\n        \"datatype-normalization\": false,\n        \"element-content-whitespace\": true,\n        \"entities\": true,\n        \"error-handler\": new XMLDOMErrorHandler(),\n        \"infoset\": true,\n        \"validate-if-schema\": false,\n        \"namespaces\": true,\n        \"namespace-declarations\": true,\n        \"normalize-characters\": false,\n        \"schema-location\": '',\n        \"schema-type\": '',\n        \"split-cdata-sections\": true,\n        \"validate\": false,\n        \"well-formed\": true\n      };\n      this.params = clonedSelf = Object.create(this.defaultParams);\n    }\n\n    Object.defineProperty(XMLDOMConfiguration.prototype, 'parameterNames', {\n      get: function() {\n        return new XMLDOMStringList(Object.keys(this.defaultParams));\n      }\n    });\n\n    XMLDOMConfiguration.prototype.getParameter = function(name) {\n      if (this.params.hasOwnProperty(name)) {\n        return this.params[name];\n      } else {\n        return null;\n      }\n    };\n\n    XMLDOMConfiguration.prototype.canSetParameter = function(name, value) {\n      return true;\n    };\n\n    XMLDOMConfiguration.prototype.setParameter = function(name, value) {\n      if (value != null) {\n        return this.params[name] = value;\n      } else {\n        return delete this.params[name];\n      }\n    };\n\n    return XMLDOMConfiguration;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMErrorHandler;\n\n  module.exports = XMLDOMErrorHandler = (function() {\n    function XMLDOMErrorHandler() {}\n\n    XMLDOMErrorHandler.prototype.handleError = function(error) {\n      throw new Error(error);\n    };\n\n    return XMLDOMErrorHandler;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMStringList;\n\n  module.exports = XMLDOMStringList = (function() {\n    function XMLDOMStringList(arr) {\n      this.arr = arr || [];\n    }\n\n    Object.defineProperty(XMLDOMStringList.prototype, 'length', {\n      get: function() {\n        return this.arr.length;\n      }\n    });\n\n    XMLDOMStringList.prototype.item = function(index) {\n      return this.arr[index] || null;\n    };\n\n    XMLDOMStringList.prototype.contains = function(str) {\n      return this.arr.indexOf(str) !== -1;\n    };\n\n    return XMLDOMStringList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var DocumentPosition, NodeType, XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLNamedNodeMap, XMLNode, XMLNodeList, XMLProcessingInstruction, XMLRaw, XMLText, getValue, isEmpty, isFunction, isObject, ref1,\n    hasProp = {}.hasOwnProperty;\n\n  ref1 = require('./Utility'), isObject = ref1.isObject, isFunction = ref1.isFunction, isEmpty = ref1.isEmpty, getValue = ref1.getValue;\n\n  XMLElement = null;\n\n  XMLCData = null;\n\n  XMLComment = null;\n\n  XMLDeclaration = null;\n\n  XMLDocType = null;\n\n  XMLRaw = null;\n\n  XMLText = null;\n\n  XMLProcessingInstruction = null;\n\n  XMLDummy = null;\n\n  NodeType = null;\n\n  XMLNodeList = null;\n\n  XMLNamedNodeMap = null;\n\n  DocumentPosition = null;\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent1) {\n      this.parent = parent1;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      this.value = null;\n      this.children = [];\n      this.baseURI = null;\n      if (!XMLElement) {\n        XMLElement = require('./XMLElement');\n        XMLCData = require('./XMLCData');\n        XMLComment = require('./XMLComment');\n        XMLDeclaration = require('./XMLDeclaration');\n        XMLDocType = require('./XMLDocType');\n        XMLRaw = require('./XMLRaw');\n        XMLText = require('./XMLText');\n        XMLProcessingInstruction = require('./XMLProcessingInstruction');\n        XMLDummy = require('./XMLDummy');\n        NodeType = require('./NodeType');\n        XMLNodeList = require('./XMLNodeList');\n        XMLNamedNodeMap = require('./XMLNamedNodeMap');\n        DocumentPosition = require('./DocumentPosition');\n      }\n    }\n\n    Object.defineProperty(XMLNode.prototype, 'nodeName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeValue', {\n      get: function() {\n        return this.value;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'parentNode', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'childNodes', {\n      get: function() {\n        if (!this.childNodeList || !this.childNodeList.nodes) {\n          this.childNodeList = new XMLNodeList(this.children);\n        }\n        return this.childNodeList;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'firstChild', {\n      get: function() {\n        return this.children[0] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'lastChild', {\n      get: function() {\n        return this.children[this.children.length - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'previousSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nextSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i + 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'ownerDocument', {\n      get: function() {\n        return this.document() || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'textContent', {\n      get: function() {\n        var child, j, len, ref2, str;\n        if (this.nodeType === NodeType.Element || this.nodeType === NodeType.DocumentFragment) {\n          str = '';\n          ref2 = this.children;\n          for (j = 0, len = ref2.length; j < len; j++) {\n            child = ref2[j];\n            if (child.textContent) {\n              str += child.textContent;\n            }\n          }\n          return str;\n        } else {\n          return null;\n        }\n      },\n      set: function(value) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    XMLNode.prototype.setParent = function(parent) {\n      var child, j, len, ref2, results;\n      this.parent = parent;\n      if (parent) {\n        this.options = parent.options;\n        this.stringify = parent.stringify;\n      }\n      ref2 = this.children;\n      results = [];\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        results.push(child.setParent(this));\n      }\n      return results;\n    };\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var childNode, item, j, k, key, lastChild, len, len1, ref2, ref3, val;\n      lastChild = null;\n      if (attributes === null && (text == null)) {\n        ref2 = [{}, null], attributes = ref2[0], text = ref2[1];\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref3 = [attributes, text], text = ref3[0], attributes = ref3[1];\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          item = name[j];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.separateArrayItems && Array.isArray(val) && isEmpty(val)) {\n            lastChild = this.dummy();\n          } else if (isObject(val) && isEmpty(val)) {\n            lastChild = this.element(key);\n          } else if (!this.options.keepNullNodes && (val == null)) {\n            lastChild = this.dummy();\n          } else if (!this.options.separateArrayItems && Array.isArray(val)) {\n            for (k = 0, len1 = val.length; k < len1; k++) {\n              item = val[k];\n              childNode = {};\n              childNode[key] = item;\n              lastChild = this.element(childNode);\n            }\n          } else if (isObject(val)) {\n            if (!this.options.ignoreDecorators && this.stringify.convertTextKey && key.indexOf(this.stringify.convertTextKey) === 0) {\n              lastChild = this.element(val);\n            } else {\n              lastChild = this.element(key);\n              lastChild.element(val);\n            }\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else if (!this.options.keepNullNodes && text === null) {\n        lastChild = this.dummy();\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && name.indexOf(this.stringify.convertPIKey) === 0) {\n          lastChild = this.instruction(name.substr(this.stringify.convertPIKey.length), text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name + \". \" + this.debugInfo());\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, newChild, refChild, removed;\n      if (name != null ? name.type : void 0) {\n        newChild = name;\n        refChild = attributes;\n        newChild.setParent(this);\n        if (refChild) {\n          i = children.indexOf(refChild);\n          removed = children.splice(i);\n          children.push(newChild);\n          Array.prototype.push.apply(children, removed);\n        } else {\n          children.push(newChild);\n        }\n        return newChild;\n      } else {\n        if (this.isRoot) {\n          throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n        }\n        i = this.parent.children.indexOf(this);\n        removed = this.parent.children.splice(i);\n        child = this.parent.element(name, attributes, text);\n        Array.prototype.push.apply(this.parent.children, removed);\n        return child;\n      }\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, ref2;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element. \" + this.debugInfo());\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref2 = [])), ref2;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var child, ref2;\n      if (name != null) {\n        name = getValue(name);\n      }\n      attributes || (attributes = {});\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref2 = [attributes, text], text = ref2[0], attributes = ref2[1];\n      }\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var child;\n      if (isObject(value)) {\n        this.element(value);\n      }\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.commentBefore = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.commentAfter = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var child;\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.dummy = function() {\n      var child;\n      child = new XMLDummy(this);\n      return child;\n    };\n\n    XMLNode.prototype.instruction = function(target, value) {\n      var insTarget, insValue, instruction, j, len;\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) {\n        for (j = 0, len = target.length; j < len; j++) {\n          insTarget = target[j];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.children.push(instruction);\n      }\n      return this;\n    };\n\n    XMLNode.prototype.instructionBefore = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.instructionAfter = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var doc, xmldec;\n      doc = this.document();\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      if (doc.children.length === 0) {\n        doc.children.unshift(xmldec);\n      } else if (doc.children[0].type === NodeType.Declaration) {\n        doc.children[0] = xmldec;\n      } else {\n        doc.children.unshift(xmldec);\n      }\n      return doc.root() || doc;\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      var child, doc, doctype, i, j, k, len, len1, ref2, ref3;\n      doc = this.document();\n      doctype = new XMLDocType(doc, pubID, sysID);\n      ref2 = doc.children;\n      for (i = j = 0, len = ref2.length; j < len; i = ++j) {\n        child = ref2[i];\n        if (child.type === NodeType.DocType) {\n          doc.children[i] = doctype;\n          return doctype;\n        }\n      }\n      ref3 = doc.children;\n      for (i = k = 0, len1 = ref3.length; k < len1; i = ++k) {\n        child = ref3[i];\n        if (child.isRoot) {\n          doc.children.splice(i, 0, doctype);\n          return doctype;\n        }\n      }\n      doc.children.push(doctype);\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.type === NodeType.Document) {\n          return node.rootObject;\n        } else if (node.isRoot) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.document = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.type === NodeType.Document) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().end(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node. \" + this.debugInfo());\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node. \" + this.debugInfo());\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importDocument = function(doc) {\n      var clonedRoot;\n      clonedRoot = doc.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.debugInfo = function(name) {\n      var ref2, ref3;\n      name = name || this.name;\n      if ((name == null) && !((ref2 = this.parent) != null ? ref2.name : void 0)) {\n        return \"\";\n      } else if (name == null) {\n        return \"parent: <\" + this.parent.name + \">\";\n      } else if (!((ref3 = this.parent) != null ? ref3.name : void 0)) {\n        return \"node: <\" + name + \">\";\n      } else {\n        return \"node: <\" + name + \">, parent: <\" + this.parent.name + \">\";\n      }\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(doc) {\n      return this.importDocument(doc);\n    };\n\n    XMLNode.prototype.replaceChild = function(newChild, oldChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.removeChild = function(oldChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.appendChild = function(newChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.hasChildNodes = function() {\n      return this.children.length !== 0;\n    };\n\n    XMLNode.prototype.cloneNode = function(deep) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.normalize = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isSupported = function(feature, version) {\n      return true;\n    };\n\n    XMLNode.prototype.hasAttributes = function() {\n      return this.attribs.length !== 0;\n    };\n\n    XMLNode.prototype.compareDocumentPosition = function(other) {\n      var ref, res;\n      ref = this;\n      if (ref === other) {\n        return 0;\n      } else if (this.document() !== other.document()) {\n        res = DocumentPosition.Disconnected | DocumentPosition.ImplementationSpecific;\n        if (Math.random() < 0.5) {\n          res |= DocumentPosition.Preceding;\n        } else {\n          res |= DocumentPosition.Following;\n        }\n        return res;\n      } else if (ref.isAncestor(other)) {\n        return DocumentPosition.Contains | DocumentPosition.Preceding;\n      } else if (ref.isDescendant(other)) {\n        return DocumentPosition.Contains | DocumentPosition.Following;\n      } else if (ref.isPreceding(other)) {\n        return DocumentPosition.Preceding;\n      } else {\n        return DocumentPosition.Following;\n      }\n    };\n\n    XMLNode.prototype.isSameNode = function(other) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.lookupPrefix = function(namespaceURI) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isDefaultNamespace = function(namespaceURI) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.lookupNamespaceURI = function(prefix) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isEqualNode = function(node) {\n      var i, j, ref2;\n      if (node.nodeType !== this.nodeType) {\n        return false;\n      }\n      if (node.children.length !== this.children.length) {\n        return false;\n      }\n      for (i = j = 0, ref2 = this.children.length - 1; 0 <= ref2 ? j <= ref2 : j >= ref2; i = 0 <= ref2 ? ++j : --j) {\n        if (!this.children[i].isEqualNode(node.children[i])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    XMLNode.prototype.getFeature = function(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.setUserData = function(key, data, handler) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.getUserData = function(key) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.contains = function(other) {\n      if (!other) {\n        return false;\n      }\n      return other === this || this.isDescendant(other);\n    };\n\n    XMLNode.prototype.isDescendant = function(node) {\n      var child, isDescendantChild, j, len, ref2;\n      ref2 = this.children;\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        if (node === child) {\n          return true;\n        }\n        isDescendantChild = child.isDescendant(node);\n        if (isDescendantChild) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    XMLNode.prototype.isAncestor = function(node) {\n      return node.isDescendant(this);\n    };\n\n    XMLNode.prototype.isPreceding = function(node) {\n      var nodePos, thisPos;\n      nodePos = this.treePosition(node);\n      thisPos = this.treePosition(this);\n      if (nodePos === -1 || thisPos === -1) {\n        return false;\n      } else {\n        return nodePos < thisPos;\n      }\n    };\n\n    XMLNode.prototype.isFollowing = function(node) {\n      var nodePos, thisPos;\n      nodePos = this.treePosition(node);\n      thisPos = this.treePosition(this);\n      if (nodePos === -1 || thisPos === -1) {\n        return false;\n      } else {\n        return nodePos > thisPos;\n      }\n    };\n\n    XMLNode.prototype.treePosition = function(node) {\n      var found, pos;\n      pos = 0;\n      found = false;\n      this.foreachTreeNode(this.document(), function(childNode) {\n        pos++;\n        if (!found && childNode === node) {\n          return found = true;\n        }\n      });\n      if (found) {\n        return pos;\n      } else {\n        return -1;\n      }\n    };\n\n    XMLNode.prototype.foreachTreeNode = function(node, func) {\n      var child, j, len, ref2, res;\n      node || (node = this.document());\n      ref2 = node.children;\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        if (res = func(child)) {\n          return res;\n        } else {\n          res = this.foreachTreeNode(child, func);\n          if (res) {\n            return res;\n          }\n        }\n      }\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLAttribute, XMLElement, XMLNamedNodeMap, XMLNode, getValue, isFunction, isObject, ref,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, getValue = ref.getValue;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  module.exports = XMLElement = (function(superClass) {\n    extend(XMLElement, superClass);\n\n    function XMLElement(parent, name, attributes) {\n      var child, j, len, ref1;\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name. \" + this.debugInfo());\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.Element;\n      this.attribs = {};\n      this.schemaTypeInfo = null;\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n      if (parent.type === NodeType.Document) {\n        this.isRoot = true;\n        this.documentObject = parent;\n        parent.rootObject = this;\n        if (parent.children) {\n          ref1 = parent.children;\n          for (j = 0, len = ref1.length; j < len; j++) {\n            child = ref1[j];\n            if (child.type === NodeType.DocType) {\n              child.name = this.name;\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    Object.defineProperty(XMLElement.prototype, 'tagName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'id', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'className', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'classList', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'attributes', {\n      get: function() {\n        if (!this.attributeMap || !this.attributeMap.nodes) {\n          this.attributeMap = new XMLNamedNodeMap(this.attribs);\n        }\n        return this.attributeMap;\n      }\n    });\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, ref1;\n      clonedSelf = Object.create(this);\n      if (clonedSelf.isRoot) {\n        clonedSelf.documentObject = null;\n      }\n      clonedSelf.attribs = {};\n      ref1 = this.attribs;\n      for (attName in ref1) {\n        if (!hasProp.call(ref1, attName)) continue;\n        att = ref1[attName];\n        clonedSelf.attribs[attName] = att.clone();\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, j, len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name. \" + this.debugInfo());\n      }\n      name = getValue(name);\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          attName = name[j];\n          delete this.attribs[attName];\n        }\n      } else {\n        delete this.attribs[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options) {\n      return this.options.writer.element(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.getAttribute = function(name) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name].value;\n      } else {\n        return null;\n      }\n    };\n\n    XMLElement.prototype.setAttribute = function(name, value) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNode = function(name) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name];\n      } else {\n        return null;\n      }\n    };\n\n    XMLElement.prototype.setAttributeNode = function(newAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.removeAttributeNode = function(oldAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagName = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setAttributeNS = function(namespaceURI, qualifiedName, value) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.removeAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNodeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setAttributeNodeNS = function(newAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.hasAttribute = function(name) {\n      return this.attribs.hasOwnProperty(name);\n    };\n\n    XMLElement.prototype.hasAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setIdAttribute = function(name, isId) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name].isId;\n      } else {\n        return isId;\n      }\n    };\n\n    XMLElement.prototype.setIdAttributeNS = function(namespaceURI, localName, isId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setIdAttributeNode = function(idAttr, isId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagName = function(tagname) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByClassName = function(classNames) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.isEqualNode = function(node) {\n      var i, j, ref1;\n      if (!XMLElement.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.namespaceURI !== this.namespaceURI) {\n        return false;\n      }\n      if (node.prefix !== this.prefix) {\n        return false;\n      }\n      if (node.localName !== this.localName) {\n        return false;\n      }\n      if (node.attribs.length !== this.attribs.length) {\n        return false;\n      }\n      for (i = j = 0, ref1 = this.attribs.length - 1; 0 <= ref1 ? j <= ref1 : j >= ref1; i = 0 <= ref1 ? ++j : --j) {\n        if (!this.attribs[i].isEqualNode(node.attribs[i])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    Element: 1,\n    Attribute: 2,\n    Text: 3,\n    CData: 4,\n    EntityReference: 5,\n    EntityDeclaration: 6,\n    ProcessingInstruction: 7,\n    Comment: 8,\n    Document: 9,\n    DocType: 10,\n    DocumentFragment: 11,\n    NotationDeclaration: 12,\n    Declaration: 201,\n    Raw: 202,\n    AttributeDeclaration: 203,\n    ElementDeclaration: 204,\n    Dummy: 205\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLAttribute, XMLNode;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.parent = parent;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      if (name == null) {\n        throw new Error(\"Missing attribute name. \" + this.debugInfo(name));\n      }\n      this.name = this.stringify.name(name);\n      this.value = this.stringify.attValue(value);\n      this.type = NodeType.Attribute;\n      this.isId = false;\n      this.schemaTypeInfo = null;\n    }\n\n    Object.defineProperty(XMLAttribute.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'ownerElement', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'specified', {\n      get: function() {\n        return true;\n      }\n    });\n\n    XMLAttribute.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLAttribute.prototype.toString = function(options) {\n      return this.options.writer.attribute(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLAttribute.prototype.debugInfo = function(name) {\n      name = name || this.name;\n      if (name == null) {\n        return \"parent: <\" + this.parent.name + \">\";\n      } else {\n        return \"attribute: {\" + name + \"}, parent: <\" + this.parent.name + \">\";\n      }\n    };\n\n    XMLAttribute.prototype.isEqualNode = function(node) {\n      if (node.namespaceURI !== this.namespaceURI) {\n        return false;\n      }\n      if (node.prefix !== this.prefix) {\n        return false;\n      }\n      if (node.localName !== this.localName) {\n        return false;\n      }\n      if (node.value !== this.value) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNamedNodeMap;\n\n  module.exports = XMLNamedNodeMap = (function() {\n    function XMLNamedNodeMap(nodes) {\n      this.nodes = nodes;\n    }\n\n    Object.defineProperty(XMLNamedNodeMap.prototype, 'length', {\n      get: function() {\n        return Object.keys(this.nodes).length || 0;\n      }\n    });\n\n    XMLNamedNodeMap.prototype.clone = function() {\n      return this.nodes = null;\n    };\n\n    XMLNamedNodeMap.prototype.getNamedItem = function(name) {\n      return this.nodes[name];\n    };\n\n    XMLNamedNodeMap.prototype.setNamedItem = function(node) {\n      var oldNode;\n      oldNode = this.nodes[node.nodeName];\n      this.nodes[node.nodeName] = node;\n      return oldNode || null;\n    };\n\n    XMLNamedNodeMap.prototype.removeNamedItem = function(name) {\n      var oldNode;\n      oldNode = this.nodes[name];\n      delete this.nodes[name];\n      return oldNode || null;\n    };\n\n    XMLNamedNodeMap.prototype.item = function(index) {\n      return this.nodes[Object.keys(this.nodes)[index]] || null;\n    };\n\n    XMLNamedNodeMap.prototype.getNamedItemNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLNamedNodeMap.prototype.setNamedItemNS = function(node) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLNamedNodeMap.prototype.removeNamedItemNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    return XMLNamedNodeMap;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCData, XMLCharacterData,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLCData = (function(superClass) {\n    extend(XMLCData, superClass);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text. \" + this.debugInfo());\n      }\n      this.name = \"#cdata-section\";\n      this.type = NodeType.CData;\n      this.value = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCData.prototype.toString = function(options) {\n      return this.options.writer.cdata(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLCData;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCharacterData, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCharacterData = (function(superClass) {\n    extend(XMLCharacterData, superClass);\n\n    function XMLCharacterData(parent) {\n      XMLCharacterData.__super__.constructor.call(this, parent);\n      this.value = '';\n    }\n\n    Object.defineProperty(XMLCharacterData.prototype, 'data', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'length', {\n      get: function() {\n        return this.value.length;\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    XMLCharacterData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCharacterData.prototype.substringData = function(offset, count) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.appendData = function(arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.insertData = function(offset, arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.deleteData = function(offset, count) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.replaceData = function(offset, count, arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.isEqualNode = function(node) {\n      if (!XMLCharacterData.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.data !== this.data) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLCharacterData;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLComment,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLComment = (function(superClass) {\n    extend(XMLComment, superClass);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text. \" + this.debugInfo());\n      }\n      this.name = \"#comment\";\n      this.type = NodeType.Comment;\n      this.value = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLComment.prototype.toString = function(options) {\n      return this.options.writer.comment(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLComment;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDeclaration, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDeclaration = (function(superClass) {\n    extend(XMLDeclaration, superClass);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      this.type = NodeType.Declaration;\n      this.version = this.stringify.xmlVersion(version);\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.toString = function(options) {\n      return this.options.writer.declaration(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLNamedNodeMap, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  module.exports = XMLDocType = (function(superClass) {\n    extend(XMLDocType, superClass);\n\n    function XMLDocType(parent, pubID, sysID) {\n      var child, i, len, ref, ref1, ref2;\n      XMLDocType.__super__.constructor.call(this, parent);\n      this.type = NodeType.DocType;\n      if (parent.children) {\n        ref = parent.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.Element) {\n            this.name = child.name;\n            break;\n          }\n        }\n      }\n      this.documentObject = parent;\n      if (isObject(pubID)) {\n        ref1 = pubID, pubID = ref1.pubID, sysID = ref1.sysID;\n      }\n      if (sysID == null) {\n        ref2 = [pubID, sysID], sysID = ref2[0], pubID = ref2[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    Object.defineProperty(XMLDocType.prototype, 'entities', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if ((child.type === NodeType.EntityDeclaration) && !child.pe) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'notations', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.NotationDeclaration) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'internalSubset', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    XMLDocType.prototype.element = function(name, value) {\n      var child;\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var child;\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var child;\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.toString = function(options) {\n      return this.options.writer.docType(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root() || this.documentObject;\n    };\n\n    XMLDocType.prototype.isEqualNode = function(node) {\n      if (!XMLDocType.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.name !== this.name) {\n        return false;\n      }\n      if (node.publicId !== this.publicId) {\n        return false;\n      }\n      if (node.systemId !== this.systemId) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLDocType;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDAttList, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDAttList = (function(superClass) {\n    extend(XMLDTDAttList, superClass);\n\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      XMLDTDAttList.__super__.constructor.call(this, parent);\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name. \" + this.debugInfo(elementName));\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type. \" + this.debugInfo(elementName));\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default. \" + this.debugInfo(elementName));\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      this.elementName = this.stringify.name(elementName);\n      this.type = NodeType.AttributeDeclaration;\n      this.attributeName = this.stringify.name(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      if (defaultValue) {\n        this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      }\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.toString = function(options) {\n      return this.options.writer.dtdAttList(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDAttList;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDEntity, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDEntity = (function(superClass) {\n    extend(XMLDTDEntity, superClass);\n\n    function XMLDTDEntity(parent, pe, name, value) {\n      XMLDTDEntity.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD entity name. \" + this.debugInfo(name));\n      }\n      if (value == null) {\n        throw new Error(\"Missing DTD entity value. \" + this.debugInfo(name));\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.name(name);\n      this.type = NodeType.EntityDeclaration;\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n        this.internal = true;\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity. \" + this.debugInfo(name));\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity. \" + this.debugInfo(name));\n        }\n        this.internal = false;\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity. \" + this.debugInfo(name));\n        }\n      }\n    }\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'notationName', {\n      get: function() {\n        return this.nData || null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlVersion', {\n      get: function() {\n        return null;\n      }\n    });\n\n    XMLDTDEntity.prototype.toString = function(options) {\n      return this.options.writer.dtdEntity(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDEntity;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDElement, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDElement = (function(superClass) {\n    extend(XMLDTDElement, superClass);\n\n    function XMLDTDElement(parent, name, value) {\n      XMLDTDElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (Array.isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.ElementDeclaration;\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.toString = function(options) {\n      return this.options.writer.dtdElement(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDNotation, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDNotation = (function(superClass) {\n    extend(XMLDTDNotation, superClass);\n\n    function XMLDTDNotation(parent, name, value) {\n      XMLDTDNotation.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD notation name. \" + this.debugInfo(name));\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity. \" + this.debugInfo(name));\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.NotationDeclaration;\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    XMLDTDNotation.prototype.toString = function(options) {\n      return this.options.writer.dtdNotation(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDNotation;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLNode, XMLRaw,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(superClass) {\n    extend(XMLRaw, superClass);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text. \" + this.debugInfo());\n      }\n      this.type = NodeType.Raw;\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLRaw.prototype.toString = function(options) {\n      return this.options.writer.raw(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLText,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLText = (function(superClass) {\n    extend(XMLText, superClass);\n\n    function XMLText(parent, text) {\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text. \" + this.debugInfo());\n      }\n      this.name = \"#text\";\n      this.type = NodeType.Text;\n      this.value = this.stringify.text(text);\n    }\n\n    Object.defineProperty(XMLText.prototype, 'isElementContentWhitespace', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLText.prototype, 'wholeText', {\n      get: function() {\n        var next, prev, str;\n        str = '';\n        prev = this.previousSibling;\n        while (prev) {\n          str = prev.data + str;\n          prev = prev.previousSibling;\n        }\n        str += this.data;\n        next = this.nextSibling;\n        while (next) {\n          str = str + next.data;\n          next = next.nextSibling;\n        }\n        return str;\n      }\n    });\n\n    XMLText.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLText.prototype.toString = function(options) {\n      return this.options.writer.text(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLText.prototype.splitText = function(offset) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLText.prototype.replaceWholeText = function(content) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    return XMLText;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLProcessingInstruction,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLProcessingInstruction = (function(superClass) {\n    extend(XMLProcessingInstruction, superClass);\n\n    function XMLProcessingInstruction(parent, target, value) {\n      XMLProcessingInstruction.__super__.constructor.call(this, parent);\n      if (target == null) {\n        throw new Error(\"Missing instruction target. \" + this.debugInfo());\n      }\n      this.type = NodeType.ProcessingInstruction;\n      this.target = this.stringify.insTarget(target);\n      this.name = this.target;\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options) {\n      return this.options.writer.processingInstruction(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLProcessingInstruction.prototype.isEqualNode = function(node) {\n      if (!XMLProcessingInstruction.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.target !== this.target) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLProcessingInstruction;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDummy, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDummy = (function(superClass) {\n    extend(XMLDummy, superClass);\n\n    function XMLDummy(parent) {\n      XMLDummy.__super__.constructor.call(this, parent);\n      this.type = NodeType.Dummy;\n    }\n\n    XMLDummy.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLDummy.prototype.toString = function(options) {\n      return '';\n    };\n\n    return XMLDummy;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNodeList;\n\n  module.exports = XMLNodeList = (function() {\n    function XMLNodeList(nodes) {\n      this.nodes = nodes;\n    }\n\n    Object.defineProperty(XMLNodeList.prototype, 'length', {\n      get: function() {\n        return this.nodes.length || 0;\n      }\n    });\n\n    XMLNodeList.prototype.clone = function() {\n      return this.nodes = null;\n    };\n\n    XMLNodeList.prototype.item = function(index) {\n      return this.nodes[index] || null;\n    };\n\n    return XMLNodeList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    Disconnected: 1,\n    Preceding: 2,\n    Following: 4,\n    Contains: 8,\n    ContainedBy: 16,\n    ImplementationSpecific: 32\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringifier,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalName = bind(this.assertLegalName, this);\n      this.assertLegalChar = bind(this.assertLegalChar, this);\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      if (!this.options.version) {\n        this.options.version = '1.0';\n      }\n      ref = options.stringify || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.name = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalName('' + val || '');\n    };\n\n    XMLStringifier.prototype.text = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar(this.textEscape('' + val || ''));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      val = val.replace(']]>', ']]]]><![CDATA[>');\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar(this.attEscape(val = '' + val || ''));\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)) {\n        throw new Error(\"Invalid encoding: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var regex, res;\n      if (this.options.noValidation) {\n        return str;\n      }\n      regex = '';\n      if (this.options.version === '1.0') {\n        regex = /[\\0-\\x08\\x0B\\f\\x0E-\\x1F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n        if (res = str.match(regex)) {\n          throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n        }\n      } else if (this.options.version === '1.1') {\n        regex = /[\\0\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n        if (res = str.match(regex)) {\n          throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n        }\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.assertLegalName = function(str) {\n      var regex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      this.assertLegalChar(str);\n      regex = /^([:A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])([\\x2D\\.0-:A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])*$/;\n      if (!str.match(regex)) {\n        throw new Error(\"Invalid character in name\");\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.textEscape = function(str) {\n      var ampregex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      ampregex = this.options.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      var ampregex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      ampregex = this.options.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringWriter, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  module.exports = XMLStringWriter = (function(superClass) {\n    extend(XMLStringWriter, superClass);\n\n    function XMLStringWriter(options) {\n      XMLStringWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStringWriter.prototype.document = function(doc, options) {\n      var child, i, len, r, ref;\n      options = this.filterOptions(options);\n      r = '';\n      ref = doc.children;\n      for (i = 0, len = ref.length; i < len; i++) {\n        child = ref[i];\n        r += this.writeChildNode(child, options, 0);\n      }\n      if (options.pretty && r.slice(-options.newline.length) === options.newline) {\n        r = r.slice(0, -options.newline.length);\n      }\n      return r;\n    };\n\n    return XMLStringWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLProcessingInstruction, XMLRaw, XMLText, XMLWriterBase, assign,\n    hasProp = {}.hasOwnProperty;\n\n  assign = require('./Utility').assign;\n\n  NodeType = require('./NodeType');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLElement = require('./XMLElement');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDummy = require('./XMLDummy');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLWriterBase = (function() {\n    function XMLWriterBase(options) {\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      ref = options.writer || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[\"_\" + key] = this[key];\n        this[key] = value;\n      }\n    }\n\n    XMLWriterBase.prototype.filterOptions = function(options) {\n      var filteredOptions, ref, ref1, ref2, ref3, ref4, ref5, ref6;\n      options || (options = {});\n      options = assign({}, this.options, options);\n      filteredOptions = {\n        writer: this\n      };\n      filteredOptions.pretty = options.pretty || false;\n      filteredOptions.allowEmpty = options.allowEmpty || false;\n      filteredOptions.indent = (ref = options.indent) != null ? ref : '  ';\n      filteredOptions.newline = (ref1 = options.newline) != null ? ref1 : '\\n';\n      filteredOptions.offset = (ref2 = options.offset) != null ? ref2 : 0;\n      filteredOptions.dontPrettyTextNodes = (ref3 = (ref4 = options.dontPrettyTextNodes) != null ? ref4 : options.dontprettytextnodes) != null ? ref3 : 0;\n      filteredOptions.spaceBeforeSlash = (ref5 = (ref6 = options.spaceBeforeSlash) != null ? ref6 : options.spacebeforeslash) != null ? ref5 : '';\n      if (filteredOptions.spaceBeforeSlash === true) {\n        filteredOptions.spaceBeforeSlash = ' ';\n      }\n      filteredOptions.suppressPrettyCount = 0;\n      filteredOptions.user = {};\n      filteredOptions.state = WriterState.None;\n      return filteredOptions;\n    };\n\n    XMLWriterBase.prototype.indent = function(node, options, level) {\n      var indentLevel;\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else if (options.pretty) {\n        indentLevel = (level || 0) + options.offset + 1;\n        if (indentLevel > 0) {\n          return new Array(indentLevel).join(options.indent);\n        }\n      }\n      return '';\n    };\n\n    XMLWriterBase.prototype.endline = function(node, options, level) {\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else {\n        return options.newline;\n      }\n    };\n\n    XMLWriterBase.prototype.attribute = function(att, options, level) {\n      var r;\n      this.openAttribute(att, options, level);\n      r = ' ' + att.name + '=\"' + att.value + '\"';\n      this.closeAttribute(att, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.cdata = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<![CDATA[';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ']]>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.comment = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!-- ';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ' -->' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.declaration = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?xml';\n      options.state = WriterState.InsideTag;\n      r += ' version=\"' + node.version + '\"';\n      if (node.encoding != null) {\n        r += ' encoding=\"' + node.encoding + '\"';\n      }\n      if (node.standalone != null) {\n        r += ' standalone=\"' + node.standalone + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.docType = function(node, options, level) {\n      var child, i, len, r, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      r += '<!DOCTYPE ' + node.root().name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      if (node.children.length > 0) {\n        r += ' [';\n        r += this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += ']';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, i, j, len, len1, name, prettySuppressed, r, ref, ref1, ref2;\n      level || (level = 0);\n      prettySuppressed = false;\n      r = '';\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r += this.indent(node, options, level) + '<' + node.name;\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        r += this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          r += '>';\n          options.state = WriterState.CloseTag;\n          r += '</' + node.name + '>' + this.endline(node, options, level);\n        } else {\n          options.state = WriterState.CloseTag;\n          r += options.spaceBeforeSlash + '/>' + this.endline(node, options, level);\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        r += '>';\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        r += this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        r += '</' + node.name + '>' + this.endline(node, options, level);\n      } else {\n        if (options.dontPrettyTextNodes) {\n          ref1 = node.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            if ((child.type === NodeType.Text || child.type === NodeType.Raw) && (child.value != null)) {\n              options.suppressPrettyCount++;\n              prettySuppressed = true;\n              break;\n            }\n          }\n        }\n        r += '>' + this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref2 = node.children;\n        for (j = 0, len1 = ref2.length; j < len1; j++) {\n          child = ref2[j];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += this.indent(node, options, level) + '</' + node.name + '>';\n        if (prettySuppressed) {\n          options.suppressPrettyCount--;\n        }\n        r += this.endline(node, options, level);\n        options.state = WriterState.None;\n      }\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.writeChildNode = function(node, options, level) {\n      switch (node.type) {\n        case NodeType.CData:\n          return this.cdata(node, options, level);\n        case NodeType.Comment:\n          return this.comment(node, options, level);\n        case NodeType.Element:\n          return this.element(node, options, level);\n        case NodeType.Raw:\n          return this.raw(node, options, level);\n        case NodeType.Text:\n          return this.text(node, options, level);\n        case NodeType.ProcessingInstruction:\n          return this.processingInstruction(node, options, level);\n        case NodeType.Dummy:\n          return '';\n        case NodeType.Declaration:\n          return this.declaration(node, options, level);\n        case NodeType.DocType:\n          return this.docType(node, options, level);\n        case NodeType.AttributeDeclaration:\n          return this.dtdAttList(node, options, level);\n        case NodeType.ElementDeclaration:\n          return this.dtdElement(node, options, level);\n        case NodeType.EntityDeclaration:\n          return this.dtdEntity(node, options, level);\n        case NodeType.NotationDeclaration:\n          return this.dtdNotation(node, options, level);\n        default:\n          throw new Error(\"Unknown XML node type: \" + node.constructor.name);\n      }\n    };\n\n    XMLWriterBase.prototype.processingInstruction = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?';\n      options.state = WriterState.InsideTag;\n      r += node.target;\n      if (node.value) {\n        r += ' ' + node.value;\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.raw = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.text = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdAttList = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ATTLIST';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.elementName + ' ' + node.attributeName + ' ' + node.attributeType;\n      if (node.defaultValueType !== '#DEFAULT') {\n        r += ' ' + node.defaultValueType;\n      }\n      if (node.defaultValue) {\n        r += ' \"' + node.defaultValue + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdElement = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ELEMENT';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name + ' ' + node.value;\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdEntity = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ENTITY';\n      options.state = WriterState.InsideTag;\n      if (node.pe) {\n        r += ' %';\n      }\n      r += ' ' + node.name;\n      if (node.value) {\n        r += ' \"' + node.value + '\"';\n      } else {\n        if (node.pubID && node.sysID) {\n          r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n        } else if (node.sysID) {\n          r += ' SYSTEM \"' + node.sysID + '\"';\n        }\n        if (node.nData) {\n          r += ' NDATA ' + node.nData;\n        }\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdNotation = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!NOTATION';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.pubID) {\n        r += ' PUBLIC \"' + node.pubID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.openNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.closeNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.openAttribute = function(att, options, level) {};\n\n    XMLWriterBase.prototype.closeAttribute = function(att, options, level) {};\n\n    return XMLWriterBase;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    None: 0,\n    OpenTag: 1,\n    InsideTag: 2,\n    CloseTag: 3\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLAttribute, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDocument, XMLDocumentCB, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLStringifier, XMLText, getValue, isFunction, isObject, isPlainObject, ref,\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, isPlainObject = ref.isPlainObject, getValue = ref.getValue;\n\n  NodeType = require('./NodeType');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLElement = require('./XMLElement');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLDocumentCB = (function() {\n    function XMLDocumentCB(options, onData, onEnd) {\n      var writerOptions;\n      this.name = \"?xml\";\n      this.type = NodeType.Document;\n      options || (options = {});\n      writerOptions = {};\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      } else if (isPlainObject(options.writer)) {\n        writerOptions = options.writer;\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.writer = options.writer;\n      this.writerOptions = this.writer.filterOptions(writerOptions);\n      this.stringify = new XMLStringifier(options);\n      this.onDataCallback = onData || function() {};\n      this.onEndCallback = onEnd || function() {};\n      this.currentNode = null;\n      this.currentLevel = -1;\n      this.openTags = {};\n      this.documentStarted = false;\n      this.documentCompleted = false;\n      this.root = null;\n    }\n\n    XMLDocumentCB.prototype.createChildNode = function(node) {\n      var att, attName, attributes, child, i, len, ref1, ref2;\n      switch (node.type) {\n        case NodeType.CData:\n          this.cdata(node.value);\n          break;\n        case NodeType.Comment:\n          this.comment(node.value);\n          break;\n        case NodeType.Element:\n          attributes = {};\n          ref1 = node.attribs;\n          for (attName in ref1) {\n            if (!hasProp.call(ref1, attName)) continue;\n            att = ref1[attName];\n            attributes[attName] = att.value;\n          }\n          this.node(node.name, attributes);\n          break;\n        case NodeType.Dummy:\n          this.dummy();\n          break;\n        case NodeType.Raw:\n          this.raw(node.value);\n          break;\n        case NodeType.Text:\n          this.text(node.value);\n          break;\n        case NodeType.ProcessingInstruction:\n          this.instruction(node.target, node.value);\n          break;\n        default:\n          throw new Error(\"This XML node type is not supported in a JS object: \" + node.constructor.name);\n      }\n      ref2 = node.children;\n      for (i = 0, len = ref2.length; i < len; i++) {\n        child = ref2[i];\n        this.createChildNode(child);\n        if (child.type === NodeType.Element) {\n          this.up();\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dummy = function() {\n      return this;\n    };\n\n    XMLDocumentCB.prototype.node = function(name, attributes, text) {\n      var ref1;\n      if (name == null) {\n        throw new Error(\"Missing node name.\");\n      }\n      if (this.root && this.currentLevel === -1) {\n        throw new Error(\"Document can only have one root node. \" + this.debugInfo(name));\n      }\n      this.openCurrent();\n      name = getValue(name);\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];\n      }\n      this.currentNode = new XMLElement(this, name, attributes);\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      if (text != null) {\n        this.text(text);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.element = function(name, attributes, text) {\n      var child, i, len, oldValidationFlag, ref1, root;\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        this.dtdElement.apply(this, arguments);\n      } else {\n        if (Array.isArray(name) || isObject(name) || isFunction(name)) {\n          oldValidationFlag = this.options.noValidation;\n          this.options.noValidation = true;\n          root = new XMLDocument(this.options).element('TEMP_ROOT');\n          root.element(name);\n          this.options.noValidation = oldValidationFlag;\n          ref1 = root.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            this.createChildNode(child);\n            if (child.type === NodeType.Element) {\n              this.up();\n            }\n          }\n        } else {\n          this.node(name, attributes, text);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (!this.currentNode || this.currentNode.children) {\n        throw new Error(\"att() can only be used immediately after an ele() call in callback mode. \" + this.debugInfo(name));\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.text = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLText(this, value);\n      this.onData(this.writer.text(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.cdata = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLCData(this, value);\n      this.onData(this.writer.cdata(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.comment = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLComment(this, value);\n      this.onData(this.writer.comment(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.raw = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLRaw(this, value);\n      this.onData(this.writer.raw(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.instruction = function(target, value) {\n      var i, insTarget, insValue, len, node;\n      this.openCurrent();\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) {\n        for (i = 0, len = target.length; i < len; i++) {\n          insTarget = target[i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        node = new XMLProcessingInstruction(this, target, value);\n        this.onData(this.writer.processingInstruction(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.declaration = function(version, encoding, standalone) {\n      var node;\n      this.openCurrent();\n      if (this.documentStarted) {\n        throw new Error(\"declaration() must be the first node.\");\n      }\n      node = new XMLDeclaration(this, version, encoding, standalone);\n      this.onData(this.writer.declaration(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.doctype = function(root, pubID, sysID) {\n      this.openCurrent();\n      if (root == null) {\n        throw new Error(\"Missing root node name.\");\n      }\n      if (this.root) {\n        throw new Error(\"dtd() must come before the root node.\");\n      }\n      this.currentNode = new XMLDocType(this, pubID, sysID);\n      this.currentNode.rootNodeName = root;\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dtdElement = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDElement(this, name, value);\n      this.onData(this.writer.dtdElement(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.onData(this.writer.dtdAttList(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.entity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, false, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.pEntity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, true, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.notation = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDNotation(this, name, value);\n      this.onData(this.writer.dtdNotation(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.up = function() {\n      if (this.currentLevel < 0) {\n        throw new Error(\"The document node has no parent.\");\n      }\n      if (this.currentNode) {\n        if (this.currentNode.children) {\n          this.closeNode(this.currentNode);\n        } else {\n          this.openNode(this.currentNode);\n        }\n        this.currentNode = null;\n      } else {\n        this.closeNode(this.openTags[this.currentLevel]);\n      }\n      delete this.openTags[this.currentLevel];\n      this.currentLevel--;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.end = function() {\n      while (this.currentLevel >= 0) {\n        this.up();\n      }\n      return this.onEnd();\n    };\n\n    XMLDocumentCB.prototype.openCurrent = function() {\n      if (this.currentNode) {\n        this.currentNode.children = true;\n        return this.openNode(this.currentNode);\n      }\n    };\n\n    XMLDocumentCB.prototype.openNode = function(node) {\n      var att, chunk, name, ref1;\n      if (!node.isOpen) {\n        if (!this.root && this.currentLevel === 0 && node.type === NodeType.Element) {\n          this.root = node;\n        }\n        chunk = '';\n        if (node.type === NodeType.Element) {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<' + node.name;\n          ref1 = node.attribs;\n          for (name in ref1) {\n            if (!hasProp.call(ref1, name)) continue;\n            att = ref1[name];\n            chunk += this.writer.attribute(att, this.writerOptions, this.currentLevel);\n          }\n          chunk += (node.children ? '>' : '/>') + this.writer.endline(node, this.writerOptions, this.currentLevel);\n          this.writerOptions.state = WriterState.InsideTag;\n        } else {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<!DOCTYPE ' + node.rootNodeName;\n          if (node.pubID && node.sysID) {\n            chunk += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n          } else if (node.sysID) {\n            chunk += ' SYSTEM \"' + node.sysID + '\"';\n          }\n          if (node.children) {\n            chunk += ' [';\n            this.writerOptions.state = WriterState.InsideTag;\n          } else {\n            this.writerOptions.state = WriterState.CloseTag;\n            chunk += '>';\n          }\n          chunk += this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.onData(chunk, this.currentLevel);\n        return node.isOpen = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.closeNode = function(node) {\n      var chunk;\n      if (!node.isClosed) {\n        chunk = '';\n        this.writerOptions.state = WriterState.CloseTag;\n        if (node.type === NodeType.Element) {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '</' + node.name + '>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        } else {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + ']>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.writerOptions.state = WriterState.None;\n        this.onData(chunk, this.currentLevel);\n        return node.isClosed = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.onData = function(chunk, level) {\n      this.documentStarted = true;\n      return this.onDataCallback(chunk, level + 1);\n    };\n\n    XMLDocumentCB.prototype.onEnd = function() {\n      this.documentCompleted = true;\n      return this.onEndCallback();\n    };\n\n    XMLDocumentCB.prototype.debugInfo = function(name) {\n      if (name == null) {\n        return \"\";\n      } else {\n        return \"node: <\" + name + \">\";\n      }\n    };\n\n    XMLDocumentCB.prototype.ele = function() {\n      return this.element.apply(this, arguments);\n    };\n\n    XMLDocumentCB.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLDocumentCB.prototype.dtd = function(root, pubID, sysID) {\n      return this.doctype(root, pubID, sysID);\n    };\n\n    XMLDocumentCB.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLDocumentCB.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.att = function() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.a = function() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocumentCB.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocumentCB.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    return XMLDocumentCB;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLStreamWriter, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLStreamWriter = (function(superClass) {\n    extend(XMLStreamWriter, superClass);\n\n    function XMLStreamWriter(stream, options) {\n      this.stream = stream;\n      XMLStreamWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStreamWriter.prototype.endline = function(node, options, level) {\n      if (node.isLastRootNode && options.state === WriterState.CloseTag) {\n        return '';\n      } else {\n        return XMLStreamWriter.__super__.endline.call(this, node, options, level);\n      }\n    };\n\n    XMLStreamWriter.prototype.document = function(doc, options) {\n      var child, i, j, k, len, len1, ref, ref1, results;\n      ref = doc.children;\n      for (i = j = 0, len = ref.length; j < len; i = ++j) {\n        child = ref[i];\n        child.isLastRootNode = i === doc.children.length - 1;\n      }\n      options = this.filterOptions(options);\n      ref1 = doc.children;\n      results = [];\n      for (k = 0, len1 = ref1.length; k < len1; k++) {\n        child = ref1[k];\n        results.push(this.writeChildNode(child, options, 0));\n      }\n      return results;\n    };\n\n    XMLStreamWriter.prototype.attribute = function(att, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.attribute.call(this, att, options, level));\n    };\n\n    XMLStreamWriter.prototype.cdata = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.cdata.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.comment = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.comment.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.declaration = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.declaration.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.docType = function(node, options, level) {\n      var child, j, len, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level));\n      this.stream.write('<!DOCTYPE ' + node.root().name);\n      if (node.pubID && node.sysID) {\n        this.stream.write(' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"');\n      } else if (node.sysID) {\n        this.stream.write(' SYSTEM \"' + node.sysID + '\"');\n      }\n      if (node.children.length > 0) {\n        this.stream.write(' [');\n        this.stream.write(this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (j = 0, len = ref.length; j < len; j++) {\n          child = ref[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(']');\n      }\n      options.state = WriterState.CloseTag;\n      this.stream.write(options.spaceBeforeSlash + '>');\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    };\n\n    XMLStreamWriter.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, j, len, name, prettySuppressed, ref, ref1;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level) + '<' + node.name);\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          this.stream.write('>');\n          options.state = WriterState.CloseTag;\n          this.stream.write('</' + node.name + '>');\n        } else {\n          options.state = WriterState.CloseTag;\n          this.stream.write(options.spaceBeforeSlash + '/>');\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        this.stream.write('>');\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        this.stream.write('</' + node.name + '>');\n      } else {\n        this.stream.write('>' + this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref1 = node.children;\n        for (j = 0, len = ref1.length; j < len; j++) {\n          child = ref1[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(this.indent(node, options, level) + '</' + node.name + '>');\n      }\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    };\n\n    XMLStreamWriter.prototype.processingInstruction = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.processingInstruction.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.raw = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.raw.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.text = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.text.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdAttList = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdAttList.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdElement = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdElement.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdEntity = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdEntity.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdNotation = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdNotation.call(this, node, options, level));\n    };\n\n    return XMLStreamWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var bom, defaults, events, isEmpty, isValidKey, processItem, processors, sax, setImmediate,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  sax = require('sax');\n\n  events = require('events');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  setImmediate = require('timers').setImmediate;\n\n  defaults = require('./defaults').defaults;\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  isValidKey = function(key) {\n    return key !== '__proto__' && key !== 'constructor' && key !== 'prototype';\n  };\n\n  processItem = function(processors, item, key) {\n    var i, len, process;\n    for (i = 0, len = processors.length; i < len; i++) {\n      process = processors[i];\n      item = process(item, key);\n    }\n    return item;\n  };\n\n  exports.Parser = (function(superClass) {\n    extend(Parser, superClass);\n\n    function Parser(opts) {\n      this.parseStringPromise = bind(this.parseStringPromise, this);\n      this.parseString = bind(this.parseString, this);\n      this.reset = bind(this.reset, this);\n      this.assignOrPush = bind(this.assignOrPush, this);\n      this.processAsync = bind(this.processAsync, this);\n      var key, ref, value;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.processAsync = function() {\n      var chunk, err;\n      try {\n        if (this.remaining.length <= this.options.chunkSize) {\n          chunk = this.remaining;\n          this.remaining = '';\n          this.saxParser = this.saxParser.write(chunk);\n          return this.saxParser.close();\n        } else {\n          chunk = this.remaining.substr(0, this.options.chunkSize);\n          this.remaining = this.remaining.substr(this.options.chunkSize, this.remaining.length);\n          this.saxParser = this.saxParser.write(chunk);\n          return setImmediate(this.processAsync);\n        }\n      } catch (error1) {\n        err = error1;\n        if (!this.saxParser.errThrown) {\n          this.saxParser.errThrown = true;\n          return this.emit(err);\n        }\n      }\n    };\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!isValidKey(key)) {\n        return;\n      }\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.onend = (function(_this) {\n        return function() {\n          if (!_this.saxParser.ended) {\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            ref = node.attributes;\n            for (key in ref) {\n              if (!hasProp.call(ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = _this.options.attrValueProcessors ? processItem(_this.options.attrValueProcessors, node.attributes[key], key) : node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processItem(_this.options.attrNameProcessors, key) : key;\n              if (isValidKey(processedKey)) {\n                if (_this.options.mergeAttrs) {\n                  _this.assignOrPush(obj, processedKey, newValue);\n                } else {\n                  obj[attrkey][processedKey] = newValue;\n                }\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processItem(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, key, node, nodeName, obj, objClone, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          if (!_this.options.explicitChildren || !_this.options.preserveChildrenOrder) {\n            delete obj[\"#name\"];\n          }\n          if (obj.cdata === true) {\n            cdata = obj.cdata;\n            delete obj.cdata;\n          }\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            obj[charkey] = _this.options.valueProcessors ? processItem(_this.options.valueProcessors, obj[charkey], nodeName) : obj[charkey];\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            if (typeof _this.options.emptyTag === 'function') {\n              obj = _this.options.emptyTag();\n            } else {\n              obj = _this.options.emptyTag !== '' ? _this.options.emptyTag : emptyStr;\n            }\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var i, len, results;\n              results = [];\n              for (i = 0, len = stack.length; i < len; i++) {\n                node = stack[i];\n                results.push(node[\"#name\"]);\n              }\n              return results;\n            })()).concat(nodeName).join(\"/\");\n            (function() {\n              var err;\n              try {\n                return obj = _this.options.validator(xpath, s && s[nodeName], obj);\n              } catch (error1) {\n                err = error1;\n                return _this.emit(\"error\", err);\n              }\n            })();\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            if (!_this.options.preserveChildrenOrder) {\n              node = {};\n              if (_this.options.attrkey in obj) {\n                node[_this.options.attrkey] = obj[_this.options.attrkey];\n                delete obj[_this.options.attrkey];\n              }\n              if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n                node[_this.options.charkey] = obj[_this.options.charkey];\n                delete obj[_this.options.charkey];\n              }\n              if (Object.getOwnPropertyNames(obj).length > 0) {\n                node[_this.options.childkey] = obj;\n              }\n              obj = node;\n            } else if (s) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              objClone = {};\n              for (key in obj) {\n                if (!hasProp.call(obj, key)) continue;\n                if (isValidKey(key)) {\n                  objClone[key] = obj[key];\n                }\n              }\n              s[_this.options.childkey].push(objClone);\n              delete obj[\"#name\"];\n              if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n                obj = obj[charkey];\n              }\n            }\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var charChild, s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            if (_this.options.explicitChildren && _this.options.preserveChildrenOrder && _this.options.charsAsChildren && (_this.options.includeWhiteChars || text.replace(/\\\\n/g, '').trim() !== '')) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              charChild = {\n                '#name': '__text__'\n              };\n              charChild[charkey] = text;\n              if (_this.options.normalize) {\n                charChild[charkey] = charChild[charkey].replace(/\\s{2,}/g, \" \").trim();\n              }\n              s[_this.options.childkey].push(charChild);\n            }\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          return cb(null, result);\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          return cb(err);\n        });\n      }\n      try {\n        str = str.toString();\n        if (str.trim() === '') {\n          this.emit(\"end\", null);\n          return true;\n        }\n        str = bom.stripBOM(str);\n        if (this.options.async) {\n          this.remaining = str;\n          setImmediate(this.processAsync);\n          return this.saxParser;\n        }\n        return this.saxParser.write(str).close();\n      } catch (error1) {\n        err = error1;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        } else if (this.saxParser.ended) {\n          throw err;\n        }\n      }\n    };\n\n    Parser.prototype.parseStringPromise = function(str) {\n      return new Promise((function(_this) {\n        return function(resolve, reject) {\n          return _this.parseString(str, function(err, value) {\n            if (err) {\n              return reject(err);\n            } else {\n              return resolve(value);\n            }\n          });\n        };\n      })(this));\n    };\n\n    return Parser;\n\n  })(events);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n  exports.parseStringPromise = function(str, a) {\n    var options, parser;\n    if (typeof a === 'object') {\n      options = a;\n    }\n    parser = new exports.Parser(options);\n    return parser.parseStringPromise(str);\n  };\n\n}).call(this);\n",";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n    emitNode(parser, 'onopentagstart', tag)\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString()\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (isWhitespace(c)) {\n            // wait for it...\n          } else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c\n          if (c === ']') {\n            parser.state = S.DOCTYPE\n          } else if (isQuote(c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            strictFail(parser, 'Unquoted attribute value')\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            parser[buffer] += parseEntity(parser)\n            parser.entity = ''\n            parser.state = returnState\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default:\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/lib/_stream_readable.js');\nStream.Writable = require('readable-stream/lib/_stream_writable.js');\nStream.Duplex = require('readable-stream/lib/_stream_duplex.js');\nStream.Transform = require('readable-stream/lib/_stream_transform.js');\nStream.PassThrough = require('readable-stream/lib/_stream_passthrough.js');\nStream.finished = require('readable-stream/lib/internal/streams/end-of-stream.js')\nStream.pipeline = require('readable-stream/lib/internal/streams/pipeline.js')\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nconst EE = require('events').EventEmitter;\nvar EElistenerCount = function EElistenerCount(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\nconst Buffer = require('buffer').Buffer;\nconst OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*<replacement>*/\nconst debugUtil = require('util');\nlet debug;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function debug() {};\n}\n/*</replacement>*/\n\nconst BufferList = require('./internal/streams/buffer_list');\nconst destroyImpl = require('./internal/streams/destroy');\nconst _require = require('./internal/streams/state'),\n  getHighWaterMark = _require.getHighWaterMark;\nconst _require$codes = require('../errors').codes,\n  ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n  ERR_STREAM_PUSH_AFTER_EOF = _require$codes.ERR_STREAM_PUSH_AFTER_EOF,\n  ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_STREAM_UNSHIFT_AFTER_END_EVENT = _require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;\n\n// Lazy loaded to improve the startup performance.\nlet StringDecoder;\nlet createReadableStreamAsyncIterator;\nlet from;\nrequire('inherits')(Readable, Stream);\nconst errorOrDestroy = destroyImpl.errorOrDestroy;\nconst kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (Array.isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\nfunction ReadableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  this.highWaterMark = getHighWaterMark(this, options, 'readableHighWaterMark', isDuplex);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n  this.paused = true;\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = options.emitClose !== false;\n\n  // Should .destroy() be called after 'end' (and potentially 'finish')\n  this.autoDestroy = !!options.autoDestroy;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the ReadableState constructor, at least with V8 6.5\n  const isDuplex = this instanceof Duplex;\n  this._readableState = new ReadableState(options, this, isDuplex);\n\n  // legacy\n  this.readable = true;\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n  Stream.call(this);\n}\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get() {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  debug('readableAddChunk', chunk);\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      errorOrDestroy(stream, er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n      if (addToFront) {\n        if (state.endEmitted) errorOrDestroy(stream, new ERR_STREAM_UNSHIFT_AFTER_END_EVENT());else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        errorOrDestroy(stream, new ERR_STREAM_PUSH_AFTER_EOF());\n      } else if (state.destroyed) {\n        return false;\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n      maybeReadMore(stream, state);\n    }\n  }\n\n  // We can push more data if we are below the highWaterMark.\n  // Also, if we have no data yet, we can stand some more bytes.\n  // This is to work around cases where hwm=0, such as the repl.\n  return !state.ended && (state.length < state.highWaterMark || state.length === 0);\n}\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    state.awaitDrain = 0;\n    stream.emit('data', chunk);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer', 'Uint8Array'], chunk);\n  }\n  return er;\n}\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  const decoder = new StringDecoder(enc);\n  this._readableState.decoder = decoder;\n  // If setEncoding(null), decoder.encoding equals utf8\n  this._readableState.encoding = this._readableState.decoder.encoding;\n\n  // Iterate over current buffer to convert already stored Buffers:\n  let p = this._readableState.buffer.head;\n  let content = '';\n  while (p !== null) {\n    content += decoder.write(p.data);\n    p = p.next;\n  }\n  this._readableState.buffer.clear();\n  if (content !== '') this._readableState.buffer.push(content);\n  this._readableState.length = content.length;\n  return this;\n};\n\n// Don't raise the hwm > 1GB\nconst MAX_HWM = 0x40000000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    // TODO(ronag): Throw ERR_VALUE_OUT_OF_RANGE.\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && ((state.highWaterMark !== 0 ? state.length >= state.highWaterMark : state.length > 0) || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n  if (ret === null) {\n    state.needReadable = state.length <= state.highWaterMark;\n    n = 0;\n  } else {\n    state.length -= n;\n    state.awaitDrain = 0;\n  }\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n  if (ret !== null) this.emit('data', ret);\n  return ret;\n};\nfunction onEofChunk(stream, state) {\n  debug('onEofChunk');\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n  if (state.sync) {\n    // if we are sync, wait until next tick to emit the data.\n    // Otherwise we risk emitting data in the flow()\n    // the readable code triggers during a read() call\n    emitReadable(stream);\n  } else {\n    // emit 'readable' now to make sure it gets picked up.\n    state.needReadable = false;\n    if (!state.emittedReadable) {\n      state.emittedReadable = true;\n      emitReadable_(stream);\n    }\n  }\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  debug('emitReadable', state.needReadable, state.emittedReadable);\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    process.nextTick(emitReadable_, stream);\n  }\n}\nfunction emitReadable_(stream) {\n  var state = stream._readableState;\n  debug('emitReadable_', state.destroyed, state.length, state.ended);\n  if (!state.destroyed && (state.length || state.ended)) {\n    stream.emit('readable');\n    state.emittedReadable = false;\n  }\n\n  // The stream needs another readable event if\n  // 1. It is not flowing, as the flow mechanism will take\n  //    care of it.\n  // 2. It is not ended.\n  // 3. It is below the highWaterMark, so we can schedule\n  //    another readable later.\n  state.needReadable = !state.flowing && !state.ended && state.length <= state.highWaterMark;\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(maybeReadMore_, stream, state);\n  }\n}\nfunction maybeReadMore_(stream, state) {\n  // Attempt to read more data if we should.\n  //\n  // The conditions for reading more data are (one of):\n  // - Not enough data buffered (state.length < state.highWaterMark). The loop\n  //   is responsible for filling the buffer with enough data if such data\n  //   is available. If highWaterMark is 0 and we are not in the flowing mode\n  //   we should _not_ attempt to buffer any extra data. We'll get more data\n  //   when the stream consumer calls read() instead.\n  // - No data in the buffer, and the stream is in flowing mode. In this mode\n  //   the loop below is responsible for ensuring read() is called. Failing to\n  //   call read here would abort the flow and there's no other mechanism for\n  //   continuing the flow if the stream consumer has just subscribed to the\n  //   'data' event.\n  //\n  // In addition to the above conditions to keep reading data, the following\n  // conditions prevent the data from being read:\n  // - The stream has ended (state.ended).\n  // - There is already a pending 'read' operation (state.reading). This is a\n  //   case where the the stream has called the implementation defined _read()\n  //   method, but they are processing the call asynchronously and have _not_\n  //   called push() with new data. In this case we skip performing more\n  //   read()s. The execution ends in this method again after the _read() ends\n  //   up calling push() with more data.\n  while (!state.reading && !state.ended && (state.length < state.highWaterMark || state.flowing && state.length === 0)) {\n    const len = state.length;\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  errorOrDestroy(this, new ERR_METHOD_NOT_IMPLEMENTED('_read()'));\n};\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) process.nextTick(endFn);else src.once('end', endFn);\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    debug('dest.write', ret);\n    if (ret === false) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', state.awaitDrain);\n        state.awaitDrain++;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) errorOrDestroy(dest, er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n  return dest;\n};\nfunction pipeOnDrain(src) {\n  return function pipeOnDrainFunctionResult() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = {\n    hasUnpiped: false\n  };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    for (var i = 0; i < len; i++) dests[i].emit('unpipe', this, {\n      hasUnpiped: false\n    });\n    return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n  dest.emit('unpipe', this, unpipeInfo);\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  const res = Stream.prototype.on.call(this, ev, fn);\n  const state = this._readableState;\n  if (ev === 'data') {\n    // update readableListening so that resume() may be a no-op\n    // a few lines down. This is needed to support once('readable').\n    state.readableListening = this.listenerCount('readable') > 0;\n\n    // Try start flowing on next tick if stream isn't explicitly paused\n    if (state.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.flowing = false;\n      state.emittedReadable = false;\n      debug('on readable', state.length, state.reading);\n      if (state.length) {\n        emitReadable(this);\n      } else if (!state.reading) {\n        process.nextTick(nReadingNextTick, this);\n      }\n    }\n  }\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\nReadable.prototype.removeListener = function (ev, fn) {\n  const res = Stream.prototype.removeListener.call(this, ev, fn);\n  if (ev === 'readable') {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n  return res;\n};\nReadable.prototype.removeAllListeners = function (ev) {\n  const res = Stream.prototype.removeAllListeners.apply(this, arguments);\n  if (ev === 'readable' || ev === undefined) {\n    // We need to check if there is someone still listening to\n    // readable and reset the state. However this needs to happen\n    // after readable has been emitted but before I/O (nextTick) to\n    // support once('readable', fn) cycles. This means that calling\n    // resume within the same tick will have no\n    // effect.\n    process.nextTick(updateReadableListening, this);\n  }\n  return res;\n};\nfunction updateReadableListening(self) {\n  const state = self._readableState;\n  state.readableListening = self.listenerCount('readable') > 0;\n  if (state.resumeScheduled && !state.paused) {\n    // flowing needs to be set to true now, otherwise\n    // the upcoming resume will not flow.\n    state.flowing = true;\n\n    // crude way to check if we should resume\n  } else if (self.listenerCount('data') > 0) {\n    self.resume();\n  }\n}\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    // we flow only if there is no one listening\n    // for readable, but we still have to call\n    // resume()\n    state.flowing = !state.readableListening;\n    resume(this, state);\n  }\n  state.paused = false;\n  return this;\n};\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(resume_, stream, state);\n  }\n}\nfunction resume_(stream, state) {\n  debug('resume', state.reading);\n  if (!state.reading) {\n    stream.read(0);\n  }\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (this._readableState.flowing !== false) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  this._readableState.paused = true;\n  return this;\n};\nfunction flow(stream) {\n  const state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null);\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var state = this._readableState;\n  var paused = false;\n  stream.on('end', () => {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) this.push(chunk);\n    }\n    this.push(null);\n  });\n  stream.on('data', chunk => {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n    var ret = this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function methodWrap(method) {\n        return function methodWrapReturnFunction() {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = n => {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n  return this;\n};\nif (typeof Symbol === 'function') {\n  Readable.prototype[Symbol.asyncIterator] = function () {\n    if (createReadableStreamAsyncIterator === undefined) {\n      createReadableStreamAsyncIterator = require('./internal/streams/async_iterator');\n    }\n    return createReadableStreamAsyncIterator(this);\n  };\n}\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.highWaterMark;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState && this._readableState.buffer;\n  }\n});\nObject.defineProperty(Readable.prototype, 'readableFlowing', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._readableState.flowing;\n  },\n  set: function set(state) {\n    if (this._readableState) {\n      this._readableState.flowing = state;\n    }\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\nObject.defineProperty(Readable.prototype, 'readableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get() {\n    return this._readableState.length;\n  }\n});\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.first();else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = state.buffer.consume(n, state.decoder);\n  }\n  return ret;\n}\nfunction endReadable(stream) {\n  var state = stream._readableState;\n  debug('endReadable', state.endEmitted);\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(endReadableNT, state, stream);\n  }\n}\nfunction endReadableNT(state, stream) {\n  debug('endReadableNT', state.endEmitted, state.length);\n\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n    if (state.autoDestroy) {\n      // In case of duplex streams we need a way to detect\n      // if the writable side is ready for autoDestroy as well\n      const wState = stream._writableState;\n      if (!wState || wState.autoDestroy && wState.finished) {\n        stream.destroy();\n      }\n    }\n  }\n}\nif (typeof Symbol === 'function') {\n  Readable.from = function (iterable, opts) {\n    if (from === undefined) {\n      from = require('./internal/streams/from');\n    }\n    return from(Readable, iterable, opts);\n  };\n}\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","module.exports = require('events').EventEmitter;\n","'use strict';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nconst _require = require('buffer'),\n  Buffer = _require.Buffer;\nconst _require2 = require('util'),\n  inspect = _require2.inspect;\nconst custom = inspect && inspect.custom || 'inspect';\nfunction copyBuffer(src, target, offset) {\n  Buffer.prototype.copy.call(src, target, offset);\n}\nmodule.exports = class BufferList {\n  constructor() {\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n  push(v) {\n    const entry = {\n      data: v,\n      next: null\n    };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  }\n  unshift(v) {\n    const entry = {\n      data: v,\n      next: this.head\n    };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  }\n  shift() {\n    if (this.length === 0) return;\n    const ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  }\n  clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  }\n  join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) ret += s + p.data;\n    return ret;\n  }\n  concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    const ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  }\n\n  // Consumes a specified amount of bytes or characters from the buffered data.\n  consume(n, hasStrings) {\n    var ret;\n    if (n < this.head.data.length) {\n      // `slice` is the same for buffers and strings.\n      ret = this.head.data.slice(0, n);\n      this.head.data = this.head.data.slice(n);\n    } else if (n === this.head.data.length) {\n      // First chunk is a perfect match.\n      ret = this.shift();\n    } else {\n      // Result spans more than one buffer.\n      ret = hasStrings ? this._getString(n) : this._getBuffer(n);\n    }\n    return ret;\n  }\n  first() {\n    return this.head.data;\n  }\n\n  // Consumes a specified amount of characters from the buffered data.\n  _getString(n) {\n    var p = this.head;\n    var c = 1;\n    var ret = p.data;\n    n -= ret.length;\n    while (p = p.next) {\n      const str = p.data;\n      const nb = n > str.length ? str.length : n;\n      if (nb === str.length) ret += str;else ret += str.slice(0, n);\n      n -= nb;\n      if (n === 0) {\n        if (nb === str.length) {\n          ++c;\n          if (p.next) this.head = p.next;else this.head = this.tail = null;\n        } else {\n          this.head = p;\n          p.data = str.slice(nb);\n        }\n        break;\n      }\n      ++c;\n    }\n    this.length -= c;\n    return ret;\n  }\n\n  // Consumes a specified amount of bytes from the buffered data.\n  _getBuffer(n) {\n    const ret = Buffer.allocUnsafe(n);\n    var p = this.head;\n    var c = 1;\n    p.data.copy(ret);\n    n -= p.data.length;\n    while (p = p.next) {\n      const buf = p.data;\n      const nb = n > buf.length ? buf.length : n;\n      buf.copy(ret, ret.length - n, 0, nb);\n      n -= nb;\n      if (n === 0) {\n        if (nb === buf.length) {\n          ++c;\n          if (p.next) this.head = p.next;else this.head = this.tail = null;\n        } else {\n          this.head = p;\n          p.data = buf.slice(nb);\n        }\n        break;\n      }\n      ++c;\n    }\n    this.length -= c;\n    return ret;\n  }\n\n  // Make sure the linked list only shows the minimal necessary information.\n  [custom](_, options) {\n    return inspect(this, _objectSpread(_objectSpread({}, options), {}, {\n      // Only inspect one level.\n      depth: 0,\n      // It should not recurse.\n      customInspect: false\n    }));\n  }\n};","'use strict';\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  const readableDestroyed = this._readableState && this._readableState.destroyed;\n  const writableDestroyed = this._writableState && this._writableState.destroyed;\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorNT, this, err);\n      }\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n  this._destroy(err || null, err => {\n    if (!cb && err) {\n      if (!this._writableState) {\n        process.nextTick(emitErrorAndCloseNT, this, err);\n      } else if (!this._writableState.errorEmitted) {\n        this._writableState.errorEmitted = true;\n        process.nextTick(emitErrorAndCloseNT, this, err);\n      } else {\n        process.nextTick(emitCloseNT, this);\n      }\n    } else if (cb) {\n      process.nextTick(emitCloseNT, this);\n      cb(err);\n    } else {\n      process.nextTick(emitCloseNT, this);\n    }\n  });\n  return this;\n}\nfunction emitErrorAndCloseNT(self, err) {\n  emitErrorNT(self, err);\n  emitCloseNT(self);\n}\nfunction emitCloseNT(self) {\n  if (self._writableState && !self._writableState.emitClose) return;\n  if (self._readableState && !self._readableState.emitClose) return;\n  self.emit('close');\n}\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finalCalled = false;\n    this._writableState.prefinished = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\nfunction errorOrDestroy(stream, err) {\n  // We have tests that rely on errors being emitted\n  // in the same tick, so changing this is semver major.\n  // For now when you opt-in to autoDestroy we allow\n  // the error to be emitted nextTick. In a future\n  // semver major update we should change the default to this.\n\n  const rState = stream._readableState;\n  const wState = stream._writableState;\n  if (rState && rState.autoDestroy || wState && wState.autoDestroy) stream.destroy(err);else stream.emit('error', err);\n}\nmodule.exports = {\n  destroy,\n  undestroy,\n  errorOrDestroy\n};","'use strict';\n\nconst ERR_INVALID_OPT_VALUE = require('../../../errors').codes.ERR_INVALID_OPT_VALUE;\nfunction highWaterMarkFrom(options, isDuplex, duplexKey) {\n  return options.highWaterMark != null ? options.highWaterMark : isDuplex ? options[duplexKey] : null;\n}\nfunction getHighWaterMark(state, options, duplexKey, isDuplex) {\n  const hwm = highWaterMarkFrom(options, isDuplex, duplexKey);\n  if (hwm != null) {\n    if (!(isFinite(hwm) && Math.floor(hwm) === hwm) || hwm < 0) {\n      const name = isDuplex ? duplexKey : 'highWaterMark';\n      throw new ERR_INVALID_OPT_VALUE(name, hwm);\n    }\n    return Math.floor(hwm);\n  }\n\n  // Default value\n  return state.objectMode ? 16 : 16 * 1024;\n}\nmodule.exports = {\n  getHighWaterMark\n};","'use strict';\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar codes = {};\n\nfunction createErrorType(code, message, Base) {\n  if (!Base) {\n    Base = Error;\n  }\n\n  function getMessage(arg1, arg2, arg3) {\n    if (typeof message === 'string') {\n      return message;\n    } else {\n      return message(arg1, arg2, arg3);\n    }\n  }\n\n  var NodeError =\n  /*#__PURE__*/\n  function (_Base) {\n    _inheritsLoose(NodeError, _Base);\n\n    function NodeError(arg1, arg2, arg3) {\n      return _Base.call(this, getMessage(arg1, arg2, arg3)) || this;\n    }\n\n    return NodeError;\n  }(Base);\n\n  NodeError.prototype.name = Base.name;\n  NodeError.prototype.code = code;\n  codes[code] = NodeError;\n} // https://github.com/nodejs/node/blob/v10.8.0/lib/internal/errors.js\n\n\nfunction oneOf(expected, thing) {\n  if (Array.isArray(expected)) {\n    var len = expected.length;\n    expected = expected.map(function (i) {\n      return String(i);\n    });\n\n    if (len > 2) {\n      return \"one of \".concat(thing, \" \").concat(expected.slice(0, len - 1).join(', '), \", or \") + expected[len - 1];\n    } else if (len === 2) {\n      return \"one of \".concat(thing, \" \").concat(expected[0], \" or \").concat(expected[1]);\n    } else {\n      return \"of \".concat(thing, \" \").concat(expected[0]);\n    }\n  } else {\n    return \"of \".concat(thing, \" \").concat(String(expected));\n  }\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/startsWith\n\n\nfunction startsWith(str, search, pos) {\n  return str.substr(!pos || pos < 0 ? 0 : +pos, search.length) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/endsWith\n\n\nfunction endsWith(str, search, this_len) {\n  if (this_len === undefined || this_len > str.length) {\n    this_len = str.length;\n  }\n\n  return str.substring(this_len - search.length, this_len) === search;\n} // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/includes\n\n\nfunction includes(str, search, start) {\n  if (typeof start !== 'number') {\n    start = 0;\n  }\n\n  if (start + search.length > str.length) {\n    return false;\n  } else {\n    return str.indexOf(search, start) !== -1;\n  }\n}\n\ncreateErrorType('ERR_INVALID_OPT_VALUE', function (name, value) {\n  return 'The value \"' + value + '\" is invalid for option \"' + name + '\"';\n}, TypeError);\ncreateErrorType('ERR_INVALID_ARG_TYPE', function (name, expected, actual) {\n  // determiner: 'must be' or 'must not be'\n  var determiner;\n\n  if (typeof expected === 'string' && startsWith(expected, 'not ')) {\n    determiner = 'must not be';\n    expected = expected.replace(/^not /, '');\n  } else {\n    determiner = 'must be';\n  }\n\n  var msg;\n\n  if (endsWith(name, ' argument')) {\n    // For cases like 'first argument'\n    msg = \"The \".concat(name, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  } else {\n    var type = includes(name, '.') ? 'property' : 'argument';\n    msg = \"The \\\"\".concat(name, \"\\\" \").concat(type, \" \").concat(determiner, \" \").concat(oneOf(expected, 'type'));\n  }\n\n  msg += \". Received type \".concat(typeof actual);\n  return msg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_PUSH_AFTER_EOF', 'stream.push() after EOF');\ncreateErrorType('ERR_METHOD_NOT_IMPLEMENTED', function (name) {\n  return 'The ' + name + ' method is not implemented';\n});\ncreateErrorType('ERR_STREAM_PREMATURE_CLOSE', 'Premature close');\ncreateErrorType('ERR_STREAM_DESTROYED', function (name) {\n  return 'Cannot call ' + name + ' after a stream was destroyed';\n});\ncreateErrorType('ERR_MULTIPLE_CALLBACK', 'Callback called multiple times');\ncreateErrorType('ERR_STREAM_CANNOT_PIPE', 'Cannot pipe, not readable');\ncreateErrorType('ERR_STREAM_WRITE_AFTER_END', 'write after end');\ncreateErrorType('ERR_STREAM_NULL_VALUES', 'May not write null values to stream', TypeError);\ncreateErrorType('ERR_UNKNOWN_ENCODING', function (arg) {\n  return 'Unknown encoding: ' + arg;\n}, TypeError);\ncreateErrorType('ERR_STREAM_UNSHIFT_AFTER_END_EVENT', 'stream.unshift() after end event');\nmodule.exports.codes = codes;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\nconst Readable = require('./_stream_readable');\nconst Writable = require('./_stream_writable');\nrequire('inherits')(Duplex, Readable);\n{\n  // Allow the keys array to be GC'ed.\n  const keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    const method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get() {\n    return this._writableState.length;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // If the writable side ended, then we're ok.\n  if (this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(onEndNT, this);\n}\nfunction onEndNT(self) {\n  self.end();\n}\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  this.next = null;\n  this.entry = null;\n  this.finish = () => {\n    onCorkedFinish(this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nconst internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\nconst Buffer = require('buffer').Buffer;\nconst OurUint8Array = (typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}).Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\nconst destroyImpl = require('./internal/streams/destroy');\nconst _require = require('./internal/streams/state'),\n  getHighWaterMark = _require.getHighWaterMark;\nconst _require$codes = require('../errors').codes,\n  ERR_INVALID_ARG_TYPE = _require$codes.ERR_INVALID_ARG_TYPE,\n  ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n  ERR_STREAM_CANNOT_PIPE = _require$codes.ERR_STREAM_CANNOT_PIPE,\n  ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED,\n  ERR_STREAM_NULL_VALUES = _require$codes.ERR_STREAM_NULL_VALUES,\n  ERR_STREAM_WRITE_AFTER_END = _require$codes.ERR_STREAM_WRITE_AFTER_END,\n  ERR_UNKNOWN_ENCODING = _require$codes.ERR_UNKNOWN_ENCODING;\nconst errorOrDestroy = destroyImpl.errorOrDestroy;\nrequire('inherits')(Writable, Stream);\nfunction nop() {}\nfunction WritableState(options, stream, isDuplex) {\n  Duplex = Duplex || require('./_stream_duplex');\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream,\n  // e.g. options.readableObjectMode vs. options.writableObjectMode, etc.\n  if (typeof isDuplex !== 'boolean') isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  this.highWaterMark = getHighWaterMark(this, options, 'writableHighWaterMark', isDuplex);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // Should close be emitted on destroy. Defaults to true.\n  this.emitClose = options.emitClose !== false;\n\n  // Should .destroy() be called after 'finish' (and potentially 'end')\n  this.autoDestroy = !!options.autoDestroy;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function writableStateBufferGetter() {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function value(object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function realHasInstance(object) {\n    return object instanceof this;\n  };\n}\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n\n  // Checking for a Stream.Duplex instance is faster here instead of inside\n  // the WritableState constructor, at least with V8 6.5\n  const isDuplex = this instanceof Duplex;\n  if (!isDuplex && !realHasInstance.call(Writable, this)) return new Writable(options);\n  this._writableState = new WritableState(options, this, isDuplex);\n\n  // legacy.\n  this.writable = true;\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n    if (typeof options.writev === 'function') this._writev = options.writev;\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  errorOrDestroy(this, new ERR_STREAM_CANNOT_PIPE());\n};\nfunction writeAfterEnd(stream, cb) {\n  var er = new ERR_STREAM_WRITE_AFTER_END();\n  // TODO: defer error events consistently everywhere, not just the cb\n  errorOrDestroy(stream, er);\n  process.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var er;\n  if (chunk === null) {\n    er = new ERR_STREAM_NULL_VALUES();\n  } else if (typeof chunk !== 'string' && !state.objectMode) {\n    er = new ERR_INVALID_ARG_TYPE('chunk', ['string', 'Buffer'], chunk);\n  }\n  if (er) {\n    errorOrDestroy(stream, er);\n    process.nextTick(cb, er);\n    return false;\n  }\n  return true;\n}\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n  if (typeof cb !== 'function') cb = nop;\n  if (state.ending) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n  return ret;\n};\nWritable.prototype.cork = function () {\n  this._writableState.corked++;\n};\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n  if (state.corked) {\n    state.corked--;\n    if (!state.writing && !state.corked && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new ERR_UNKNOWN_ENCODING(encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\nObject.defineProperty(Writable.prototype, 'writableBuffer', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n  state.length += len;\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk,\n      encoding,\n      isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n  return ret;\n}\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (state.destroyed) state.onwrite(new ERR_STREAM_DESTROYED('write'));else if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    process.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    process.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    errorOrDestroy(stream, er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n  if (typeof cb !== 'function') throw new ERR_MULTIPLE_CALLBACK();\n  onwriteStateUpdate(state);\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state) || stream.destroyed;\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n    if (sync) {\n      process.nextTick(afterWrite, stream, state, finished, cb);\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_write()'));\n};\nWritable.prototype._writev = null;\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending) endWritable(this, state, cb);\n  return this;\n};\nObject.defineProperty(Writable.prototype, 'writableLength', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get() {\n    return this._writableState.length;\n  }\n});\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(err => {\n    state.pendingcb--;\n    if (err) {\n      errorOrDestroy(stream, err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function' && !state.destroyed) {\n      state.pendingcb++;\n      state.finalCalled = true;\n      process.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n      if (state.autoDestroy) {\n        // In case of duplex streams we need a way to detect\n        // if the readable side is ready for autoDestroy as well\n        const rState = stream._readableState;\n        if (!rState || rState.autoDestroy && rState.endEmitted) {\n          stream.destroy();\n        }\n      }\n    }\n  }\n  return need;\n}\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) process.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n\n  // reuse the free corkReq.\n  state.corkedRequestsFree.next = corkReq;\n}\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get() {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set(value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  cb(err);\n};","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\n/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","'use strict';\n\nconst finished = require('./end-of-stream');\nconst kLastResolve = Symbol('lastResolve');\nconst kLastReject = Symbol('lastReject');\nconst kError = Symbol('error');\nconst kEnded = Symbol('ended');\nconst kLastPromise = Symbol('lastPromise');\nconst kHandlePromise = Symbol('handlePromise');\nconst kStream = Symbol('stream');\nfunction createIterResult(value, done) {\n  return {\n    value,\n    done\n  };\n}\nfunction readAndResolve(iter) {\n  const resolve = iter[kLastResolve];\n  if (resolve !== null) {\n    const data = iter[kStream].read();\n    // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\nfunction wrapForNext(lastPromise, iter) {\n  return (resolve, reject) => {\n    lastPromise.then(() => {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\nconst AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nconst ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf({\n  get stream() {\n    return this[kStream];\n  },\n  next() {\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    const error = this[kError];\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise((resolve, reject) => {\n        process.nextTick(() => {\n          if (this[kError]) {\n            reject(this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    }\n\n    // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n    const lastPromise = this[kLastPromise];\n    let promise;\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      const data = this[kStream].read();\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n      promise = new Promise(this[kHandlePromise]);\n    }\n    this[kLastPromise] = promise;\n    return promise;\n  },\n  [Symbol.asyncIterator]() {\n    return this;\n  },\n  return() {\n    // destroy(err, cb) is a private API\n    // we can guarantee we have that here, because we control the\n    // Readable class this is attached to\n    return new Promise((resolve, reject) => {\n      this[kStream].destroy(null, err => {\n        if (err) {\n          reject(err);\n          return;\n        }\n        resolve(createIterResult(undefined, true));\n      });\n    });\n  }\n}, AsyncIteratorPrototype);\nconst createReadableStreamAsyncIterator = stream => {\n  const iterator = Object.create(ReadableStreamAsyncIteratorPrototype, {\n    [kStream]: {\n      value: stream,\n      writable: true\n    },\n    [kLastResolve]: {\n      value: null,\n      writable: true\n    },\n    [kLastReject]: {\n      value: null,\n      writable: true\n    },\n    [kError]: {\n      value: null,\n      writable: true\n    },\n    [kEnded]: {\n      value: stream._readableState.endEmitted,\n      writable: true\n    },\n    // the function passed to new Promise\n    // is cached so we avoid allocating a new\n    // closure at every run\n    [kHandlePromise]: {\n      value: (resolve, reject) => {\n        const data = iterator[kStream].read();\n        if (data) {\n          iterator[kLastPromise] = null;\n          iterator[kLastResolve] = null;\n          iterator[kLastReject] = null;\n          resolve(createIterResult(data, false));\n        } else {\n          iterator[kLastResolve] = resolve;\n          iterator[kLastReject] = reject;\n        }\n      },\n      writable: true\n    }\n  });\n  iterator[kLastPromise] = null;\n  finished(stream, err => {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      const reject = iterator[kLastReject];\n      // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n      iterator[kError] = err;\n      return;\n    }\n    const resolve = iterator[kLastResolve];\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\nmodule.exports = createReadableStreamAsyncIterator;","// Ported from https://github.com/mafintosh/end-of-stream with\n// permission from the author, Mathias Buus (@mafintosh).\n\n'use strict';\n\nconst ERR_STREAM_PREMATURE_CLOSE = require('../../../errors').codes.ERR_STREAM_PREMATURE_CLOSE;\nfunction once(callback) {\n  let called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    callback.apply(this, args);\n  };\n}\nfunction noop() {}\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\nfunction eos(stream, opts, callback) {\n  if (typeof opts === 'function') return eos(stream, null, opts);\n  if (!opts) opts = {};\n  callback = once(callback || noop);\n  let readable = opts.readable || opts.readable !== false && stream.readable;\n  let writable = opts.writable || opts.writable !== false && stream.writable;\n  const onlegacyfinish = () => {\n    if (!stream.writable) onfinish();\n  };\n  var writableEnded = stream._writableState && stream._writableState.finished;\n  const onfinish = () => {\n    writable = false;\n    writableEnded = true;\n    if (!readable) callback.call(stream);\n  };\n  var readableEnded = stream._readableState && stream._readableState.endEmitted;\n  const onend = () => {\n    readable = false;\n    readableEnded = true;\n    if (!writable) callback.call(stream);\n  };\n  const onerror = err => {\n    callback.call(stream, err);\n  };\n  const onclose = () => {\n    let err;\n    if (readable && !readableEnded) {\n      if (!stream._readableState || !stream._readableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n    if (writable && !writableEnded) {\n      if (!stream._writableState || !stream._writableState.ended) err = new ERR_STREAM_PREMATURE_CLOSE();\n      return callback.call(stream, err);\n    }\n  };\n  const onrequest = () => {\n    stream.req.on('finish', onfinish);\n  };\n  if (isRequest(stream)) {\n    stream.on('complete', onfinish);\n    stream.on('abort', onclose);\n    if (stream.req) onrequest();else stream.on('request', onrequest);\n  } else if (writable && !stream._writableState) {\n    // legacy streams\n    stream.on('end', onlegacyfinish);\n    stream.on('close', onlegacyfinish);\n  }\n  stream.on('end', onend);\n  stream.on('finish', onfinish);\n  if (opts.error !== false) stream.on('error', onerror);\n  stream.on('close', onclose);\n  return function () {\n    stream.removeListener('complete', onfinish);\n    stream.removeListener('abort', onclose);\n    stream.removeListener('request', onrequest);\n    if (stream.req) stream.req.removeListener('finish', onfinish);\n    stream.removeListener('end', onlegacyfinish);\n    stream.removeListener('close', onlegacyfinish);\n    stream.removeListener('finish', onfinish);\n    stream.removeListener('end', onend);\n    stream.removeListener('error', onerror);\n    stream.removeListener('close', onclose);\n  };\n}\nmodule.exports = eos;","module.exports = function () {\n  throw new Error('Readable.from is not available in the browser')\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\nconst _require$codes = require('../errors').codes,\n  ERR_METHOD_NOT_IMPLEMENTED = _require$codes.ERR_METHOD_NOT_IMPLEMENTED,\n  ERR_MULTIPLE_CALLBACK = _require$codes.ERR_MULTIPLE_CALLBACK,\n  ERR_TRANSFORM_ALREADY_TRANSFORMING = _require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,\n  ERR_TRANSFORM_WITH_LENGTH_0 = _require$codes.ERR_TRANSFORM_WITH_LENGTH_0;\nconst Duplex = require('./_stream_duplex');\nrequire('inherits')(Transform, Duplex);\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n  var cb = ts.writecb;\n  if (cb === null) {\n    return this.emit('error', new ERR_MULTIPLE_CALLBACK());\n  }\n  ts.writechunk = null;\n  ts.writecb = null;\n  if (data != null)\n    // single equals check for both `null` and `undefined`\n    this.push(data);\n  cb(er);\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n  Duplex.call(this, options);\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\nfunction prefinish() {\n  if (typeof this._flush === 'function' && !this._readableState.destroyed) {\n    this._flush((er, data) => {\n      done(this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  cb(new ERR_METHOD_NOT_IMPLEMENTED('_transform()'));\n};\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n  if (ts.writechunk !== null && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\nTransform.prototype._destroy = function (err, cb) {\n  Duplex.prototype._destroy.call(this, err, err2 => {\n    cb(err2);\n  });\n};\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n  if (data != null)\n    // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // TODO(BridgeAR): Write a test for these two error cases\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new ERR_TRANSFORM_WITH_LENGTH_0();\n  if (stream._transformState.transforming) throw new ERR_TRANSFORM_ALREADY_TRANSFORMING();\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\nconst Transform = require('./_stream_transform');\nrequire('inherits')(PassThrough, Transform);\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n  Transform.call(this, options);\n}\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Ported from https://github.com/mafintosh/pump with\n// permission from the author, Mathias Buus (@mafintosh).\n\n'use strict';\n\nlet eos;\nfunction once(callback) {\n  let called = false;\n  return function () {\n    if (called) return;\n    called = true;\n    callback(...arguments);\n  };\n}\nconst _require$codes = require('../../../errors').codes,\n  ERR_MISSING_ARGS = _require$codes.ERR_MISSING_ARGS,\n  ERR_STREAM_DESTROYED = _require$codes.ERR_STREAM_DESTROYED;\nfunction noop(err) {\n  // Rethrow the error if it exists to avoid swallowing it\n  if (err) throw err;\n}\nfunction isRequest(stream) {\n  return stream.setHeader && typeof stream.abort === 'function';\n}\nfunction destroyer(stream, reading, writing, callback) {\n  callback = once(callback);\n  let closed = false;\n  stream.on('close', () => {\n    closed = true;\n  });\n  if (eos === undefined) eos = require('./end-of-stream');\n  eos(stream, {\n    readable: reading,\n    writable: writing\n  }, err => {\n    if (err) return callback(err);\n    closed = true;\n    callback();\n  });\n  let destroyed = false;\n  return err => {\n    if (closed) return;\n    if (destroyed) return;\n    destroyed = true;\n\n    // request.destroy just do .end - .abort is what we want\n    if (isRequest(stream)) return stream.abort();\n    if (typeof stream.destroy === 'function') return stream.destroy();\n    callback(err || new ERR_STREAM_DESTROYED('pipe'));\n  };\n}\nfunction call(fn) {\n  fn();\n}\nfunction pipe(from, to) {\n  return from.pipe(to);\n}\nfunction popCallback(streams) {\n  if (!streams.length) return noop;\n  if (typeof streams[streams.length - 1] !== 'function') return noop;\n  return streams.pop();\n}\nfunction pipeline() {\n  for (var _len = arguments.length, streams = new Array(_len), _key = 0; _key < _len; _key++) {\n    streams[_key] = arguments[_key];\n  }\n  const callback = popCallback(streams);\n  if (Array.isArray(streams[0])) streams = streams[0];\n  if (streams.length < 2) {\n    throw new ERR_MISSING_ARGS('streams');\n  }\n  let error;\n  const destroys = streams.map(function (stream, i) {\n    const reading = i < streams.length - 1;\n    const writing = i > 0;\n    return destroyer(stream, reading, writing, function (err) {\n      if (!error) error = err;\n      if (err) destroys.forEach(call);\n      if (reading) return;\n      destroys.forEach(call);\n      callback(error);\n    });\n  });\n  return streams.reduce(pipe);\n}\nmodule.exports = pipeline;","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n  exports.parseNumbers = function(str) {\n    if (!isNaN(str)) {\n      str = str % 1 === 0 ? parseInt(str, 10) : parseFloat(str);\n    }\n    return str;\n  };\n\n  exports.parseBooleans = function(str) {\n    if (/^(?:true|false)$/i.test(str)) {\n      str = str.toLowerCase() === 'true';\n    }\n    return str;\n  };\n\n}).call(this);\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","export const DOCUMENT_TITLE_ROOT = \"cooper reiff\";\n\nexport const PHOTO_SIZE_PREFIXES = {\n  SMALL: \"sm\",\n  MEDIUM: \"md\",\n  LARGE: \"lg\",\n};\n\nexport const SITE_BASE_URL = \"https://cooperreiff.com/\";\nexport const PIXIJS_URL = `${SITE_BASE_URL}pixijs_runner`;\nexport const BABYLONJS_URL = `${SITE_BASE_URL}babylonjs_runner`;\nexport const BEVERAGE_URL = `${SITE_BASE_URL}beverage`;\n\nexport const RESUME_URL = \"https://cooperreiff.com/resume/resume.pdf#toolbar=0\";\nexport const GITHUB_URL = \"https://github.com/cxreiff\";\nexport const GITHUB_SITE_PROJECT_URL =\n  \"https://github.com/cxreiff/cxreiff.github.io\";\n\nexport const OBJECT_STORE_ASSETS_URL =\n  \"https://cxreiff.sfo3.cdn.digitaloceanspaces.com/\";\n\nexport const IMAGE_URLS = {\n  ABOUT_ME: `${OBJECT_STORE_ASSETS_URL}assets/aboutme.png`,\n};\nexport const SPRITESHEET_URLS = {\n  SHARED: `${OBJECT_STORE_ASSETS_URL}spritesheets/shared.json`,\n  ASTEROIDS: `${OBJECT_STORE_ASSETS_URL}spritesheets/asteroids.json`,\n};\nexport const SOUND_URLS = {\n  BLIP: `${OBJECT_STORE_ASSETS_URL}sounds/blip.wav`,\n  BLEP: `${OBJECT_STORE_ASSETS_URL}sounds/blep.wav`,\n  BLUP: `${OBJECT_STORE_ASSETS_URL}sounds/blup.wav`,\n};\n","import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nconst LOCAL_STORAGE_KEY = \"theme\";\n\nexport enum Theme {\n  LIGHTMODE = \"lightmode\",\n  GREENISH = \"greenish\",\n  BLUISH = \"bluish\",\n  DARKMODE = \"darkmode\",\n}\n\ntype ThemeState = {\n  theme: Theme;\n  transitioning: boolean;\n};\n\nconst initialState: ThemeState = {\n  theme: Theme.LIGHTMODE,\n  transitioning: false,\n};\n\ndocument.documentElement.classList.add(`theme--${Theme.LIGHTMODE}`);\nconst localStorageState = localStorage.getItem(LOCAL_STORAGE_KEY);\nfor (const theme of Object.values(Theme)) {\n  if (theme === localStorageState) {\n    initialState.theme = theme;\n    document.documentElement.classList.remove(`theme--${Theme.LIGHTMODE}`);\n    document.documentElement.classList.add(`theme--${theme}`);\n  }\n}\n\nexport const setTheme = createAsyncThunk(\n  \"theme/setTheme\",\n  async (theme: Theme) => {\n    await new Promise((resolve) => setTimeout(resolve, 200));\n  }\n);\n\nconst themeSlice = createSlice({\n  name: \"theme\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder.addCase(setTheme.pending, (state, action) => {\n      document.documentElement.classList.remove(`theme--${state.theme}`);\n      document.documentElement.classList.add(`theme--${action.meta.arg}`);\n      document.documentElement.classList.add(\"theme--transition\");\n      state.theme = action.meta.arg;\n      localStorage.setItem(LOCAL_STORAGE_KEY, action.meta.arg);\n      state.transitioning = true;\n    });\n    builder.addCase(setTheme.fulfilled, (state) => {\n      document.documentElement.classList.remove(\"theme--transition\");\n      state.transitioning = false;\n    });\n  },\n});\n\nexport default themeSlice.reducer;\n","import { FC, ReactNode, CSSProperties } from \"react\";\nimport cn from \"classnames\";\n\ntype FrameProps = {\n  aspect: number;\n  loading?: boolean;\n  className?: string;\n  style?: CSSProperties;\n  children: ReactNode;\n};\n\nimport styles from \"./frame.module.scss\";\n\nexport const Frame: FC<FrameProps> = ({\n  aspect,\n  loading = false,\n  className,\n  style,\n  children,\n}) => (\n  <div\n    className={cn(styles.frame, className, { [styles.hidden]: loading })}\n    style={style}\n  >\n    {children}\n    <svg viewBox={`0 0 ${aspect} 1`} />\n  </div>\n);\n","@use \"../../shared.scss\" as *;\n\n.frame {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n\n  & > svg:last-child {\n    position: relative;\n    z-index: -1;\n  }\n\n  & > *:first-child {\n    max-width: 100%;\n    max-height: 100%;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: auto;\n  }\n\n  &.hidden > *:first-child {\n    display: none;\n  }\n\n  &:not(.hidden) > *:first-child {\n    :global {\n      animation: fadein ease-in 0.3s;\n    }\n  }\n}\n","import { FC, ReactElement } from \"react\";\nimport cn from \"classnames\";\n\nimport { Image } from \"~/src/common/image/image.component\";\nimport styles from \"./card.module.scss\";\n\ntype CardProps = {\n  image?: string;\n  primary?: string;\n  secondary?: string | ReactElement;\n  tertiary?: string | ReactElement;\n  onClick?: () => void;\n};\n\nexport const Card: FC<CardProps> = ({\n  image,\n  primary,\n  secondary,\n  tertiary,\n  onClick,\n}) => (\n  <article\n    className={cn(styles.card, { [styles.card_clickable]: onClick })}\n    onClick={onClick}\n  >\n    {image && (\n      <div>\n        <Image source={image} aspect={800 / 500} />\n      </div>\n    )}\n    {primary && (\n      <header>\n        <h4>{primary}</h4>\n      </header>\n    )}\n    {secondary && <footer>{secondary}</footer>}\n    {tertiary && <p>{tertiary}</p>}\n  </article>\n);\n","import { FC, useState } from \"react\";\n\ntype ImageProps = {\n  aspect: number;\n  source: string;\n  alt?: string;\n  className?: string;\n};\n\nimport { Frame } from \"~/src/common/frame/frame.component\";\n\nexport const Image: FC<ImageProps> = ({ aspect, source, alt, className }) => {\n  const [loading, setLoading] = useState(true);\n\n  return (\n    <Frame aspect={aspect} loading={loading} className={className}>\n      <img src={source} onLoad={() => setLoading(false)} alt={alt} />\n    </Frame>\n  );\n};\n","@use \"../../shared.scss\" as *;\n@use \"../../themed.scss\" as *;\n\n.card {\n  position: relative;\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 1rem;\n\n  @include card($color-lighter, false, true);\n  @include text_spacing();\n\n  div {\n    width: 100%;\n  }\n\n  header {\n    flex: 1 0;\n    font-size: 1.2rem;\n    padding-left: 0.5rem;\n\n    h4 {\n      margin: 0.5rem 0;\n    }\n  }\n\n  footer {\n    flex: 0 0 auto;\n    font-size: 0.9rem;\n    padding: 0.7rem;\n  }\n\n  p {\n    flex: 0 0 100%;\n    font-size: 0.9rem;\n    margin-top: 0;\n    padding: 1rem 0 0 0.5rem;\n  }\n}\n\n.card_clickable {\n  @include interactive(\n    0.25rem,\n    $roundness,\n    $color-dark,\n    $color-darker,\n    $color-dark,\n    $color-darker\n  );\n}\n","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"gRZJH\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"8NNpg\"))]).then(() => parcelRequire('lHPD0'));","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"6d9WP\")), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"gRZJH\")), require(\"./helpers/browser/css-loader\")(new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cxaWv\")).toString()), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"hPRDo\"))]).then(() => parcelRequire('bCSQh'));","\"use strict\";\n\nvar cacheLoader = require('../cacheLoader');\n\nmodule.exports = cacheLoader(function (bundle) {\n  return new Promise(function (resolve, reject) {\n    // Don't insert the same link element twice (e.g. if it was already in the HTML)\n    var existingLinks = document.getElementsByTagName('link');\n\n    if ([].concat(existingLinks).some(function isCurrentBundle(link) {\n      return link.href === bundle && link.rel.indexOf('stylesheet') > -1;\n    })) {\n      resolve();\n      return;\n    }\n\n    var link = document.createElement('link');\n    link.rel = 'stylesheet';\n    link.href = bundle;\n\n    link.onerror = function (e) {\n      link.onerror = link.onload = null;\n      link.remove();\n      reject(e);\n    };\n\n    link.onload = function () {\n      link.onerror = link.onload = null;\n      resolve();\n    };\n\n    document.getElementsByTagName('head')[0].appendChild(link);\n  });\n});","\"use strict\";\n\nvar cachedBundles = {};\nvar cachedPreloads = {};\nvar cachedPrefetches = {};\n\nfunction getCache(type) {\n  switch (type) {\n    case 'preload':\n      return cachedPreloads;\n\n    case 'prefetch':\n      return cachedPrefetches;\n\n    default:\n      return cachedBundles;\n  }\n}\n\nmodule.exports = function (loader, type) {\n  return function (bundle) {\n    var cache = getCache(type);\n\n    if (cache[bundle]) {\n      return cache[bundle];\n    }\n\n    return cache[bundle] = loader.apply(null, arguments).catch(function (e) {\n      delete cache[bundle];\n      throw e;\n    });\n  };\n};","module.exports = Promise.all([__parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"6d9WP\")), require(\"./helpers/browser/css-loader\")(new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cQXf6\")).toString()), __parcel__import__(\"./\" + require('./helpers/bundle-manifest').resolve(\"80lCZ\"))]).then(() => parcelRequire('5k5Lt'));","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"h00hi\\\":\\\"index.00e0a25b.js\\\",\\\"4mP9B\\\":\\\"teapot.7203377c.svg\\\",\\\"cgcCw\\\":\\\"pixijs.5df9cef0.svg\\\",\\\"gKLP7\\\":\\\"babylonjs.dd379c43.svg\\\",\\\"dPMXH\\\":\\\"bevy.4ba944d5.svg\\\",\\\"8NNpg\\\":\\\"posts.component.0ad66feb.js\\\",\\\"gRZJH\\\":\\\"posts.component.792a68c4.js\\\",\\\"hPRDo\\\":\\\"postsContent.component.03748c57.js\\\",\\\"cxaWv\\\":\\\"postsContent.component.00544525.css\\\",\\\"6d9WP\\\":\\\"postsContent.component.e518346f.js\\\",\\\"80lCZ\\\":\\\"shaders.component.204f6fa7.js\\\",\\\"cQXf6\\\":\\\"shaders.component.d139fcdf.css\\\",\\\"anilC\\\":\\\"index.4410873c.css\\\"}\"));","if (process.env.NODE_ENV === \"development\") {\n  require(\"preact/debug\");\n}\n\nimport \"normalize.css\";\n\nimport { render } from \"preact\";\n\nimport App from \"~/src/app/app\";\n\nimport \"./index.scss\";\n\nrender(<App />, document.getElementById(\"root\")!);\n","import { FC } from \"react\";\nimport { Provider } from \"react-redux\";\nimport { HashRouter } from \"react-router-dom\";\n\nimport { Layout } from \"~/src/features/layout/layout.component\";\nimport store from \"./store\";\nimport { Filters } from \"./filters\";\nimport { Routing, ROUTES } from \"./routing\";\n\nconst App: FC = () => {\n  return (\n    <Provider store={store}>\n      <HashRouter>\n        <Layout routes={ROUTES}>\n          <Routing />\n        </Layout>\n        <Filters />\n      </HashRouter>\n    </Provider>\n  );\n};\n\nexport default App;\n","import { FC, ReactNode, useState, useLayoutEffect } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { Menu } from \"lucide-preact\";\nimport cn from \"classnames\";\n\nimport { RouteDefinition } from \"~/src/app/routing\";\nimport { IconButton } from \"~/src/common/iconButton/iconButton.component\";\nimport { ThemeToggle } from \"~/src/features/theme/themeToggle.component\";\n\nimport styles from \"./layout.module.scss\";\n\ntype LayoutProps = {\n  routes: RouteDefinition[];\n  children?: ReactNode;\n};\n\nexport const Layout: FC<LayoutProps> = ({ children, routes }) => {\n  const pathname = useLocation().pathname;\n  const navigate = useNavigate();\n  const [expanded, setExpanded] = useState(false);\n\n  useLayoutEffect(() => setExpanded(false), [pathname]);\n\n  const comparePaths = (path: string, pathname: string) =>\n    path === pathname.split(\"/\")[1];\n\n  return (\n    <div className={styles.layout}>\n      <nav\n        aria-label={\"primary\"}\n        className={cn({ [styles.expanded]: expanded })}\n      >\n        <IconButton\n          aria-label={\"expand navigation\"}\n          className={styles.menu_button}\n          onClick={() => setExpanded(!expanded)}\n        >\n          <Menu />\n        </IconButton>\n        <ul>\n          <li aria-label={\"navigate to home\"} className={styles.logo}>\n            <a onClick={() => navigate(\"\")}>cooper reiff</a>\n          </li>\n          {routes\n            .filter(({ path }) => path)\n            .map(({ path }) => (\n              <li\n                key={path}\n                aria-label={`navigate to ${path}`}\n                className={cn(styles.navlink, {\n                  [styles.current]: comparePaths(path, pathname),\n                })}\n              >\n                <a onClick={() => navigate(path)}>{path}</a>\n              </li>\n            ))}\n        </ul>\n        <ThemeToggle />\n      </nav>\n      <main>{children}</main>\n    </div>\n  );\n};\n","export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  'stroke-width': '2',\n  'stroke-linecap': 'round',\n  'stroke-linejoin': 'round',\n};\n","import { ComponentType, FunctionComponent, h, JSX, RefObject, toChildArray } from 'preact';\nimport defaultAttributes from './defaultAttributes';\n\ntype IconNode = [elementName: keyof JSX.IntrinsicElements, attrs: Record<string, string>][]\n\ninterface LucideProps extends Partial<Omit<JSX.SVGAttributes, \"ref\" | \"size\">> {\n  color?: string\n  size?: string | number\n  strokeWidth?: string | number\n}\n\n/**\n * Converts string to KebabCase\n * Copied from scripts/helper. If anyone knows how to properly import it here\n * then please fix it.\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) => string.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n\nconst createLucideIcon = (iconName: string, iconNode: IconNode): FunctionComponent<LucideProps> => {\n  const Component = (\n    { color = 'currentColor', size = 24, strokeWidth = 2, children, ...rest }: LucideProps\n  ) =>\n    h(\n      'svg' as unknown as ComponentType<Partial<JSX.SVGAttributes<SVGElement> & { 'stroke-width': number | string }>>,\n      {\n        ...defaultAttributes,\n        width:  String(size),\n        height: size,\n        stroke: color,\n        ['stroke-width' as 'strokeWidth']: strokeWidth,\n        class: `lucide lucide-${toKebabCase(iconName)}`,\n        ...rest,\n      },\n      [...iconNode.map(([tag, attrs]) => h(tag, attrs)), ...toChildArray(children)],\n    );\n\n  Component.displayName = `${iconName}`;\n\n  return Component;\n};\n\nexport default createLucideIcon\n","import createLucideIcon from '../createLucideIcon';\n\nconst Menu = createLucideIcon('Menu', [\n  ['line', { x1: '4', y1: '12', x2: '20', y2: '12', key: '1q6rtp' }],\n  ['line', { x1: '4', y1: '6', x2: '20', y2: '6', key: '1jr6gt' }],\n  ['line', { x1: '4', y1: '18', x2: '20', y2: '18', key: '98tuvx' }],\n]);\n\nexport default Menu;\n","@use \"../../shared.scss\" as *;\n@use \"../../themed.scss\" as *;\n\n.icon_button {\n  height: $navbar-height;\n  width: $navbar-height;\n  border: none;\n  background-color: initial;\n  padding: 0;\n\n  @include interactive(\n    0.25rem,\n    $roundness,\n    $color-dark,\n    $color-darker,\n    $color-dark,\n    $color-darker\n  );\n\n  & > svg {\n    width: 60%;\n    height: 60%;\n    padding: 20%;\n    stroke-width: 3px;\n\n    @include themed(true) {\n      stroke: t($color-tertiary);\n    }\n  }\n}\n","import { FC, ReactElement, ComponentProps } from \"react\";\nimport cn from \"classnames\";\n\nimport styles from \"./iconButton.module.scss\";\n\ntype IconButtonProps = {\n  children: ReactElement;\n};\n\nexport const IconButton: FC<IconButtonProps & ComponentProps<\"button\">> = ({\n  children,\n  className,\n  ...buttonProps\n}) => (\n  <button className={cn(styles.icon_button, className)} {...buttonProps}>\n    {children}\n  </button>\n);\n","import { FC } from \"react\";\nimport { Moon, Sun } from \"lucide-preact\";\n\nimport { useAppSelector, useAppDispatch } from \"~/src/app/store\";\nimport { setTheme, Theme } from \"~/src/features/theme/theme.slice\";\nimport { IconButton } from \"~/src/common/iconButton/iconButton.component\";\n\nimport styles from \"./themeToggle.module.scss\";\n\ntype ThemeToggleProps = {\n  className?: string;\n};\n\nexport const ThemeToggle: FC<ThemeToggleProps> = ({ className }) => {\n  const dispatch = useAppDispatch();\n  const dispatchSetTheme = (theme: Theme) => void dispatch(setTheme(theme));\n  const theme = useAppSelector((state) => state.theme.theme);\n\n  return (\n    <IconButton\n      aria-label={\n        theme === Theme.DARKMODE\n          ? \"toggle dark mode off\"\n          : \"toggle dark mode on\"\n      }\n      className={styles.theme_toggle}\n      onClick={() =>\n        dispatchSetTheme(\n          theme === Theme.DARKMODE ? Theme.LIGHTMODE : Theme.DARKMODE\n        )\n      }\n    >\n      {theme === Theme.DARKMODE ? <Sun /> : <Moon />}\n    </IconButton>\n  );\n};\n","import createLucideIcon from '../createLucideIcon';\n\nconst Moon = createLucideIcon('Moon', [\n  ['path', { d: 'M12 3a6.364 6.364 0 0 0 9 9 9 9 0 1 1-9-9Z', key: '1rit1i' }],\n]);\n\nexport default Moon;\n","import createLucideIcon from '../createLucideIcon';\n\nconst Sun = createLucideIcon('Sun', [\n  ['circle', { cx: '12', cy: '12', r: '4', key: '4exip2' }],\n  ['path', { d: 'M12 2v2', key: 'tus03m' }],\n  ['path', { d: 'M12 20v2', key: '1lh1kg' }],\n  ['path', { d: 'm4.93 4.93 1.41 1.41', key: '149t6j' }],\n  ['path', { d: 'm17.66 17.66 1.41 1.41', key: 'ptbguv' }],\n  ['path', { d: 'M2 12h2', key: '1t8f8n' }],\n  ['path', { d: 'M20 12h2', key: '1q8mjw' }],\n  ['path', { d: 'm6.34 17.66-1.41 1.41', key: '1m8zz5' }],\n  ['path', { d: 'm19.07 4.93-1.41 1.41', key: '1shlcs' }],\n]);\n\nexport default Sun;\n","@use \"../../shared.scss\" as *;\n\n.theme_toggle {\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 1;\n\n  @include is_smaller_than($xs-breakpoint) {\n    display: none;\n  }\n}\n","@use \"../../shared.scss\" as *;\n@use \"../../themed.scss\" as *;\n\n.layout {\n  max-width: $md-breakpoint;\n  margin: auto;\n\n  & > main {\n    margin: 0 1rem 2rem;\n  }\n\n  & > nav {\n    position: relative;\n    margin: 2rem 1rem;\n    border-radius: $roundness;\n\n    @include card($color-primary, true);\n    overflow: visible;\n\n    ul {\n      position: relative;\n      z-index: 0;\n      display: flex;\n      flex-direction: column;\n      margin: 0;\n      padding: 0;\n      list-style: none;\n      min-height: $navbar-height;\n\n      @include is_larger_than($sm-breakpoint) {\n        flex-direction: row;\n        margin-right: calc($navbar-height + 0.1rem);\n      }\n    }\n\n    li {\n      height: $navbar-height;\n      width: 100%;\n\n      a {\n        position: relative;\n        display: inline-block;\n        text-align: center;\n        cursor: pointer;\n        text-decoration: none;\n        font-size: 1.2rem;\n        height: 100%;\n        width: 100%;\n        vertical-align: middle;\n        line-height: $navbar-height;\n\n        @include themed(true) {\n          color: t($color-darker);\n        }\n      }\n    }\n\n    li.logo {\n      z-index: 1;\n      flex: 1;\n      width: calc(100% - 5rem);\n      margin: 0 2.5rem 1.7rem 2.5rem;\n\n      @include is_larger_than($sm-breakpoint) {\n        width: 100%;\n        margin: 0;\n      }\n\n      a {\n        width: calc(100% - 2rem);\n        white-space: nowrap;\n        font-size: 2.2rem;\n        margin: 0 1rem;\n        padding: 1.125rem 0;\n        height: 0.5rem;\n        line-height: 0.25rem;\n\n        @include is_larger_than($sm-breakpoint) {\n          width: min-content;\n          padding: 1.125rem 0;\n\n          &:before {\n            content: \"{\";\n            padding-right: 0.75rem;\n          }\n          &:after {\n            content: \"}\";\n            padding-left: 0.75rem;\n          }\n          &:before,\n          &:after {\n            font-size: 1.6rem;\n            transform: translateY(-4px);\n            display: inline-block;\n            transition: transform 0.1s ease-out, text-shadow 0.1s ease-out;\n\n            @include themed(true) {\n              color: t($color-tertiary);\n            }\n          }\n          @media (hover: hover) {\n            &:hover:before,\n            &:hover:after {\n              transform: translateY(-5px) scale(1.1);\n            }\n            &:hover:before {\n              @include themed(true) {\n                text-shadow: -1px 0px 0 t($color-tertiary);\n              }\n            }\n            &:hover:after {\n              @include themed(true) {\n                text-shadow: 1px 0px 0 t($color-tertiary);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    li.navlink {\n      position: relative;\n      flex: 1;\n\n      @include is_larger_than($sm-breakpoint) {\n        flex: 0 1 120px;\n      }\n\n      & > a {\n        @include interactive(\n          0.25rem,\n          $roundness,\n          $color-dark,\n          $color-darker,\n          $color-darker,\n          $color-lighter\n        );\n      }\n    }\n\n    li.current {\n      a {\n        text-decoration: underline;\n\n        @include themed(true) {\n          color: t($color-lighter);\n          background: t($color-dark);\n        }\n      }\n    }\n\n    @include is_larger_than($sm-breakpoint) {\n      li.navlink:not(.current):after {\n        content: \"\";\n        opacity: 0.2;\n        position: absolute;\n        height: 60%;\n        width: 1px;\n        top: 20%;\n        right: -2px;\n\n        @include themed(true) {\n          border-left: 2px solid t($color-dark);\n        }\n      }\n    }\n    @include is_smaller_than($sm-breakpoint) {\n      li.navlink:not(.current):not(:first-child):not(:last-child):after {\n        content: \"\";\n        opacity: 0.2;\n        position: absolute;\n        width: 50%;\n        height: 1px;\n        left: 25%;\n        bottom: -2px;\n\n        @include themed(true) {\n          border-top: 2px solid t($color-dark);\n        }\n      }\n    }\n\n    /* Hiding and showing navbar at mobile sizes. */\n    ul {\n      max-height: $navbar-height;\n\n      @include is_larger_than($sm-breakpoint) {\n        max-height: inherit;\n      }\n    }\n    li.navlink {\n      display: none;\n\n      @include is_larger_than($sm-breakpoint) {\n        display: inherit;\n      }\n    }\n    &.expanded {\n      ul {\n        max-height: inherit;\n      }\n\n      li.navlink {\n        display: inherit;\n      }\n    }\n  }\n}\n\n.menu_button {\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  left: 0;\n\n  @include is_larger_than($sm-breakpoint) {\n    display: none;\n  }\n}\n","import { FC } from \"react\";\n\nexport const Filters: FC = () => {\n  return (\n    <>\n      <Turbulence />\n    </>\n  );\n};\n\nconst Turbulence = () => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"0\" height=\"0\">\n    <defs>\n      <filter id=\"turbulence_0\">\n        <feTurbulence\n          baseFrequency=\"0.02\"\n          numOctaves=\"3\"\n          result=\"noise\"\n          seed=\"0\"\n        />\n        <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"3\" />\n      </filter>\n      <filter id=\"turbulence_1\">\n        <feTurbulence\n          baseFrequency=\"0.02\"\n          numOctaves=\"3\"\n          result=\"noise\"\n          seed=\"1\"\n        />\n        <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"3\" />\n      </filter>\n      <filter id=\"turbulence_2\">\n        <feTurbulence\n          baseFrequency=\"0.02\"\n          numOctaves=\"3\"\n          result=\"noise\"\n          seed=\"2\"\n        />\n        <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"3\" />\n      </filter>\n      <filter id=\"turbulence_3\">\n        <feTurbulence\n          baseFrequency=\"0.02\"\n          numOctaves=\"3\"\n          result=\"noise\"\n          seed=\"3\"\n        />\n        <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"3\" />\n      </filter>\n      <filter id=\"turbulence_4\">\n        <feTurbulence\n          baseFrequency=\"0.02\"\n          numOctaves=\"3\"\n          result=\"noise\"\n          seed=\"4\"\n        />\n        <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"3\" />\n      </filter>\n      <filter id=\"turbulence_5\">\n        <feTurbulence\n          baseFrequency=\"0.02\"\n          numOctaves=\"3\"\n          result=\"noise\"\n          seed=\"5\"\n        />\n        <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"3\" />\n      </filter>\n      <filter id=\"turbulence_6\">\n        <feTurbulence\n          baseFrequency=\"0.02\"\n          numOctaves=\"3\"\n          result=\"noise\"\n          seed=\"6\"\n        />\n        <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"3\" />\n      </filter>\n      <filter id=\"turbulence_7\">\n        <feTurbulence\n          baseFrequency=\"0.02\"\n          numOctaves=\"3\"\n          result=\"noise\"\n          seed=\"7\"\n        />\n        <feDisplacementMap in=\"SourceGraphic\" in2=\"noise\" scale=\"3\" />\n      </filter>\n    </defs>\n  </svg>\n);\n","import { FC, ReactNode, Suspense, useEffect, lazy } from \"react\";\nimport { Routes, Route, useLocation } from \"react-router-dom\";\n\nimport { Loader } from \"~/src/common/loader/loader.component\";\nimport { IFrame } from \"~/src/common/iframe/iframe.component\";\nimport {\n  DOCUMENT_TITLE_ROOT,\n  PIXIJS_URL,\n  BABYLONJS_URL,\n  BEVERAGE_URL,\n} from \"~/src/utilities/constants\";\n\nimport Homepage from \"~/src/features/homepage/homepage.component\";\nimport Projects from \"~/src/features/projects/projects.component\";\nimport Photos from \"~/src/features/photos/photos.component\";\nconst Posts = lazy(() => import(\"~/src/features/posts/posts.component\"));\nconst PostsContent = lazy(\n  () => import(\"~/src/features/posts/postsContent.component\")\n);\nconst Shaders = lazy(() => import(\"~/src/features/shaders/shaders.component\"));\n\nconst Pixijs = () => (\n  <IFrame aspect={15.5 / 9} url={PIXIJS_URL} title={\"pixijs\"} />\n);\nconst Babylonjs = () => (\n  <IFrame aspect={3 / 2} url={BABYLONJS_URL} title={\"babylonjs\"} />\n);\nconst Beverage = () => (\n  <IFrame\n    aspect={3 / 2}\n    mobileAspect={2 / 3}\n    url={BEVERAGE_URL}\n    title={\"beverage\"}\n  />\n);\n\nexport type RouteDefinition = {\n  path: string;\n  Component: FC;\n  children?: RouteDefinition[];\n};\n\nexport const ROUTES: RouteDefinition[] = [\n  {\n    path: \"\",\n    Component: Homepage,\n  },\n  {\n    path: \"projects\",\n    Component: Projects,\n    children: [\n      {\n        path: \"pixijs\",\n        Component: Pixijs,\n        children: [\n          {\n            path: \":id\",\n            Component: Pixijs,\n          },\n        ],\n      },\n      {\n        path: \"babylonjs\",\n        Component: Babylonjs,\n      },\n      {\n        path: \"breakout\",\n        Component: Beverage,\n      },\n      {\n        path: \"shaders\",\n        Component: Shaders,\n        children: [\n          {\n            path: \":category\",\n            Component: Shaders,\n          },\n        ],\n      },\n    ],\n  },\n  {\n    path: \"photos\",\n    Component: Photos,\n  },\n  {\n    path: \"posts\",\n    Component: Posts,\n    children: [\n      {\n        path: \":id\",\n        Component: PostsContent,\n      },\n    ],\n  },\n];\n\nexport const Routing: FC = () => {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    const baseRoute = pathname.split(\"/\")[1];\n    document.title = baseRoute\n      ? `${DOCUMENT_TITLE_ROOT}  ${baseRoute}`\n      : DOCUMENT_TITLE_ROOT;\n  }, [pathname]);\n\n  const renderRoutes = (routes: RouteDefinition[], prefix = \"\") =>\n    routes.reduce((renderedRoutes, { path, Component, children }) => {\n      const fullPath = `${prefix}/${path}`;\n\n      if (children) {\n        renderedRoutes.push(...renderRoutes(children, fullPath));\n      }\n\n      return renderedRoutes.concat(\n        <Route path={fullPath} element={<Component />} />\n      );\n    }, [] as ReactNode[]);\n\n  return (\n    <Suspense fallback={<Loader />}>\n      <Routes>{renderRoutes(ROUTES)}</Routes>\n    </Suspense>\n  );\n};\n","import { FC } from \"react\";\n\nimport styles from \"./loader.module.scss\";\n\nexport const Loader: FC = () => (\n  <div className={styles.loader}>\n    {[1, 2, 3, 4].map((key) => (\n      <span key={key} />\n    ))}\n  </div>\n);\n","@use \"../../shared.scss\" as *;\n@use \"../../themed.scss\" as *;\n\n$num-colors: 4;\n\n.loader {\n  margin: 2rem 1rem 1rem;\n  text-align: center;\n\n  span {\n    display: inline-block;\n    width: 1rem;\n    height: 2rem;\n    margin: 0.25rem;\n    opacity: 0.3;\n\n    @include themed(true) {\n      :global {\n        animation: t($animation-fade-pulse) ease-in-out 1.5s infinite;\n      }\n      background: t($color-secondary);\n    }\n\n    @for $i from 0 to $num-colors {\n      &:nth-child(#{$num-colors}n + #{$i + 1}) {\n        animation-delay: $i * 250ms;\n      }\n    }\n  }\n}\n","import { FC } from \"react\";\n\nimport { Frame } from \"~/src/common/frame/frame.component\";\nimport { MEDIA_QUERIES, useMediaQuery } from \"~src/hooks/useMediaQuery\";\n\nimport styles from \"./iframe.module.scss\";\n\ntype IFrameProps = {\n  aspect: number;\n  mobileAspect?: number;\n  title: string;\n  url: string;\n};\n\nexport const IFrame: FC<IFrameProps> = ({\n  aspect,\n  url,\n  title,\n  mobileAspect = aspect,\n}) => {\n  const isLargerThanSM = useMediaQuery(MEDIA_QUERIES.LARGER_THAN_SM);\n  const shouldUseMobileAspect = aspect !== mobileAspect && !isLargerThanSM;\n\n  return (\n    <Frame\n      aspect={shouldUseMobileAspect ? mobileAspect : aspect}\n      className={styles.frame}\n    >\n      <iframe src={url} title={title} />\n    </Frame>\n  );\n};\n","import { useEffect, useState } from \"react\";\n\nexport const MEDIA_QUERIES = {\n  LARGER_THAN_XS: \"(min-width: 385px)\",\n  LARGER_THAN_SM: \"(min-width: 768px)\",\n  LARGER_THAN_MD: \"(min-width: 1400px)\",\n  MOBILE: \"only screen and (hover: none) and (max-width: 768px)\",\n} as const;\n\nexport function useMediaQuery(\n  query: (typeof MEDIA_QUERIES)[keyof typeof MEDIA_QUERIES]\n) {\n  const [matches, setMatches] = useState(window.matchMedia(query).matches);\n\n  useEffect(() => {\n    const mediaQuery = window.matchMedia(query);\n    const listener = () => setMatches(mediaQuery.matches);\n    mediaQuery.addEventListener(\"change\", listener);\n    return () => mediaQuery.removeEventListener(\"change\", listener);\n  }, [matches]);\n\n  return matches;\n}\n","@use \"../../shared.scss\" as *;\n@use \"../../themed.scss\" as *;\n\n.frame {\n  @include card($color-light, false, true);\n\n  iframe {\n    width: 100%;\n    height: 100%;\n    border: none;\n  }\n}\n","import { FC } from \"react\";\n\nimport { HomepageImage } from \"./homepageImage.component\";\nimport { HomepageAbout } from \"./homepageAbout.component\";\n\nimport styles from \"./homepage.module.scss\";\n\nconst Homepage: FC = () => {\n  return (\n    <section className={styles.homepage}>\n      <HomepageImage />\n      <HomepageAbout />\n    </section>\n  );\n};\n\nexport default Homepage;\n","import { FC } from \"react\";\n\nimport { ImageSvgOverlay } from \"~/src/common/imageSvgOverlay/imageSvgOverlay.component\";\nimport { IMAGE_URLS } from \"~/src/utilities/constants\";\n\nimport styles from \"./homepageImage.module.scss\";\n\nexport const HomepageImage: FC = () => (\n  <ImageSvgOverlay\n    className={styles.homepage_image}\n    aspect={900 / 600}\n    source={IMAGE_URLS.ABOUT_ME}\n    alt={\"image of site author Cooper Reiff\"}\n  >\n    <svg\n      className={styles.homepage_image_svg}\n      width=\"600\"\n      height=\"800\"\n      viewBox=\"0 0 600 800\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n    >\n      <path\n        id=\"path0\"\n        fill=\"none\"\n        stroke=\"#ffffff\"\n        stroke-width=\"7\"\n        stroke-linecap=\"round\"\n        d=\"M 80 77 C 87 161 138 186 138 186 L 118 180 L 130 172 L 137 185\"\n      />\n      <path\n        id=\"path1\"\n        fill=\"none\"\n        stroke=\"#ffffff\"\n        stroke-width=\"7\"\n        stroke-linecap=\"round\"\n        d=\"M 544 71 C 544 132 480 185 481 185 L 497 182 L 483 170 L 477 186\"\n      />\n      <text\n        id=\"poppy\"\n        xmlSpace=\"preserve\"\n        x=\"40\"\n        y=\"54\"\n        font-family=\"Helvetica,Arial\"\n        font-size=\"28\"\n        font-weight=\"900\"\n        fill=\"#ffffff\"\n      >\n        poppy\n      </text>\n      <text\n        id=\"rose\"\n        xmlSpace=\"preserve\"\n        x=\"512\"\n        y=\"54\"\n        font-family=\"Helvetica,Arial\"\n        font-size=\"28\"\n        font-weight=\"900\"\n        fill=\"#ffffff\"\n      >\n        rose\n      </text>\n    </svg>\n  </ImageSvgOverlay>\n);\n","import { FC, ReactElement, SVGProps, cloneElement, useState } from \"react\";\nimport cn from \"classnames\";\n\ntype ImageSvgOverlayProps = {\n  aspect: number;\n  source: string;\n  alt?: string;\n  className?: string;\n  children: ReactElement<SVGProps<SVGElement>>;\n};\n\nimport { Frame } from \"~/src/common/frame/frame.component\";\n\nimport styles from \"./imageSvgOverlay.module.scss\";\n\nexport const ImageSvgOverlay: FC<ImageSvgOverlayProps> = ({\n  aspect,\n  source,\n  alt,\n  className,\n  children,\n}) => {\n  const [loading, setLoading] = useState(true);\n\n  const svg = cloneElement(children, {\n    className: cn(\n      (children.props as { className?: string }).className,\n      styles.svg_overlay\n    ),\n  });\n\n  return (\n    <Frame\n      aspect={aspect}\n      loading={loading}\n      className={cn(className, styles.image_svg_overlay)}\n    >\n      <img src={source} onLoad={() => setLoading(false)} alt={alt} />\n      {!loading && svg}\n    </Frame>\n  );\n};\n","@use \"../../shared.scss\" as *;\n\n.image_svg_overlay {\n  position: relative;\n\n  .svg_overlay {\n    position: absolute;\n    inset: 0;\n    z-index: 1;\n    height: 100%;\n    width: 100%;\n    pointer-events: none;\n  }\n}\n","@use \"../../shared.scss\" as *;\n@use \"../../themed.scss\" as *;\n\n.homepage_image {\n  @include card($color-background-container, false, true);\n\n  & > .homepage_image_svg {\n    transition: opacity 0.2s ease-in, stroke-dashoffset 0.2s ease-in-out;\n    stroke-dasharray: 265;\n    stroke-dashoffset: 265;\n    opacity: 0;\n  }\n\n  @media (hover: hover) {\n    &:hover,\n    &:active {\n      & > .homepage_image_svg {\n        transition: opacity 0.2s ease-in, stroke-dashoffset 0.5s ease-in-out;\n        opacity: 0.8;\n        stroke-dashoffset: 0;\n      }\n    }\n  }\n}\n","import { FC } from \"react\";\nimport { Github, FileText, Paintbrush } from \"lucide-preact\";\n\nimport { IconParagraph } from \"~/src/common/iconParagraph/iconParagraph.component\";\nimport { ThemeControl } from \"~/src/features/theme/themeControl.component\";\nimport {\n  RESUME_URL,\n  GITHUB_URL,\n  GITHUB_SITE_PROJECT_URL,\n} from \"~/src/utilities/constants\";\n\nimport styles from \"./homepageAbout.module.scss\";\n\nexport const HomepageAbout: FC = () => (\n  <div className={styles.homepage_about}>\n    <p>\n      <strong>Hello!</strong> I am a software engineer experienced with frontend\n      development and cloud architecture, using languages and frameworks like\n      TypeScript, React, Java, Python, C++, and Rust.\n    </p>\n    <p>\n      I'm also interested in real-time graphics programming, and have been\n      spending my free time brushing up on math and writing shader code.\n    </p>\n    <p>\n      The source code for this site is available at its{\" \"}\n      <a href={GITHUB_SITE_PROJECT_URL}>repository</a>.\n    </p>\n    <br />\n    <IconParagraph icon={<Paintbrush />}>\n      Try a different theme? <ThemeControl className={styles.theme_buttons} />\n    </IconParagraph>\n    <IconParagraph icon={<FileText />}>\n      My full-stack development resume can be found{\" \"}\n      <a href={RESUME_URL}>here</a>.\n    </IconParagraph>\n    <IconParagraph icon={<Github />}>\n      My GitHub profile can be found <a href={GITHUB_URL}>here</a>.\n    </IconParagraph>\n  </div>\n);\n","import createLucideIcon from '../createLucideIcon';\n\nconst FileText = createLucideIcon('FileText', [\n  [\n    'path',\n    {\n      d: 'M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z',\n      key: '1nnpy2',\n    },\n  ],\n  ['polyline', { points: '14 2 14 8 20 8', key: '1ew0cm' }],\n  ['line', { x1: '16', y1: '13', x2: '8', y2: '13', key: '7g4hpw' }],\n  ['line', { x1: '16', y1: '17', x2: '8', y2: '17', key: '1nzzn0' }],\n  ['line', { x1: '10', y1: '9', x2: '8', y2: '9', key: '13jkcr' }],\n]);\n\nexport default FileText;\n","import createLucideIcon from '../createLucideIcon';\n\nconst Github = createLucideIcon('Github', [\n  [\n    'path',\n    {\n      d: 'M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4',\n      key: 'tonef',\n    },\n  ],\n  ['path', { d: 'M9 18c-4.51 2-5-2-7-2', key: '9comsn' }],\n]);\n\nexport default Github;\n","import createLucideIcon from '../createLucideIcon';\n\nconst Paintbrush = createLucideIcon('Paintbrush', [\n  [\n    'path',\n    {\n      d: 'M18.37 2.63 14 7l-1.59-1.59a2 2 0 0 0-2.82 0L8 7l9 9 1.59-1.59a2 2 0 0 0 0-2.82L17 10l4.37-4.37a2.12 2.12 0 1 0-3-3Z',\n      key: 'm6k5sh',\n    },\n  ],\n  ['path', { d: 'M9 8c-2 3-4 3.5-7 4l8 10c2-1 6-5 6-7', key: 'arzq70' }],\n  ['path', { d: 'M14.5 17.5 4.5 15', key: 's7fvrz' }],\n]);\n\nexport default Paintbrush;\n","import { FC, ReactElement, ReactNode } from \"react\";\n\nimport styles from \"./iconParagraph.module.scss\";\n\ntype IconParagraphProps = {\n  icon: ReactElement;\n  children?: ReactNode;\n};\n\nexport const IconParagraph: FC<IconParagraphProps> = ({ icon, children }) => (\n  <p className={styles.paragraph}>\n    <span className={styles.icon}>{icon}</span>\n    <span className={styles.content}>{children}</span>\n  </p>\n);\n","@use \"../../shared.scss\" as *;\n@use \"../../themed.scss\" as *;\n\n.paragraph {\n  display: flex;\n\n  .icon {\n    margin: 0 0.6rem 0 0;\n    align-self: center;\n\n    @include themed(true) {\n      color: t($color-secondary);\n    }\n  }\n\n  .content {\n    flex: 1;\n  }\n}\n","import { FC } from \"react\";\nimport cn from \"classnames\";\n\nimport { useAppSelector, useAppDispatch } from \"~/src/app/store\";\nimport { setTheme, Theme } from \"~/src/features/theme/theme.slice\";\n\nimport styles from \"./themeControl.module.scss\";\n\ntype ThemeControlProps = {\n  className?: string;\n};\n\nexport const ThemeControl: FC<ThemeControlProps> = ({ className }) => {\n  const dispatch = useAppDispatch();\n  const dispatchSetTheme = (theme: Theme) => void dispatch(setTheme(theme));\n  const theme = useAppSelector((state) => state.theme.theme);\n\n  return (\n    <span className={cn(className, styles.theme_control)}>\n      <button\n        aria-label={\"change theme to red color scheme\"}\n        className={cn(styles.lightmode_button, {\n          [styles.current_theme]: theme === Theme.LIGHTMODE,\n        })}\n        onClick={() => dispatchSetTheme(Theme.LIGHTMODE)}\n      />\n      <button\n        aria-label={\"change theme to green color scheme\"}\n        className={cn(styles.greenish_button, {\n          [styles.current_theme]: theme === Theme.GREENISH,\n        })}\n        onClick={() => dispatchSetTheme(Theme.GREENISH)}\n      />\n      <button\n        aria-label={\"change theme to blue color scheme\"}\n        className={cn(styles.bluish_button, {\n          [styles.current_theme]: theme === Theme.BLUISH,\n        })}\n        onClick={() => dispatchSetTheme(Theme.BLUISH)}\n      />\n    </span>\n  );\n};\n","@use \"../../shared.scss\" as *;\n@use \"../../themed.scss\" as *;\n\n.theme_control {\n  white-space: nowrap;\n\n  button {\n    position: relative;\n    box-sizing: initial;\n    vertical-align: text-bottom;\n    border-radius: 42%;\n    width: 1rem;\n    height: 1rem;\n    padding: 0;\n    margin: 0 0.25rem;\n    border: 3px solid transparent;\n    display: inline-block;\n\n    @include interactive(\n      0.15rem,\n      42%,\n      $color-dark,\n      $color-darker,\n      $color-darker,\n      $color-lighter\n    );\n\n    @media (hover: hover) {\n      @include turbulence_static();\n\n      &:hover {\n        @include turbulence_animated();\n      }\n    }\n\n    &.current_theme {\n      @include themed() {\n        border-color: t($color-secondary);\n      }\n    }\n  }\n}\n\n.lightmode_button {\n  color: value_by_theme(\"lightmode\", $color-tertiary);\n  background-color: value_by_theme(\"lightmode\", $color-light);\n}\n.greenish_button {\n  color: value_by_theme(\"greenish\", $color-tertiary);\n  background-color: value_by_theme(\"greenish\", $color-light);\n}\n.bluish_button {\n  color: value_by_theme(\"bluish\", $color-tertiary);\n  background-color: value_by_theme(\"bluish\", $color-light);\n}\n","@use \"../../shared.scss\" as *;\n@use \"../../themed.scss\" as *;\n\n.homepage_about {\n  padding: 0rem 1rem;\n\n  @include is_larger_than($sm-breakpoint) {\n    padding: 1rem 2rem;\n\n    @include themed(true) {\n      border-right: 3px dashed t($color-secondary);\n    }\n  }\n\n  .theme_buttons {\n    margin-left: 0.75rem;\n  }\n\n  br ~ p {\n    @include fadeup();\n\n    &:nth-last-child(2) {\n      animation-delay: 75ms;\n    }\n\n    &:nth-last-child(1) {\n      animation-delay: 150ms;\n    }\n  }\n\n  strong {\n    font-weight: bold;\n  }\n\n  a {\n    @include interactive_secondary($color-text-link, $color-light);\n  }\n}\n","@use \"../../shared.scss\" as *;\n@use \"../../themed.scss\" as *;\n\n.homepage {\n  display: grid;\n  gap: 1rem 1rem;\n  grid-template-columns: 1fr;\n\n  @include is_larger_than($sm-breakpoint) {\n    grid-template-columns: 5fr 8fr;\n  }\n}\n","import { FC } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { Card } from \"~/src/common/card/card.component\";\nimport teapot from \"~/src/assets/svg/teapot.svg\";\nimport pixijs from \"~/src/assets/svg/pixijs.svg\";\nimport babylonjs from \"~/src/assets/svg/babylonjs.svg\";\nimport bevy from \"~/src/assets/svg/bevy.svg\";\n\nimport styles from \"./projects.module.scss\";\n\nconst Projects: FC = () => {\n  const navigate = useNavigate();\n\n  return (\n    <section className={styles.projects}>\n      <Card\n        image={teapot}\n        primary={\"shaders\"}\n        secondary={\"webgl, regl.js, glsl\"}\n        onClick={() => navigate(\"/projects/shaders/basic\")}\n      />\n      <Card\n        image={bevy}\n        primary={\"breakout\"}\n        secondary={\"rust, WASM, bevy\"}\n        onClick={() => navigate(\"/projects/breakout\")}\n      />\n      <Card\n        image={pixijs}\n        primary={\"asteroids\"}\n        secondary={\"pixi.js, matter.js\"}\n        onClick={() => navigate(\"/projects/pixijs/asteroids\")}\n      />\n      <Card\n        image={babylonjs}\n        primary={\"babylon.js test\"}\n        secondary={\"babylon.js\"}\n        onClick={() => navigate(\"/projects/babylonjs\")}\n      />\n    </section>\n  );\n};\n\nexport default Projects;\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4mP9B\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"cgcCw\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gKLP7\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"dPMXH\")).toString();","@use \"../../shared.scss\" as *;\n@use \"../../themed.scss\" as *;\n\n.projects {\n  display: grid;\n  gap: 1rem 1rem;\n  grid-template-columns: 1fr;\n\n  @include is_larger_than($sm-breakpoint) {\n    grid-template-columns: 1fr 1fr;\n  }\n\n  @include is_larger_than($md-breakpoint) {\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n  }\n\n  img {\n    @include themed(true) {\n      filter: brightness(t($svg-brightness));\n    }\n  }\n}\n","import { FC, useState, useEffect } from \"react\";\nimport useInfiniteScroll from \"react-infinite-scroll-hook\";\n\nimport { useAppSelector, useAppDispatch } from \"~/src/app/store\";\nimport { ImageLightbox } from \"~/src/common/imageLightbox/imageLightbox.component\";\nimport { Loader } from \"~/src/common/loader/loader.component\";\n\nimport { fetchPhotos } from \"./photos.slice\";\n\nimport styles from \"./photos.module.scss\";\n\nconst Photos: FC = () => {\n  const dispatch = useAppDispatch();\n  const dispatchFetchPhotos = () => {\n    void dispatch(fetchPhotos());\n  };\n  const photoSets = useAppSelector((state) => state.photos.photoSets);\n  const loading = useAppSelector((state) => state.photos.status === \"pending\");\n\n  const [numberOfPhotosVisible, setNumberOfPhotosVisible] = useState(9);\n\n  const hasNextPage = numberOfPhotosVisible <= photoSets.length;\n\n  const [sentryRef] = useInfiniteScroll({\n    loading: false,\n    delayInMs: 0,\n    rootMargin: \"0px 0px 900px 0px\",\n    hasNextPage,\n    onLoadMore: () => setNumberOfPhotosVisible(numberOfPhotosVisible + 3),\n  });\n\n  useEffect(() => dispatchFetchPhotos(), [dispatch]);\n\n  return loading ? (\n    <Loader />\n  ) : (\n    <section className={styles.photos}>\n      {photoSets.slice(0, numberOfPhotosVisible).map((photoSet, index) => (\n        <article key={index} className={styles.tile}>\n          <ImageLightbox\n            aspect={1 / 1}\n            {...photoSet}\n            className={styles.photo}\n          />\n        </article>\n      ))}\n      {hasNextPage && <div ref={sentryRef} />}\n    </section>\n  );\n};\n\nexport default Photos;\n","import { useState, useCallback, useEffect, useRef } from 'react';\r\nimport { Omit } from './types';\r\n\r\nconst DEFAULT_ROOT_MARGIN = '0px';\r\nconst DEFAULT_THRESHOLD = [0];\r\n\r\nexport type IntersectionObserverHookArgs = Omit<\r\n  IntersectionObserverInit,\r\n  'root'\r\n>;\r\n\r\nexport type IntersectionObserverHookRefCallbackNode = Element | null;\r\n\r\nexport type IntersectionObserverHookRefCallback = (\r\n  node: IntersectionObserverHookRefCallbackNode,\r\n) => void;\r\n\r\nexport type IntersectionObserverHookRootRefCallbackNode = IntersectionObserverInit['root'];\r\n\r\nexport type IntersectionObserverHookRootRefCallback = (\r\n  node: IntersectionObserverHookRootRefCallbackNode,\r\n) => void;\r\n\r\nexport type IntersectionObserverHookResult = [\r\n  IntersectionObserverHookRefCallback,\r\n  {\r\n    entry: IntersectionObserverEntry | undefined;\r\n    rootRef: IntersectionObserverHookRootRefCallback;\r\n  },\r\n];\r\n\r\n// For more info:\r\n// https://developers.google.com/web/updates/2016/04/intersectionobserver\r\n// https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\r\nfunction useIntersectionObserver(\r\n  args?: IntersectionObserverHookArgs,\r\n): IntersectionObserverHookResult {\r\n  const rootMargin = args?.rootMargin ?? DEFAULT_ROOT_MARGIN;\r\n  const threshold = args?.threshold ?? DEFAULT_THRESHOLD;\r\n\r\n  const nodeRef = useRef<IntersectionObserverHookRefCallbackNode>(null);\r\n  const rootRef = useRef<IntersectionObserverHookRootRefCallbackNode>(null);\r\n  const observerRef = useRef<IntersectionObserver | null>(null);\r\n\r\n  const [entry, setEntry] = useState<IntersectionObserverEntry>();\r\n\r\n  const unobserve = useCallback(() => {\r\n    // Disconnect the current observer (if there is one)\r\n    const currentObserver = observerRef.current;\r\n    currentObserver?.disconnect();\r\n    observerRef.current = null;\r\n  }, []);\r\n\r\n  const observe = useCallback(() => {\r\n    const node = nodeRef.current;\r\n    if (node) {\r\n      const root = rootRef.current;\r\n      const options = { root, rootMargin, threshold };\r\n      // Create a observer for current \"node\" with given options.\r\n      const observer = new IntersectionObserver(([newEntry]) => {\r\n        setEntry(newEntry);\r\n      }, options);\r\n      observer.observe(node);\r\n      observerRef.current = observer;\r\n    }\r\n  }, [rootMargin, threshold]);\r\n\r\n  const initializeObserver = useCallback(() => {\r\n    unobserve();\r\n    observe();\r\n  }, [observe, unobserve]);\r\n\r\n  const refCallback = useCallback<IntersectionObserverHookRefCallback>(\r\n    (node) => {\r\n      nodeRef.current = node;\r\n      initializeObserver();\r\n    },\r\n    [initializeObserver],\r\n  );\r\n\r\n  const rootRefCallback = useCallback<IntersectionObserverHookRootRefCallback>(\r\n    (rootNode) => {\r\n      rootRef.current = rootNode;\r\n      initializeObserver();\r\n    },\r\n    [initializeObserver],\r\n  );\r\n\r\n  useEffect(() => {\r\n    // After React 18, StrictMode unmounts and mounts components to be sure\r\n    // if they are resilient effects being mounted and destroyed multiple times.\r\n    // This a behavior to be sure nothing breaks when off-screen components\r\n    // can preserve their state with future React versions.\r\n    // So in StrictMode, React unmounts the component, clean-up of this useEffect gets triggered and\r\n    // we stop observing the node. But we need to start observing after component re-mounts with its preserved state.\r\n    // So to handle this case, we call initializeObserver here.\r\n    // https://reactjs.org/blog/2022/03/08/react-18-upgrade-guide.html#updates-to-strict-mode\r\n    initializeObserver();\r\n    return () => {\r\n      // We disconnect the observer on unmount to prevent memory leaks etc.\r\n      unobserve();\r\n    };\r\n  }, [initializeObserver, unobserve]);\r\n\r\n  return [refCallback, { entry, rootRef: rootRefCallback }];\r\n}\r\n\r\nexport default useIntersectionObserver;\r\n","import { useState } from 'react';\r\nimport useIntersectionObserver, {\r\n  IntersectionObserverHookArgs,\r\n  IntersectionObserverHookResult,\r\n} from './useIntersectionObserver';\r\n\r\nexport type TrackVisibilityHookArgs = IntersectionObserverHookArgs;\r\n\r\nexport type TrackVisibilityHookResult = [\r\n  IntersectionObserverHookResult[0],\r\n  IntersectionObserverHookResult[1] & {\r\n    isVisible: boolean;\r\n    wasEverVisible: boolean;\r\n  },\r\n];\r\n\r\nfunction useTrackVisibility(\r\n  args?: IntersectionObserverHookArgs,\r\n): TrackVisibilityHookResult {\r\n  const [ref, result] = useIntersectionObserver(args);\r\n  const isVisible = Boolean(result.entry?.isIntersecting);\r\n  const [wasEverVisible, setWasEverVisible] = useState(isVisible);\r\n\r\n  if (isVisible && !wasEverVisible) {\r\n    setWasEverVisible(true);\r\n  }\r\n\r\n  return [ref, { ...result, isVisible, wasEverVisible }];\r\n}\r\n\r\nexport default useTrackVisibility;\r\n","import { useEffect } from 'react';\r\nimport {\r\n  useTrackVisibility,\r\n  IntersectionObserverHookArgs,\r\n  IntersectionObserverHookRefCallback as UseInfiniteScrollHookRefCallback,\r\n  IntersectionObserverHookRootRefCallback as UseInfiniteScrollHookRootRefCallback,\r\n} from 'react-intersection-observer-hook';\r\n\r\nconst DEFAULT_DELAY_IN_MS = 100;\r\n\r\nexport {\r\n  UseInfiniteScrollHookRefCallback,\r\n  UseInfiniteScrollHookRootRefCallback,\r\n};\r\n\r\nexport type UseInfiniteScrollHookResult = [\r\n  UseInfiniteScrollHookRefCallback,\r\n  { rootRef: UseInfiniteScrollHookRootRefCallback },\r\n];\r\n\r\nexport type UseInfiniteScrollHookArgs = Pick<\r\n  IntersectionObserverHookArgs,\r\n  // We pass this to 'IntersectionObserver'. We can use it to configure when to trigger 'onLoadMore'.\r\n  'rootMargin'\r\n> & {\r\n  // Some sort of \"is fetching\" info of the request.\r\n  loading: boolean;\r\n  // If the list has more items to load.\r\n  hasNextPage: boolean;\r\n  // The callback function to execute when the 'onLoadMore' is triggered.\r\n  // eslint-disable-next-line no-undef\r\n  onLoadMore: VoidFunction;\r\n  // Flag to stop infinite scrolling. Can be used in case of an error etc too.\r\n  disabled?: boolean;\r\n  // How long it should wait before triggering 'onLoadMore'.\r\n  delayInMs?: number;\r\n};\r\n\r\nfunction useInfiniteScroll({\r\n  loading,\r\n  hasNextPage,\r\n  onLoadMore,\r\n  rootMargin,\r\n  disabled,\r\n  delayInMs = DEFAULT_DELAY_IN_MS,\r\n}: UseInfiniteScrollHookArgs): UseInfiniteScrollHookResult {\r\n  const [ref, { rootRef, isVisible }] = useTrackVisibility({\r\n    rootMargin,\r\n  });\r\n\r\n  const shouldLoadMore = !disabled && !loading && isVisible && hasNextPage;\r\n\r\n  // eslint-disable-next-line consistent-return\r\n  useEffect(() => {\r\n    if (shouldLoadMore) {\r\n      // When we trigger 'onLoadMore' and new items are added to the list,\r\n      // right before they become rendered on the screen, 'loading' becomes false\r\n      // and 'isVisible' can be true for a brief time, based on the scroll position.\r\n      // So, it triggers 'onLoadMore' just after the first one is finished.\r\n      // We use a small delay here to prevent this kind of situations.\r\n      // It can be configured by hook args.\r\n      const timer = setTimeout(() => {\r\n        onLoadMore();\r\n      }, delayInMs);\r\n      return () => {\r\n        clearTimeout(timer);\r\n      };\r\n    }\r\n  }, [onLoadMore, shouldLoadMore, delayInMs]);\r\n\r\n  return [ref, { rootRef }];\r\n}\r\n\r\nexport default useInfiniteScroll;\r\n","import { FC, useState } from \"react\";\nimport { Lightbox } from \"react-modal-image\";\nimport cn from \"classnames\";\n\nimport { Image } from \"~/src/common/image/image.component\";\n\nimport styles from \"./imageLightbox.module.scss\";\n\ntype ImageLightboxProps = {\n  aspect: number;\n  small: string;\n  medium: string;\n  large: string;\n  alt?: string;\n  className?: string;\n};\n\nexport const ImageLightbox: FC<ImageLightboxProps> = ({\n  aspect,\n  small,\n  medium,\n  large,\n  alt,\n  className,\n}) => {\n  const [opened, setOpened] = useState(false);\n\n  return (\n    <div className={cn(styles.image_lightbox, className)}>\n      <div onClick={() => setOpened(true)}>\n        <Image\n          className={styles.interactive}\n          aspect={aspect}\n          source={small}\n          alt={alt}\n        />\n      </div>\n      {opened && (\n        <Lightbox\n          medium={medium}\n          large={large}\n          alt={alt}\n          hideDownload={true}\n          hideClose={true}\n          onClose={() => {\n            setOpened(false);\n          }}\n        />\n      )}\n    </div>\n  );\n};\n","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport Lightbox from \"./Lightbox\";\nexport { default as Lightbox } from \"./Lightbox\";\n\nvar _default = /*#__PURE__*/function (_Component) {\n  _inherits(_default, _Component);\n\n  var _super = _createSuper(_default);\n\n  function _default() {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      modalOpen: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleModal\", function () {\n      _this.setState(function (prev) {\n        return {\n          modalOpen: !prev.modalOpen\n        };\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          className = _this$props.className,\n          small = _this$props.small,\n          smallSrcSet = _this$props.smallSrcSet,\n          medium = _this$props.medium,\n          large = _this$props.large,\n          alt = _this$props.alt,\n          hideDownload = _this$props.hideDownload,\n          hideZoom = _this$props.hideZoom,\n          showRotate = _this$props.showRotate,\n          imageBackgroundColor = _this$props.imageBackgroundColor;\n      var modalOpen = this.state.modalOpen;\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"img\", {\n        className: className,\n        style: {\n          cursor: \"pointer\",\n          maxWidth: \"100%\",\n          maxHeight: \"100%\"\n        },\n        onClick: this.toggleModal,\n        src: small,\n        srcSet: smallSrcSet,\n        alt: alt\n      }), modalOpen && /*#__PURE__*/React.createElement(Lightbox, {\n        medium: medium,\n        large: large,\n        alt: alt,\n        onClose: this.toggleModal,\n        hideDownload: hideDownload,\n        hideZoom: hideZoom,\n        showRotate: showRotate,\n        imageBackgroundColor: imageBackgroundColor\n      }));\n    }\n  }]);\n\n  return _default;\n}(Component);\n\nexport { _default as default };","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport StyleInjector, { lightboxStyles } from \"./styles\";\nimport Header from \"./Header\";\nimport Image from \"./Image\";\n\nvar Lightbox = /*#__PURE__*/function (_Component) {\n  _inherits(Lightbox, _Component);\n\n  var _super = _createSuper(Lightbox);\n\n  function Lightbox() {\n    var _this;\n\n    _classCallCheck(this, Lightbox);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      move: {\n        x: 0,\n        y: 0\n      },\n      moveStart: undefined,\n      zoomed: false,\n      rotationDeg: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (event) {\n      // ESC or ENTER closes the modal\n      if (event.keyCode === 27 || event.keyCode === 13) {\n        _this.props.onClose();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getCoordinatesIfOverImg\", function (event) {\n      var point = event.changedTouches ? event.changedTouches[0] : event;\n\n      if (point.target.id !== \"react-modal-image-img\") {\n        // the img was not a target of the coordinates\n        return;\n      }\n\n      var dim = _this.contentEl.getBoundingClientRect();\n\n      var x = point.clientX - dim.left;\n      var y = point.clientY - dim.top;\n      return {\n        x: x,\n        y: y\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseDownOrTouchStart\", function (event) {\n      event.preventDefault();\n\n      if (event.touches && event.touches.length > 1) {\n        // more than one finger, ignored\n        return;\n      }\n\n      var coords = _this.getCoordinatesIfOverImg(event);\n\n      if (!coords) {\n        // click outside the img => close modal\n        _this.props.onClose();\n      }\n\n      if (!_this.state.zoomed) {\n        // do not allow drag'n'drop if zoom has not been applied\n        return;\n      }\n\n      _this.setState(function (prev) {\n        return {\n          moveStart: {\n            x: coords.x - prev.move.x,\n            y: coords.y - prev.move.y\n          }\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseMoveOrTouchMove\", function (event) {\n      event.preventDefault();\n\n      if (!_this.state.zoomed || !_this.state.moveStart) {\n        // do not allow drag'n'drop if zoom has not been applied\n        // or if there has not been a click\n        return;\n      }\n\n      if (event.touches && event.touches.length > 1) {\n        // more than one finger, ignored\n        return;\n      }\n\n      var coords = _this.getCoordinatesIfOverImg(event);\n\n      if (!coords) {\n        return;\n      }\n\n      _this.setState(function (prev) {\n        return {\n          move: {\n            x: coords.x - prev.moveStart.x,\n            y: coords.y - prev.moveStart.y\n          }\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseUpOrTouchEnd\", function (event) {\n      _this.setState({\n        moveStart: undefined\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleZoom\", function (event) {\n      event.preventDefault();\n\n      _this.setState(function (prev) {\n        return {\n          zoomed: !prev.zoomed,\n          // reset position if zoomed out\n          move: prev.zoomed ? {\n            x: 0,\n            y: 0\n          } : prev.move\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleRotate\", function (event) {\n      event.preventDefault();\n      var rotationDeg = _this.state.rotationDeg;\n\n      if (rotationDeg === 360) {\n        _this.setState({\n          rotationDeg: 90\n        });\n\n        return;\n      }\n\n      _this.setState(function (prevState) {\n        return {\n          rotationDeg: prevState.rotationDeg += 90\n        };\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Lightbox, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener(\"keydown\", this.handleKeyDown, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"keydown\", this.handleKeyDown, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          medium = _this$props.medium,\n          large = _this$props.large,\n          alt = _this$props.alt,\n          onClose = _this$props.onClose,\n          hideDownload = _this$props.hideDownload,\n          hideZoom = _this$props.hideZoom,\n          showRotate = _this$props.showRotate,\n          _this$props$imageBack = _this$props.imageBackgroundColor,\n          imageBackgroundColor = _this$props$imageBack === void 0 ? \"black\" : _this$props$imageBack;\n      var _this$state = this.state,\n          move = _this$state.move,\n          zoomed = _this$state.zoomed,\n          rotationDeg = _this$state.rotationDeg;\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(StyleInjector, {\n        name: \"__react_modal_image__lightbox\",\n        css: lightboxStyles({\n          imageBackgroundColor: imageBackgroundColor\n        })\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"__react_modal_image__modal_container\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"__react_modal_image__modal_content\",\n        onMouseDown: this.handleMouseDownOrTouchStart,\n        onMouseUp: this.handleMouseUpOrTouchEnd,\n        onMouseMove: this.handleMouseMoveOrTouchMove,\n        onTouchStart: this.handleMouseDownOrTouchStart,\n        onTouchEnd: this.handleMouseUpOrTouchEnd,\n        onTouchMove: this.handleMouseMoveOrTouchMove,\n        ref: function ref(el) {\n          _this2.contentEl = el;\n        }\n      }, zoomed && /*#__PURE__*/React.createElement(Image, {\n        id: \"react-modal-image-img\",\n        className: \"__react_modal_image__large_img\",\n        src: large || medium,\n        style: {\n          transform: \"translate3d(-50%, -50%, 0) translate3d(\".concat(move.x, \"px, \").concat(move.y, \"px, 0) rotate(\").concat(rotationDeg, \"deg)\"),\n          WebkitTransform: \"translate3d(-50%, -50%, 0) translate3d(\".concat(move.x, \"px, \").concat(move.y, \"px, 0) rotate(\").concat(rotationDeg, \"deg)\"),\n          MsTransform: \"translate3d(-50%, -50%, 0) translate3d(\".concat(move.x, \"px, \").concat(move.y, \"px, 0) rotate(\").concat(rotationDeg, \"deg)\")\n        },\n        handleDoubleClick: this.toggleZoom\n      }), !zoomed && /*#__PURE__*/React.createElement(Image, {\n        id: \"react-modal-image-img\",\n        className: \"__react_modal_image__medium_img\",\n        src: medium || large,\n        handleDoubleClick: this.toggleZoom,\n        contextMenu: !medium,\n        style: {\n          transform: \"translate3d(-50%, -50%, 0) rotate(\".concat(rotationDeg, \"deg)\"),\n          WebkitTransform: \"translate3d(-50%, -50%, 0) rotate(\".concat(rotationDeg, \"deg)\"),\n          MsTransform: \"translate3d(-50%, -50%, 0) rotate(\".concat(rotationDeg, \"deg)\")\n        }\n      })), /*#__PURE__*/React.createElement(Header, {\n        image: large || medium,\n        alt: alt,\n        zoomed: zoomed,\n        toggleZoom: this.toggleZoom,\n        toggleRotate: this.toggleRotate,\n        onClose: onClose,\n        enableDownload: !hideDownload,\n        enableZoom: !hideZoom,\n        enableRotate: !!showRotate\n      })));\n    }\n  }]);\n\n  return Lightbox;\n}(Component);\n\nexport { Lightbox as default };","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Component } from \"react\";\n\nfunction appendStyle(id, css) {\n  if (!document.head.querySelector(\"#\" + id)) {\n    var node = document.createElement(\"style\");\n    node.textContent = css;\n    node.type = \"text/css\";\n    node.id = id;\n    document.head.appendChild(node);\n  }\n}\n\nvar StyleInjector = /*#__PURE__*/function (_Component) {\n  _inherits(StyleInjector, _Component);\n\n  var _super = _createSuper(StyleInjector);\n\n  function StyleInjector() {\n    _classCallCheck(this, StyleInjector);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(StyleInjector, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      appendStyle(this.props.name, this.props.css);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var node = document.getElementById(this.props.name);\n      node.parentNode.removeChild(node);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n\n  return StyleInjector;\n}(Component);\n\nexport { StyleInjector as default };\nexport var lightboxStyles = function lightboxStyles(_ref) {\n  var imageBackgroundColor = _ref.imageBackgroundColor;\n  return \"\\n  body {\\n    overflow: hidden;\\n  }\\n\\n  .__react_modal_image__modal_container {\\n    position: fixed;\\n    z-index: 5000;\\n    left: 0;\\n    top: 0;\\n    width: 100%;\\n    height: 100%;\\n    background-color: rgba(0, 0, 0, 0.8);\\n    touch-action: none;\\n    overflow: hidden;\\n  }\\n\\n  .__react_modal_image__modal_content {\\n    position: relative;\\n    height: 100%;\\n    width: 100%;\\n  }\\n\\n  .__react_modal_image__modal_content img, \\n  .__react_modal_image__modal_content svg {\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    transform: translate3d(-50%, -50%, 0);\\n    -webkit-transform: translate3d(-50%, -50%, 0);\\n    -ms-transform: translate3d(-50%, -50%, 0);\\n    overflow: hidden;\\n  }\\n\\n  .__react_modal_image__medium_img {\\n    max-width: 98%;\\n    max-height: 98%;\\n    background-color: \".concat(imageBackgroundColor, \";\\n  }\\n\\n  .__react_modal_image__large_img {\\n    cursor: move;\\n    background-color: \").concat(imageBackgroundColor, \"\\n  }\\n\\n  .__react_modal_image__icon_menu a {\\n    display: inline-block;\\n    font-size: 40px;\\n    cursor: pointer;\\n    line-height: 40px;\\n    box-sizing: border-box;\\n    border: none;\\n    padding: 0px 5px 0px 5px;\\n    margin-left: 10px;\\n    color: white;\\n    background-color: rgba(0, 0, 0, 0);\\n  }\\n\\n  .__react_modal_image__icon_menu {\\n    display: inline-block;\\n    float: right;\\n  }\\n\\n  .__react_modal_image__caption {\\n    display: inline-block;\\n    color: white;\\n    font-size: 120%;\\n    padding: 10px;\\n    margin: 0;\\n  }\\n\\n  .__react_modal_image__header {\\n    position: absolute;\\n    top: 0;\\n    width: 100%;\\n    background-color: rgba(0, 0, 0, 0.7);\\n    overflow: hidden;\\n  }\\n\");\n};","/* \n  Icons from https://material.io/icons/\n*/\nimport React from \"react\";\nexport var ZoomInIcon = function ZoomInIcon() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: \"#ffffff\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z\"\n  }));\n};\nexport var ZoomOutIcon = function ZoomOutIcon() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: \"#ffffff\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z\"\n  }));\n};\nexport var DownloadIcon = function DownloadIcon() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: \"#ffffff\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }));\n};\nexport var CloseIcon = function CloseIcon() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: \"#ffffff\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    width: \"24\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }));\n};\nexport var SpinnerIcon = function SpinnerIcon() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: \"#ffffff\",\n    height: \"48\",\n    viewBox: \"0 0 24 24\",\n    width: \"48\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }));\n};\nexport var RotateIcon = function RotateIcon() {\n  return /*#__PURE__*/React.createElement(\"svg\", {\n    fill: \"#ffffff\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M0 0h24v24H0V0zm0 0h24v24H0V0z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.47 21.49C4.2 19.93 1.86 16.76 1.5 13H0c.51 6.16 5.66 11 11.95 11 .23 0 .44-.02.66-.03L8.8 20.15l-1.33 1.34zM12.05 0c-.23 0-.44.02-.66.04l3.81 3.81 1.33-1.33C19.8 4.07 22.14 7.24 22.5 11H24c-.51-6.16-5.66-11-11.95-11zM16 14h2V8c0-1.11-.9-2-2-2h-6v2h6v6zm-8 2V4H6v2H4v2h2v8c0 1.1.89 2 2 2h8v2h2v-2h2v-2H8z\"\n  }));\n};","import React from \"react\";\nimport { ZoomInIcon, ZoomOutIcon, DownloadIcon, CloseIcon, RotateIcon } from \"./icons\";\n\nfunction isSameOrigin(href) {\n  // @ts-ignore\n  return document.location.hostname !== new URL(href, document.location).hostname;\n}\n/**\n * Triggers image download from cross origin URLs\n * \n * `<a href=\"...\" download>foo</a> works only for same-origin URLs.\n * Further info: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-download\n */\n\n\nvar crossOriginDownload = function crossOriginDownload(href) {\n  return function (event) {\n    if (!isSameOrigin(href)) {\n      // native download will be triggered by `download` attribute\n      return;\n    } // else proceed to use `fetch` for cross origin image download\n\n\n    event.preventDefault();\n    fetch(href).then(function (res) {\n      if (!res.ok) {\n        console.error(\"Failed to download image, HTTP status \" + res.status + \" from \" + href);\n      }\n\n      return res.blob().then(function (blob) {\n        var tmpAnchor = document.createElement(\"a\");\n        tmpAnchor.setAttribute(\"download\", href.split(\"/\").pop());\n        tmpAnchor.href = URL.createObjectURL(blob);\n        tmpAnchor.click();\n      });\n    })[\"catch\"](function (err) {\n      console.error(err);\n      console.error(\"Failed to download image from \" + href);\n    });\n  };\n};\n\nvar Header = function Header(_ref) {\n  var image = _ref.image,\n      alt = _ref.alt,\n      zoomed = _ref.zoomed,\n      toggleZoom = _ref.toggleZoom,\n      toggleRotate = _ref.toggleRotate,\n      onClose = _ref.onClose,\n      enableDownload = _ref.enableDownload,\n      enableZoom = _ref.enableZoom,\n      enableRotate = _ref.enableRotate;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"__react_modal_image__header\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"__react_modal_image__icon_menu\"\n  }, enableDownload && /*#__PURE__*/React.createElement(\"a\", {\n    href: image,\n    download: true,\n    onClick: crossOriginDownload(image)\n  }, /*#__PURE__*/React.createElement(DownloadIcon, null)), enableZoom && /*#__PURE__*/React.createElement(\"a\", {\n    onClick: toggleZoom\n  }, zoomed ? /*#__PURE__*/React.createElement(ZoomOutIcon, null) : /*#__PURE__*/React.createElement(ZoomInIcon, null)), enableRotate && /*#__PURE__*/React.createElement(\"a\", {\n    onClick: toggleRotate\n  }, /*#__PURE__*/React.createElement(RotateIcon, null)), /*#__PURE__*/React.createElement(\"a\", {\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(CloseIcon, null))), alt && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"__react_modal_image__caption\"\n  }, alt));\n};\n\nexport default Header;","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport { SpinnerIcon } from \"./icons\";\n\nvar Image = /*#__PURE__*/function (_Component) {\n  _inherits(Image, _Component);\n\n  var _super = _createSuper(Image);\n\n  function Image() {\n    var _this;\n\n    _classCallCheck(this, Image);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      loading: true\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnLoad\", function () {\n      _this.setState({\n        loading: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnContextMenu\", function (event) {\n      !_this.props.contextMenu && event.preventDefault();\n    });\n\n    return _this;\n  }\n\n  _createClass(Image, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          id = _this$props.id,\n          className = _this$props.className,\n          src = _this$props.src,\n          style = _this$props.style,\n          handleDoubleClick = _this$props.handleDoubleClick;\n      return /*#__PURE__*/React.createElement(\"div\", null, this.state.loading && /*#__PURE__*/React.createElement(SpinnerIcon, null), /*#__PURE__*/React.createElement(\"img\", {\n        id: id,\n        className: className,\n        src: src,\n        style: style,\n        onLoad: this.handleOnLoad,\n        onDoubleClick: handleDoubleClick,\n        onContextMenu: this.handleOnContextMenu\n      }));\n    }\n  }]);\n\n  return Image;\n}(Component);\n\nexport { Image as default };","@use \"../../shared.scss\" as *;\n\n.image_lightbox {\n  width: 100%;\n}\n\n.interactive {\n  cursor: pointer;\n}\n","@use \"../../shared.scss\" as *;\n@use \"../../themed.scss\" as *;\n\n.photos {\n  display: grid;\n  gap: 1rem 1rem;\n  grid-template-columns: 1fr;\n\n  @include is_larger_than($sm-breakpoint) {\n    grid-template-columns: 1fr 1fr 1fr;\n  }\n}\n\n.photo {\n  @include themed(true) {\n    background-color: t($color-background-container);\n  }\n}\n\n.tile {\n  line-height: 0;\n  font-size: 0;\n\n  @include card($color-background-container, false, true);\n\n  img {\n    @include hover_scale(1.04);\n  }\n}\n"],"names":["$f7d49dfd4ff85d5a$export$6503ec6e8aabbaf","$f7d49dfd4ff85d5a$export$f7ad0328861e2f03","$f7d49dfd4ff85d5a$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$j1pME","parcelRequire","vnodeId","createVNode","type","props","key","isStaticChildren","__source","__self","ref","normalizedProps","vnode","__k","__","__b","__e","__d","__c","__h","constructor","__v","defaultProps","options","slice","rerenderQueue","prevDebounce","defer","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","assign","obj","removeNode","node","parentNode","removeChild","createElement","children","arguments","call","original","createRef","current","Fragment","Component","context","this","getDomSibling","childIndex","indexOf","sibling","updateParentDomPointers","child","base","enqueueRender","c","push","process","__r","debounceRendering","renderQueueLength","component","commitQueue","oldVNode","oldDom","parentDom","sort","a","b","shift","diff","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","childVNode","newDom","firstChildDom","refs","oldChildren","oldChildrenLength","Array","isArray","reorderChildren","placeChild","getLastDom","nextSibling","unmount","applyRef","tmp","toChildArray","out","some","nextDom","sibDom","outer","appendChild","insertBefore","lastDom","setStyle","style","value","setProperty","test","dom","name","oldValue","useCapture","o","cssText","replace","toLowerCase","l","addEventListener","eventProxyCapture","eventProxy","removeEventListener","e","removeAttribute","setAttribute","event","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","provider","componentContext","renderHook","count","newType","contextType","__E","prototype","render","doRender","sub","state","__n","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","__P","getChildContext","getSnapshotBeforeUpdate","oldHtml","newHtml","nodeType","localName","document","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","diffProps","hydrate","checked","diffElementNodes","diffed","root","cb","parentVNode","skipRemove","r","componentWillUnmount","replaceNode","firstChild","cloneElement","createContext","defaultValue","contextId","Consumer","contextValue","Provider","subs","ctx","_props","old","splice","error","errorInfo","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","update","callback","s","forceUpdate","Promise","then","bind","resolve","setTimeout","$df0a4f5202ba4c2a$export$306c0aa65ff9ec16","$df0a4f5202ba4c2a$var$k","$df0a4f5202ba4c2a$var$l","$2YnCV","useState","$df0a4f5202ba4c2a$var$m","useEffect","$df0a4f5202ba4c2a$var$n","useLayoutEffect","$df0a4f5202ba4c2a$var$p","useDebugValue","$df0a4f5202ba4c2a$var$r","getSnapshot","d","f","$df0a4f5202ba4c2a$var$u","window","inst","g","$fPSy9","useSyncExternalStore","shallowDiffers","x","y","PureComponent","p","memo","comparer","shouldUpdate","nextProps","updateRef","Memoed","displayName","isReactComponent","isPureReactComponent","oldDiffHook","__f","REACT_FORWARD_SYMBOL","Symbol","for","forwardRef","fn","Forwarded","clone","$$typeof","mapFn","map","Children","only","normalized","toArray","oldCatchError","oldUnmount","detachedClone","detachedParent","effect","__H","removeOriginal","originalParent","Suspense","__u","_suspenders","suspended","__a","lazy","loader","prom","Lazy","exports","default","SuspenseList","_next","_map","__R","promise","suspendingVNode","suspendingComponent","onResolved","onSuspensionComplete","suspendedVNode","pop","wasHydrating","detachedComponent","__O","fallback","list","delete","revealOrder","size","ContextProvider","Portal","_this","container","_container","_temp","before","createPortal","el","containerInfo","delegated","get","unsuspend","wrappedUnsuspend","Map","reverse","set","REACT_ELEMENT_TYPE","CAMEL_PROPS","IS_DOM","onChangeInputType","parent","textContent","preactRender","preactHydrate","defineProperty","configurable","v","writable","oldEventHook","empty","isPropagationStopped","cancelBubble","isDefaultPrevented","defaultPrevented","persist","nativeEvent","currentComponent","classNameDescriptor","class","oldVNodeHook","nonCustomElement","multiple","selected","className","enumerable","oldBeforeRender","oldDiffed","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentDispatcher","readContext","version","createFactory","isValidElement","element","preactCloneElement","apply","unmountComponentAtNode","findDOMNode","unstable_batchedUpdates","arg","flushSync","StrictMode","startTransition","useDeferredValue","val","useTransition","useInsertionEffect","subscribe","_useState","_instance","_getSnapshot","index","useId","useReducer","useRef","useImperativeHandle","useMemo","useCallback","useContext","currentIndex","previousComponent","prevRaf","currentHook","afterPaintEffects","EMPTY","oldBeforeDiff","oldAfterDiff","oldCommit","oldBeforeUnmount","getHookState","hooks","__V","initialState","invokeOrReturn","reducer","init","hookState","_reducer","action","currentValue","__N","nextValue","_hasScuFromHooks","prevScu","stateHooks","filter","every","hookItem","args","argsChanged","_pendingArgs","initialValue","createHandle","concat","factory","formatter","useErrorBoundary","errState","err","__m","mask","flushAfterPaintEffects","invokeCleanup","invokeEffect","requestAnimationFrame","afterNextFrame","hasErrored","HAS_RAF","raf","done","clearTimeout","timeout","cancelAnimationFrame","hook","comp","cleanup","oldArgs","newArgs","$a01df994051362bb$export$bf730a2d8bf68b42","$a01df994051362bb$var$q","$a01df994051362bb$var$r","$iB54q","$a01df994051362bb$var$t","$a01df994051362bb$var$u","$a01df994051362bb$var$v","$a01df994051362bb$var$w","hasValue","k","m","module","$9aaf1809a83fe6d0$export$2b8d127b894957b9","$9aaf1809a83fe6d0$export$cea3a54a6425200c","$9aaf1809a83fe6d0$export$a7c73072b1a182ae","$9aaf1809a83fe6d0$export$9f27bc3417b4524d","$9aaf1809a83fe6d0$export$db77ccec0bb4ccac","$9aaf1809a83fe6d0$export$8392c0c9d3dcbd35","$9aaf1809a83fe6d0$export$ffb0004e005737fa","$9aaf1809a83fe6d0$export$b624eff549462981","$9aaf1809a83fe6d0$export$7897aa7841a5380c","$9aaf1809a83fe6d0$export$602eac185826482c","$9aaf1809a83fe6d0$export$e2c29f18771995cb","$9aaf1809a83fe6d0$export$5f8d39834fd61797","$9aaf1809a83fe6d0$export$74bf444e3cd11ea5","$9aaf1809a83fe6d0$export$92387174baf9b227","$9aaf1809a83fe6d0$export$ec112efeb987d9c6","$9aaf1809a83fe6d0$export$b706b080d889d2c9","$9aaf1809a83fe6d0$export$5be5a87408f70ddc","$9aaf1809a83fe6d0$export$45a5e7f76e0caa8d","$9aaf1809a83fe6d0$export$455c2e768291efa6","$9aaf1809a83fe6d0$export$9522e17588c12572","$9aaf1809a83fe6d0$export$2110ac352bb060b9","$9aaf1809a83fe6d0$export$56885ab8b9c456ab","$9aaf1809a83fe6d0$export$d927fcb6adf8f9de","$9aaf1809a83fe6d0$export$b82d16f27459e05a","$9aaf1809a83fe6d0$export$522c17b4f5e123e8","$9aaf1809a83fe6d0$export$1aabd8a0274ecfd6","$9aaf1809a83fe6d0$export$9b621391a187a31a","$9aaf1809a83fe6d0$export$f5bbd400c2f4426f","$9aaf1809a83fe6d0$var$b","$9aaf1809a83fe6d0$var$c","$9aaf1809a83fe6d0$var$d","$9aaf1809a83fe6d0$var$e","$9aaf1809a83fe6d0$var$f","$9aaf1809a83fe6d0$var$g","$9aaf1809a83fe6d0$var$h","$9aaf1809a83fe6d0$var$k","$9aaf1809a83fe6d0$var$l","$9aaf1809a83fe6d0$var$m","$9aaf1809a83fe6d0$var$n","$9aaf1809a83fe6d0$var$p","$9aaf1809a83fe6d0$var$q","$9aaf1809a83fe6d0$var$r","$9aaf1809a83fe6d0$var$t","$9aaf1809a83fe6d0$var$v","$9aaf1809a83fe6d0$var$w","$9aaf1809a83fe6d0$var$x","$9aaf1809a83fe6d0$var$y","$9aaf1809a83fe6d0$var$z","u","$9aaf1809a83fe6d0$var$A","$19077580f3570f24$export$a7c73072b1a182ae","$19077580f3570f24$export$9f27bc3417b4524d","$19077580f3570f24$export$db77ccec0bb4ccac","$19077580f3570f24$export$8392c0c9d3dcbd35","$19077580f3570f24$export$ffb0004e005737fa","$19077580f3570f24$export$b624eff549462981","$19077580f3570f24$export$7897aa7841a5380c","$19077580f3570f24$export$602eac185826482c","$19077580f3570f24$export$e2c29f18771995cb","$19077580f3570f24$export$5f8d39834fd61797","$19077580f3570f24$export$74bf444e3cd11ea5","$19077580f3570f24$export$998bcd577473dd93","$19077580f3570f24$export$92387174baf9b227","$19077580f3570f24$export$ec112efeb987d9c6","$19077580f3570f24$export$b706b080d889d2c9","$19077580f3570f24$export$5be5a87408f70ddc","$19077580f3570f24$export$45a5e7f76e0caa8d","$19077580f3570f24$export$455c2e768291efa6","$19077580f3570f24$export$9522e17588c12572","$19077580f3570f24$export$2110ac352bb060b9","$19077580f3570f24$export$56885ab8b9c456ab","$19077580f3570f24$export$d927fcb6adf8f9de","$19077580f3570f24$export$b82d16f27459e05a","$19077580f3570f24$export$522c17b4f5e123e8","$19077580f3570f24$export$1aabd8a0274ecfd6","$19077580f3570f24$export$3d6c20d97e46b957","$19077580f3570f24$export$9b621391a187a31a","$19077580f3570f24$export$f5bbd400c2f4426f","$19077580f3570f24$var$u","$19077580f3570f24$var$b","$19077580f3570f24$var$c","$19077580f3570f24$var$d","$19077580f3570f24$var$e","$19077580f3570f24$var$f","$19077580f3570f24$var$g","$19077580f3570f24$var$h","$19077580f3570f24$var$k","$19077580f3570f24$var$l","$19077580f3570f24$var$m","$19077580f3570f24$var$n","$19077580f3570f24$var$p","$19077580f3570f24$var$q","$19077580f3570f24$var$t","$19077580f3570f24$var$v","getModuleId","HashRouter","_ref2","basename","historyRef","React","createHashHistory","v5Compat","history","location","listen","Router","navigationType","navigator","isBrowser","Link","absoluteHref","onClick","relative","reloadDocument","target","to","preventScrollReset","_ref4","rest","$39ed275c1d50c0ca$var$_objectWithoutPropertiesLoose","$39ed275c1d50c0ca$var$_excluded","isExternal","currentUrl","URL","href","targetUrl","startsWith","protocol","origin","pathname","search","hash","useHref","internalOnClick","useLinkClickHandler","replaceProp","navigate","useNavigate","useLocation","path","useResolvedPath","button","metaKey","altKey","ctrlKey","shiftKey","isModifiedEvent","shouldProcessLinkClick","preventDefault","undefined","createPath","$39ed275c1d50c0ca$var$_extends","DataRouterHook","DataRouterStateHook","Action","PopStateEventType","createMemoryHistory","entries","initialEntries","initialIndex","entry","createMemoryLocation","clampIndex","Pop","listener","n","Math","min","max","getCurrentLocation","createLocation","warning","charAt","JSON","stringify","createHref","createURL","encodeLocation","parsePath","Push","nextLocation","delta","Replace","go","nextIndex","createBrowserHistory","getUrlBasedHistory","globalHistory","usr","substr","querySelector","getAttribute","url","hashIndex","invariant","message","cond","console","warn","getHistoryState","idx","$01a1914ce66c0038$var$_extends","random","toString","_ref","parsedPath","searchIndex","getLocation","validateLocation","defaultView","getIndex","handlePop","replaceState","historyState","pushState","ResultType","convertRoutesToDataRoutes","routes","parentPath","allIds","Set","route","treePath","join","has","add","isIndexRoute","matchRoutes","locationArg","stripBasename","branches","flattenRoutes","score","siblings","compareIndexes","routesMeta","meta","childrenIndex","rankRouteBranches","matches","matchRouteBranch","safelyDecodeURI","parentsMeta","flattenRoute","relativePath","caseSensitive","joinPaths","computeScore","_route$path","includes","exploded","explodeOptionalSegments","segments","split","first","isOptional","endsWith","required","restExploded","result","subpath","paramRe","dynamicSegmentValue","indexRouteValue","emptySegmentValue","staticSegmentValue","splatPenalty","isSplat","initialScore","reduce","segment","branch","matchedParams","matchedPathname","end","remainingPathname","match","matchPath","params","pathnameBase","normalizePathname","pattern","matcher","paramNames","regexpSource","_","paramName","RegExp","compilePath","captureGroups","splatValue","decodeURIComponent","safelyDecodeURIComponent","decodeURI","startIndex","nextChar","getInvalidPathError","char","field","dest","getPathContributingMatches","resolveTo","toArg","routePathnames","locationPathname","isPathRelative","from","isEmptyPath","toPathname","routePathnameIndex","toSegments","resolvePath","fromPathname","resolvePathname","normalizeSearch","normalizeHash","hasExplicitTrailingSlash","hasCurrentTrailingSlash","paths","AbortedDeferredError","DeferredData","responseInit","reject","pendingKeysSet","subscribers","deferredKeys","abortPromise","controller","AbortController","onAbort","unlistenAbortSignal","signal","acc","trackPromise","race","onSettle","catch","aborted","emit","settledKey","subscriber","cancel","abort","async","unwrappedData","unwrapTrackedPromise","pendingKeys","_tracked","isTrackedPromise","_error","_data","ErrorResponse","status","statusText","internal","isRouteErrorResponse","validMutationMethodsArr","validMutationMethods","validRequestMethodsArr","validRequestMethods","redirectStatusCodes","redirectPreserveMethodStatusCodes","IDLE_NAVIGATION","formMethod","formAction","formEncType","formData","IDLE_FETCHER","IDLE_BLOCKER","proceed","reset","ABSOLUTE_URL_REGEX","isServer","createRouter","dataRoutes","unlistenHistory","savedScrollPositions","getScrollRestorationKey","getScrollPosition","initialScrollRestored","hydrationData","initialMatches","initialErrors","getInternalRouterError","getShortCircuitMatches","router","pendingNavigationController","initialized","historyAction","navigation","restoreScrollPosition","revalidation","loaderData","actionData","errors","fetchers","blockers","pendingAction","HistoryAction","pendingPreventScrollReset","isUninterruptedRevalidation","isRevalidationRequired","cancelledDeferredRoutes","cancelledFetcherLoads","fetchControllers","incrementingLoadId","pendingNavigationLoadId","fetchReloadIds","fetchRedirectIds","fetchLoadMatches","activeDeferreds","blockerFunctions","ignoreNextHistoryUpdate","updateState","newState","completeNavigation","_location$state","_location$state2","isActionReload","isMutationMethod","_isRedirect","mergeLoaderData","deleteBlocker","getSavedScrollPosition","startNavigation","opts","startUninterruptedRevalidation","userMatches","createUseMatchesMatch","saveScrollPosition","loadingNavigation","overrideNavigation","notFoundMatches","cancelActiveDeferreds","submission","pendingActionData","pendingError","request","createClientSideRequest","findNearestBoundary","actionOutput","interruptActiveLoads","actionMatch","getTargetMatch","callLoaderOrAction","shortCircuited","method","routeId","isRedirectResult","startRedirectNavigation","isErrorResult","boundaryMatch","pendingActionError","isDeferredResult","handleAction","Request","activeSubmission","matchesToLoad","revalidatingFetchers","getMatchesToLoad","rf","fetcher","revalidatingFetcher","results","loaderResults","fetcherResults","callLoadersAndMaybeResolveData","redirect","findRedirect","processLoaderData","deferredData","doneKeys","markFetchersDone","markFetchRedirectsDone","didAbortFetchLoads","abortStaleFetchLoads","handleLoaders","getFetcher","_window","isFetchActionRedirect","revalidate","redirectLocation","_isFetchActionRedirect","newOrigin","redirectHistoryAction","currentMatches","fetchersToLoad","all","resolveDeferredResults","abortFetcher","setFetcherError","deleteFetcher","doneFetcher","landedId","yeetedKeys","updateBlocker","newBlocker","blocker","shouldBlockNavigation","currentLocation","blockerKey","blockerFunction","predicate","cancelledRouteIds","dfd","positions","getPosition","getKey","normalizeNavigateOptions","userReplace","requestMatches","existingFetcher","abortController","fetchRequest","actionResult","loadingFetcher","revalidationRequest","loadId","loadFetcher","staleKey","handleFetcherAction","resolveDeferredData","handleFetcherLoader","clear","_internalFetchControllers","_internalActiveDeferreds","isFetcher","isSubmissionNavigation","isValidMethod","stripHashFromPath","searchParams","convertFormDataToSearchParams","hasNakedIndexQuery","append","getLoaderMatchesUntilBoundary","boundaryId","boundaryMatches","findIndex","values","nextUrl","defaultShouldRevalidate","navigationMatches","currentLoaderData","currentMatch","isMissingData","isNewLoader","currentRouteMatch","nextRouteMatch","shouldRevalidateLoader","currentParams","nextParams","isNewRouteInstance","currentPath","loaderMatch","shouldRevalidate","routeChoice","isStaticRequest","isRouteRequest","requestContext","resultType","onReject","handler","isResponse","headers","resolvedLocation","response","contentType","json","text","statusCode","deferred","toUpperCase","body","URLSearchParams","File","processRouteLoaderData","foundError","loaderHeaders","newLoaderData","mergedLoaderData","hasOwnProperty","find","hasErrorBoundary","_temp4","errorMessage","isRevalidatingLoader","unwrap","resolveData","getAll","handle","pathMatches","checkIfSnapshotChanged","latestGetSnapshot","prevValue","shim","getServerSnapshot","handleStoreChange","DataRouterContext","DataRouterStateContext","NavigationContext","LocationContext","RouteContext","outlet","RouteErrorContext","useInRouterContext","joinedPathname","routePathnamesJson","activeRef","parse","useParams","routeMatch","_temp2","DefaultErrorElement","_state$errors","useDataRouterState","UseRouteError","useCurrentRouteId","useRouteError","stack","lightgrey","preStyles","padding","backgroundColor","fontStyle","RenderErrorBoundary","super","static","$cbf792c318a2120b$export$9072aa6dd1f93057","routeContext","$cbf792c318a2120b$var$RouteErrorContext","RenderedRoute","dataRouterContext","staticContext","errorElement","_deepestRenderedBoundaryId","_renderMatches","parentMatches","dataRouterState","renderedMatches","errorIndex","reduceRight","$cbf792c318a2120b$var$DefaultErrorElement","getChildren","$cbf792c318a2120b$var$RenderedRoute","$cbf792c318a2120b$var$RenderErrorBoundary","useDataRouterContext","hookName","useRouteContext","thisRoute","useNavigation","UseNavigation","useMatches","UseMatches","blockerId","useBlocker","shouldBlock","UseBlocker","String","getBlocker","Route","basenameProp","locationProp","NavigationType","staticProp","navigationContext","trailingPathname","$cbf792c318a2120b$export$26749e8557646306","$cbf792c318a2120b$export$c7914228fb69b0f5","Routes","_ref5","dataRouterStateContext","parentParams","parentPathnameBase","locationFromContext","_parsedLocationArg$pa","parsedLocationArg","$cbf792c318a2120b$var$_extends","useRoutes","createRoutesFromChildren","AwaitRenderStatus","AwaitErrorBoundary","pending","renderError","success","neverSettledPromise","$cbf792c318a2120b$var$AwaitContext","enhanceManualRouteObjects","routeClone","hasOwn","classNames","classes","argType","inner","define","amd","$aFkMf","$60e92b9d0836eeed$var$middleware","$cQkCo","getDefaultMiddleware","$60e92b9d0836eeed$var$store","configureStore","$L81yo","$ee91V","$60e92b9d0836eeed$export$f51d452c10d5b956","$8iIif","useDispatch","$60e92b9d0836eeed$export$a7347740d65f620b","useSelector","$60e92b9d0836eeed$export$2e2bcd8739ae039","initializeUseSelector","$cMnoh","useSyncExternalStoreWithSelector","$4zPUH","initializeConnect","$1OQ0h","setBatch","$1532ccc4d31e273d$var$batch","$1532ccc4d31e273d$export$4b9874722d0da7bc","newBatch","$1532ccc4d31e273d$export$fc47d4c0ba3bd2c6","$7c3dd9a679aad6cb$var$useSyncExternalStoreWithSelector","notInitialized","$7c3dd9a679aad6cb$export$e2e6e3f3f3b782e3","$7c3dd9a679aad6cb$var$refEquality","$7c3dd9a679aad6cb$export$2b53f90d2bd1cbfb","$ikl5V","ReactReduxContext","useReduxContext","$frPWt","selector","equalityFn","store","subscription","getServerState","selectedState","addNestedSub","getState","$7c3dd9a679aad6cb$export$2105062e25df4afe","$b3f1ab43b07a52d0$export$c1275ca9a6fd3ec5","$d57a75378bcbc3b9$export$cc80c08dc91f1c00","$11de9f4e86279280$export$20656a4825650bd0","$3552b33f2e3d1833$var$useSyncExternalStore","$1x7pA","$3552b33f2e3d1833$export$36d45daa6a4925b8","$e133885d0b1e9831$export$2e2bcd8739ae039","source","$1e68ba0013b1ee9c$export$2e2bcd8739ae039","excluded","sourceKeys","$35f9bc7c0d546ba3$var$REACT_STATICS","childContextTypes","contextTypes","getDefaultProps","mixins","propTypes","$35f9bc7c0d546ba3$var$KNOWN_STATICS","caller","callee","arity","$35f9bc7c0d546ba3$var$MEMO_STATICS","compare","$35f9bc7c0d546ba3$var$TYPE_STATICS","$35f9bc7c0d546ba3$var$getStatics","$9rjTY","isMemo","ForwardRef","Memo","$35f9bc7c0d546ba3$var$defineProperty","$35f9bc7c0d546ba3$var$getOwnPropertyNames","getOwnPropertyNames","$35f9bc7c0d546ba3$var$getOwnPropertySymbols","getOwnPropertySymbols","$35f9bc7c0d546ba3$var$getOwnPropertyDescriptor","getOwnPropertyDescriptor","$35f9bc7c0d546ba3$var$getPrototypeOf","getPrototypeOf","$35f9bc7c0d546ba3$var$objectPrototype","$35f9bc7c0d546ba3$var$hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","targetStatics","sourceStatics","descriptor","$2BRKd","$80981b81fa6ad888$var$_excluded","$80981b81fa6ad888$export$d20c0c2ca6eb2b6f","mapStateToProps","mapDispatchToProps","mergeProps","dispatch","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","ownProps","stateProps","dispatchProps","mergedProps","hasRunAtLeastOnce","handleSubsequentCalls","nextState","nextOwnProps","propsChanged","stateChanged","dependsOnOwnProps","nextStateProps","statePropsChanged","handleNewState","$80981b81fa6ad888$export$2e2bcd8739ae039","initMapStateToProps","initMapDispatchToProps","initMergeProps","$3fcfa441d593dc56$export$2e2bcd8739ae039","$hsRUc","$54812fd09cf9289a$export$b69a785ceac019a6","$6q6dz","wrapMapToPropsConstant","wrapMapToPropsFunc","$jUbHN","createInvalidArgFactory","$cb6eddb1eb281c94$export$2e2bcd8739ae039","actionCreators","boundActionCreators","actionCreator","$4ac9fe88a12f15ab$export$710f7c60f68acd3e","getConstant","constant","constantSelector","$4ac9fe88a12f15ab$export$e561b938df936d57","mapToProps","Boolean","$4ac9fe88a12f15ab$export$8d46c7f53c8c602f","methodName","proxy","stateOrDispatch","$071791bfdcfee602$export$2e2bcd8739ae039","proto","baseProto","$e7dc53b950369f2f$export$19ef7b929f7e2559","wrappedComponentName","$f63257e2f622e3b6$export$e00e93951827eda7","$jkJXi","$158180feb958213f$export$691c327fc30bc857","$158180feb958213f$export$17457cf6fa742f84","areMergedPropsEqual","hasRunOnce","nextMergedProps","$158180feb958213f$export$5b105939c84b5234","$8127ffb9d3424624$var$nullListeners","notify","$8127ffb9d3424624$export$d567d2b9af322f8f","parentSub","unsubscribe","listeners","handleChangeWrapper","onStateChange","trySubscribe","batch","getBatch","last","next","isSubscribed","prev","$8127ffb9d3424624$var$createListenerCollection","getListeners","$9c1c33fee38e283b$export$700979bc83e7db82","$c1f9fc182c564350$var$is","$c1f9fc182c564350$export$2e2bcd8739ae039","objA","objB","keysA","keysB","$c2c3489fcfb67404$export$2e2bcd8739ae039","serverState","$b5uJl","createSubscription","previousState","$doYbC","useIsomorphicLayoutEffect","notifyNestedSubs","tryUnsubscribe","Context","$60b25ce0a5ca1c7d$export$bc9b55530897c558","useStore","$g9PMF","createStoreHook","$60b25ce0a5ca1c7d$export$8ad76b76a4c905f8","$bc35a7d5b10ecc7e$export$671dba69185d0304","$bc35a7d5b10ecc7e$export$6ccbb43953eebf8","$959a55ba17eb8649$var$composeWithDevTools","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","$aIL24","compose","__REDUX_DEVTOOLS_EXTENSION__","$959a55ba17eb8649$export$53b83ca8eaab0383","$959a55ba17eb8649$export$20df1e9bd1a54f25","_super","MiddlewareArray","_i","setPrototypeOf","$959a55ba17eb8649$var$__extends","species","arr","prepend","$959a55ba17eb8649$var$__spreadArray","$959a55ba17eb8649$var$freezeDraftable","$bAk5g","isDraftable","$959a55ba17eb8649$export$36c1185aeee5b0a6","_c","thunk","middlewareArray","immutableCheck","serializableCheck","$6dyS1","withExtraArgument","extraArgument","$959a55ba17eb8649$var$IS_PRODUCTION","$959a55ba17eb8649$export$7d8a5b498da695ac","rootReducer","curriedGetDefaultMiddleware","_d","_e","middleware","_f","devTools","_g","preloadedState","_h","enhancers","combineReducers","finalMiddleware","item","middlewareEnhancer","applyMiddleware","finalCompose","$959a55ba17eb8649$var$__spreadValues","trace","storeEnhancers","composedEnhancer","createStore","$959a55ba17eb8649$export$309c7a02b0b0bc62","prepareAction","prepared","payload","$959a55ba17eb8649$var$executeReducerBuilderCallback","builderCallback","defaultCaseReducer","actionsMap","actionMatchers","builder","addCase","typeOrActionCreator","addMatcher","addDefaultCase","$959a55ba17eb8649$export$4d8d9bd83c24ae8b","reducers","reducerNames","sliceCaseReducersByName","sliceCaseReducersByType","buildReducer","extraReducers","finalCaseReducers","mapOrBuilderCallback","getInitialState","finalActionMatchers","finalDefaultCaseReducer","frozenInitialState_1","caseReducers","cr","caseReducer","isDraft","draft","$959a55ba17eb8649$export$473eb76d322d0290","actionMatchers_1","reducerName","prepareCallback","maybeReducerWithPrepare","prepare","actions","$959a55ba17eb8649$export$ac4959f4f1338dfc","$959a55ba17eb8649$var$commonProperties","$959a55ba17eb8649$var$RejectWithValue","$959a55ba17eb8649$var$FulfillWithMeta","$959a55ba17eb8649$export$c97c53d0b2d5d81e","simpleError","commonProperties_1","property","$959a55ba17eb8649$export$6abd22dc03e5063f","createAsyncThunk2","typePrefix","payloadCreator","fulfilled","requestId","$959a55ba17eb8649$var$__spreadProps","requestStatus","rejected","serializeError","rejectedWithValue","condition","AC","class_1","dispatchEvent","onabort","reason","throwIfAborted","extra","abortReason","idGenerator","promise2","$959a55ba17eb8649$var$__async","conditionResult","_a","sent","abortedPromise","_b","getPendingMeta","rejectWithValue","fulfillWithValue","finalAction","err_1","dispatchConditionRejection","$959a55ba17eb8649$export$5b28227b4c5dc983","withTypes","$959a55ba17eb8649$var$alm","queueMicrotask","$parcel$global","globalThis","$959a55ba17eb8649$var$promise","$959a55ba17eb8649$var$createQueueWithTimer","enableES5","die","msg","DRAFT_STATE","Ctor","Function","objectCtorString","DRAFTABLE","_value$constructor","isMap","isSet","each","iter","enumerableOnly","getArchtype","ownKeys","thing","type_","prop","propOrOldValue","t","hasMap","hasSet","latest","copy_","base_","shallowCopy","descriptors","getOwnPropertyDescriptors","desc","create","freeze","deep","isFrozen","dontMutateFrozenCollections","getPlugin","pluginKey","plugin","plugins","loadPlugin","implementation","getCurrentScope","currentScope","usePatchesInScope","scope","patchListener","patches_","inversePatches_","patchListener_","revokeScope","leaveScope","drafts_","revokeDraft","parent_","enterScope","immer","immer_","canAutoFreeze_","unfinalizedDrafts_","revoke_","revoked_","processResult","baseDraft","isReplaced","useProxies_","willFinalizeES5_","modified_","finalize","maybeFreeze","generateReplacementPatches_","NOTHING","rootScope","childValue","finalizeProperty","scope_","finalized_","draft_","resultEach","generatePatches_","parentState","targetObject","rootPath","targetIsSet","res","assigned_","autoFreeze_","peek","getDescriptorFromProto","markChanged","prepareCopy","createProxy","proxyMap_","proxySet_","isManual_","traps","objectTraps","arrayTraps","Proxy","revocable","revoke","createES5Proxy_","currentImpl","copy","archType","hasChanges_","copyHelper","proxyProperty","markChangesSweep","drafts","hasArrayChanges","hasObjectChanges","baseValue","baseIsDraft","markChangesRecursively","object","hasSymbol","hasProxies","Reflect","$86f2a2bb221f74aa$var$G","iterator","_desc$get","currentState","Number","isNaN","deleteProperty","owner","Immer","config","produce","recipe","defaultBase","self","_this2","hasError","ip","produceWithPatches","patches","inversePatches","useProxies","setUseProxies","autoFreeze","setAutoFreeze","createDraft","finishDraft","applyPatches","patch","op","applyPatchesImpl","applyPatches_","$gtdwt","$7ce27f1e58e53b02$var$formatProdErrorMessage","code","$7ce27f1e58e53b02$var$$$observable","observable","$7ce27f1e58e53b02$var$randomString","substring","$7ce27f1e58e53b02$export$4219e499db7ca678","INIT","REPLACE","PROBE_UNKNOWN_ACTION","$7ce27f1e58e53b02$var$isPlainObject","$7ce27f1e58e53b02$export$f51a9068ac82ea43","enhancer","currentReducer","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","replaceReducer","nextReducer","outerSubscribe","observer","observeState","$7ce27f1e58e53b02$export$66e4520cdb265d18","reducerKeys","finalReducers","shapeAssertionError","finalReducerKeys","$7ce27f1e58e53b02$var$assertReducerShape","hasChanged","_key","previousStateForKey","nextStateForKey","$7ce27f1e58e53b02$export$f672e0b6f7222cd7","_len","funcs","$7ce27f1e58e53b02$export$9ff26e0402cc7b7","middlewares","_dispatch","middlewareAPI","chain","$dMEpi","$bfd9d820e5d649ff$var$ownKeys","symbols","sym","$bfd9d820e5d649ff$export$2e2bcd8739ae039","defineProperties","$doqkt","$a08f1a0f4ba56e15$export$2e2bcd8739ae039","$f4zsC","$9c01f0b6057b0d1c$export$2e2bcd8739ae039","$e47G4","$af92bc7dcd569e4d$export$2e2bcd8739ae039","$a3d765099a72c90f$export$2e2bcd8739ae039","input","hint","prim","toPrimitive","TypeError","$6f1edda994061afd$export$5943f4447f6ef248","memoize","memoizeOptionsFromArgs","_len2","_key2","_lastResult","_recomputations","directlyPassedOptions","memoizeOptions","resultFunc","_directlyPassedOption2","finalMemoizeOptions","dependencies","dep","dependencyTypes","$6f1edda994061afd$var$getDependencies","memoizedResultFunc","lastResult","recomputations","resetRecomputations","$6f1edda994061afd$export$595d22ed68ca2841","defaultMemoize","$8d9a922366a398ba$var$NOT_FOUND","$8d9a922366a398ba$export$e0b28855d0126ccc","$8d9a922366a398ba$export$281bff7f05488aa2","func","equalityCheckOrOptions","equals","providedOptions","equalityCheck","_providedOptions$equa","_providedOptions$maxS","maxSize","resultEqualityCheck","comparator","$8d9a922366a398ba$export$823674481ed171f9","cache","put","getEntries","cacheIndex","unshift","$8d9a922366a398ba$var$createLruCache","memoized","matchingEntry","clearCache","$486f017d3514adda$var$createThunkMiddleware","$486f017d3514adda$var$thunk","$486f017d3514adda$export$2e2bcd8739ae039","$371a3837fd81d701$var$cachedSetTimeout","$371a3837fd81d701$var$cachedClearTimeout","$371a3837fd81d701$var$process","$371a3837fd81d701$var$defaultSetTimout","$371a3837fd81d701$var$defaultClearTimeout","$371a3837fd81d701$var$runTimeout","fun","$371a3837fd81d701$var$currentQueue","$371a3837fd81d701$var$queue","$371a3837fd81d701$var$draining","$371a3837fd81d701$var$queueIndex","$371a3837fd81d701$var$cleanUpNextTick","$371a3837fd81d701$var$drainQueue","len","run","marker","$371a3837fd81d701$var$runClearTimeout","$371a3837fd81d701$var$Item","array","$371a3837fd81d701$var$noop","nextTick","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","$4864d0310d5dfdbc$export$5caf5a6e1fbce8f1","createAsyncThunk","fetch","$eDZFg","OBJECT_STORE_ASSETS_URL","PHOTO_SIZE_PREFIXES","SMALL","$parcel$interopDefault","$6RLiq","parseStringPromise","ListBucketResult","Contents","Key","small","medium","MEDIUM","large","LARGE","$4864d0310d5dfdbc$export$2e2bcd8739ae039","createSlice","photoSets","defaults","parser","processors","hasProp","ValidationError","superClass","__super__","extend","Builder","Parser","parseString","explicitCharkey","trim","normalize","normalizeTags","attrkey","charkey","explicitArray","ignoreAttrs","mergeAttrs","explicitRoot","validator","xmlns","explicitChildren","childkey","charsAsChildren","includeWhiteChars","strict","attrNameProcessors","attrValueProcessors","tagNameProcessors","valueProcessors","emptyTag","preserveChildrenOrder","rootName","xmldec","encoding","standalone","doctype","renderOpts","pretty","indent","newline","headless","chunkSize","cdata","escapeCDATA","requiresCDATA","wrapCDATA","buildObject","rootObj","rootElement","attr","raw","txt","ele","up","att","allowSurrogateChars","NodeType","WriterState","XMLDOMImplementation","XMLDocument","XMLDocumentCB","XMLStreamWriter","XMLStringWriter","isFunction","doc","declaration","pubID","sysID","dtd","begin","onData","onEnd","ref1","stringWriter","streamWriter","stream","writerState","getValue","isEmpty","isObject","isPlainObject","sources","valueOf","hasFeature","feature","createDocumentType","qualifiedName","publicId","systemId","createDocument","namespaceURI","createHTMLDocument","getFeature","XMLDOMConfiguration","XMLNode","XMLStringifier","Document","documentURI","domConfig","writer","DocType","rootObject","Declaration","writerOptions","filterOptions","tagName","debugInfo","createDocumentFragment","createComment","createCDATASection","createProcessingInstruction","createAttribute","createEntityReference","getElementsByTagName","tagname","importNode","importedNode","createAttributeNS","getElementsByTagNameNS","getElementById","elementId","adoptNode","normalizeDocument","renameNode","getElementsByClassName","createEvent","eventInterface","createRange","createNodeIterator","whatToShow","createTreeWalker","XMLDOMErrorHandler","XMLDOMStringList","defaultParams","comments","entities","infoset","namespaces","validate","getParameter","canSetParameter","setParameter","handleError","contains","str","DocumentPosition","XMLCData","XMLComment","XMLDeclaration","XMLDocType","XMLDummy","XMLElement","XMLNodeList","XMLProcessingInstruction","XMLRaw","XMLText","parent1","baseURI","childNodeList","nodes","ref2","Element","DocumentFragment","setParent","childNode","lastChild","len1","ref3","ignoreDecorators","convertAttKey","attribute","separateArrayItems","dummy","keepNullNodes","convertTextKey","convertCDataKey","convertCommentKey","comment","convertRawKey","convertPIKey","instruction","newChild","refChild","removed","isRoot","insertAfter","remove","commentBefore","commentAfter","insTarget","insValue","instructionBefore","instructionAfter","importDocument","clonedRoot","nod","dat","com","ins","dec","importXMLBuilder","replaceChild","oldChild","hasChildNodes","cloneNode","isSupported","hasAttributes","attribs","compareDocumentPosition","other","Disconnected","ImplementationSpecific","Preceding","Following","isAncestor","Contains","isDescendant","isPreceding","isSameNode","lookupPrefix","isDefaultNamespace","lookupNamespaceURI","prefix","isEqualNode","setUserData","getUserData","nodePos","thisPos","treePosition","isFollowing","found","pos","foreachTreeNode","XMLAttribute","XMLNamedNodeMap","schemaTypeInfo","documentObject","attributeMap","attName","clonedSelf","clonedChild","attValue","keepNullAttributes","getAttributeNode","setAttributeNode","newAttr","removeAttributeNode","oldAttr","getAttributeNS","setAttributeNS","removeAttributeNS","getAttributeNodeNS","setAttributeNodeNS","hasAttribute","hasAttributeNS","setIdAttribute","isId","setIdAttributeNS","setIdAttributeNode","idAttr","Attribute","Text","CData","EntityReference","EntityDeclaration","ProcessingInstruction","Comment","NotationDeclaration","Raw","AttributeDeclaration","ElementDeclaration","Dummy","getNamedItem","setNamedItem","oldNode","nodeName","removeNamedItem","getNamedItemNS","setNamedItemNS","removeNamedItemNS","XMLCharacterData","substringData","offset","appendData","insertData","deleteData","replaceData","xmlVersion","xmlEncoding","xmlStandalone","XMLDTDAttList","XMLDTDElement","XMLDTDEntity","XMLDTDNotation","dtdPubID","dtdSysID","pe","attList","elementName","attributeName","attributeType","defaultValueType","entity","pEntity","notation","docType","ent","pent","not","dtdAttType","dtdAttDefault","dtdAttList","nData","dtdNData","dtdEntityValue","dtdEntity","dtdElementValue","dtdElement","dtdNotation","previousSibling","splitText","replaceWholeText","content","processingInstruction","ContainedBy","me","assertLegalName","assertLegalChar","noValidation","textEscape","attEscape","regex","ampregex","noDoubleEncoding","XMLWriterBase","writeChildNode","filteredOptions","ref4","ref5","ref6","allowEmpty","dontPrettyTextNodes","dontprettytextnodes","spaceBeforeSlash","spacebeforeslash","suppressPrettyCount","user","None","level","indentLevel","endline","openAttribute","closeAttribute","openNode","OpenTag","InsideTag","CloseTag","closeNode","childNodeCount","firstChildNode","prettySuppressed","onDataCallback","onEndCallback","currentNode","currentLevel","openTags","documentStarted","documentCompleted","createChildNode","openCurrent","oldValidationFlag","rootNodeName","chunk","isOpen","isClosed","isLastRootNode","write","bom","events","isValidKey","processItem","sax","setImmediate","assignOrPush","processAsync","xmlnskey","remaining","saxParser","close","error1","errThrown","newValue","ontext","onerror","resume","onend","ended","resultObject","EXPLICIT_CHARKEY","onopentag","processedKey","uri","local","onclosetag","emptyStr","objClone","xpath","charChild","oncdata","stripBOM","opt","SAXParser","SAXStream","createStream","MAX_BUFFER_LENGTH","Stream","buffers","clearBuffers","q","bufferCheckPosition","lowercase","lowercasetags","looseCase","tags","closed","closedRoot","sawRoot","tag","noscript","S","BEGIN","strictEntities","ENTITIES","XML_ENTITIES","attribList","ns","rootNS","trackPosition","position","line","column","EVENTS","F","BEGIN_WHITESPACE","beginWhiteSpace","TEXT","starti","textNode","isWhitespace","strictFail","TEXT_ENTITY","OPEN_WAKA","startTagPosition","SCRIPT","SCRIPT_ENDING","script","CLOSE_TAG","SGML_DECL","sgmlDecl","isMatch","nameStart","OPEN_TAG","PROC_INST","procInstName","procInstBody","pad","CDATA","emitNode","COMMENT","DOCTYPE","isQuote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","textopts","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","nameBody","newTag","openTag","OPEN_TAG_SLASH","ATTRIB","closeTag","attribName","attribValue","ATTRIB_NAME","ATTRIB_VALUE","attrib","ATTRIB_NAME_SAW_WHITE","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","isAttribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","notMatch","returnState","buffer","parseEntity","entityBody","entityStart","maxAllowed","maxActual","closeText","checkBufferLength","flush","ex","streamWraps","ev","_parser","readable","er","_decoder","h","$b72bbb8cf6d05553$require$Buffer","isBuffer","SD","StringDecoder","XML_NAMESPACE","XMLNS_NAMESPACE","xml","stringFromCharCode","floor","fromCodePoint","STATE","COMMENT_STARTING","amp","gt","lt","quot","apos","AElig","Aacute","Acirc","Agrave","Aring","Atilde","Auml","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","Iacute","Icirc","Igrave","Iuml","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","aelig","agrave","aring","atilde","auml","ccedil","eacute","ecirc","egrave","eth","euml","iacute","icirc","igrave","iuml","ntilde","oacute","ocirc","ograve","oslash","otilde","ouml","szlig","thorn","uacute","ucirc","ugrave","uuml","yacute","yuml","reg","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","shy","macr","deg","plusmn","sup1","sup2","sup3","acute","micro","para","middot","cedil","ordm","raquo","frac14","frac12","frac34","iquest","times","divide","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","frasl","euro","image","weierp","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","lang","rang","loz","spades","clubs","hearts","diams","fromCharCode","qname","qualName","qn","selfClosing","nv","isSelfClosing","closeTo","num","entityLC","numStr","parseInt","highSurrogate","lowSurrogate","codeUnits","codePoint","isFinite","RangeError","$f0c4416a745b85a1$export$a143d493d941bafc","$f0c4416a745b85a1$export$e4cf37d7f6fb9e0a","$f0c4416a745b85a1$export$f99ded8fe4b79145","$f0c4416a745b85a1$export$599f31c3813fae4d","$f0c4416a745b85a1$var$customInspectSymbol","$f0c4416a745b85a1$var$Buffer","alloc","$f0c4416a745b85a1$var$K_MAX_LENGTH","$f0c4416a745b85a1$var$createBuffer","buf","Uint8Array","encodingOrOffset","$f0c4416a745b85a1$var$allocUnsafe","$f0c4416a745b85a1$var$from","string","isEncoding","$f0c4416a745b85a1$var$byteLength","actual","$f0c4416a745b85a1$var$fromString","ArrayBuffer","isView","arrayView","$f0c4416a745b85a1$var$isInstance","$f0c4416a745b85a1$var$fromArrayBuffer","byteOffset","byteLength","$f0c4416a745b85a1$var$fromArrayLike","$f0c4416a745b85a1$var$fromArrayView","SharedArrayBuffer","$f0c4416a745b85a1$var$checked","$f0c4416a745b85a1$var$numberIsNaN","$f0c4416a745b85a1$var$fromObject","$f0c4416a745b85a1$var$assertSize","mustMatch","loweredCase","$f0c4416a745b85a1$var$utf8ToBytes","$f0c4416a745b85a1$var$base64ToBytes","$f0c4416a745b85a1$var$slowToString","start","$f0c4416a745b85a1$var$hexSlice","$f0c4416a745b85a1$var$utf8Slice","$f0c4416a745b85a1$var$asciiSlice","$f0c4416a745b85a1$var$latin1Slice","$f0c4416a745b85a1$var$base64Slice","$f0c4416a745b85a1$var$utf16leSlice","$f0c4416a745b85a1$var$swap","$f0c4416a745b85a1$var$bidirectionalIndexOf","$f0c4416a745b85a1$var$arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","$f0c4416a745b85a1$var$hexWrite","strLen","parsed","$f0c4416a745b85a1$var$utf8Write","$f0c4416a745b85a1$var$blitBuffer","$f0c4416a745b85a1$var$asciiWrite","byteArray","charCodeAt","$f0c4416a745b85a1$var$asciiToBytes","$f0c4416a745b85a1$var$base64Write","$f0c4416a745b85a1$var$ucs2Write","units","hi","lo","$f0c4416a745b85a1$var$utf16leToBytes","$6ocIT","fromByteArray","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","bytesPerSequence","codePoints","$f0c4416a745b85a1$var$MAX_ARGUMENTS_LENGTH","$f0c4416a745b85a1$var$decodeCodePointsArray","TYPED_ARRAY_SUPPORT","foo","$f0c4416a745b85a1$var$typedArraySupport","poolSize","fill","$f0c4416a745b85a1$var$alloc","allocUnsafe","allocUnsafeSlow","_isBuffer","swap16","swap32","swap64","toLocaleString","inspect","thisStart","thisEnd","thisCopy","targetCopy","toJSON","_arr","ret","$f0c4416a745b85a1$var$hexSliceLookupTable","bytes","$f0c4416a745b85a1$var$checkOffset","ext","$f0c4416a745b85a1$var$checkInt","$f0c4416a745b85a1$var$checkIEEE754","$f0c4416a745b85a1$var$writeFloat","littleEndian","noAssert","$1wLos","$f0c4416a745b85a1$var$writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","$f0c4416a745b85a1$var$INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","$f0c4416a745b85a1$var$base64clean","src","dst","alphabet","table","i16","$4a6eda7d0e4e0857$export$d622b2ad8d90c771","$4a6eda7d0e4e0857$export$6100ba28696e12de","b64","lens","$4a6eda7d0e4e0857$var$getLens","validLen","placeHoldersLen","$4a6eda7d0e4e0857$var$Arr","$4a6eda7d0e4e0857$var$_byteLength","curByte","$4a6eda7d0e4e0857$var$revLookup","uint8","extraBytes","parts","maxChunkLength","len2","$4a6eda7d0e4e0857$var$encodeChunk","$4a6eda7d0e4e0857$var$lookup","$4a6eda7d0e4e0857$var$code","$4a6eda7d0e4e0857$var$i","$4a6eda7d0e4e0857$var$len","output","$11cd8afb6c84e33a$export$aafa59e2e03f2942","$11cd8afb6c84e33a$export$68d8715fc104d294","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","log","LN2","$e2a68dd7b8e7177c$var$Stream","EventEmitter","$e2a68dd7b8e7177c$require$EE","$9YOog","Readable","Writable","Duplex","Transform","PassThrough","finished","pipeline","pipe","ondata","pause","ondrain","_isStdio","onclose","didOnEnd","destroy","listenerCount","$7185676dc7ed1f58$var$ReflectOwnKeys","$7185676dc7ed1f58$var$R","$7185676dc7ed1f58$var$ReflectApply","receiver","$7185676dc7ed1f58$var$NumberIsNaN","$7185676dc7ed1f58$var$EventEmitter","emitter","errorListener","resolver","$7185676dc7ed1f58$var$eventTargetAgnosticAddListener","flags","$7185676dc7ed1f58$var$addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","$7185676dc7ed1f58$var$defaultMaxListeners","$7185676dc7ed1f58$var$checkListener","$7185676dc7ed1f58$var$_getMaxListeners","that","defaultMaxListeners","$7185676dc7ed1f58$var$_addListener","existing","newListener","warned","w","$7185676dc7ed1f58$var$onceWrapper","fired","wrapFn","$7185676dc7ed1f58$var$_onceWrap","wrapped","$7185676dc7ed1f58$var$_listeners","evlistener","$7185676dc7ed1f58$var$unwrapListeners","$7185676dc7ed1f58$var$arrayClone","$7185676dc7ed1f58$var$listenerCount","wrapListener","setMaxListeners","getMaxListeners","doError","originalListener","$7185676dc7ed1f58$var$spliceOne","rawListeners","eventNames","superCtor","super_","TempCtor","$a7f267d960e237f5$var$Duplex","$4Jj9n","$a7f267d960e237f5$var$Readable","ReadableState","$a7f267d960e237f5$var$ReadableState","$a7f267d960e237f5$var$EElistenerCount","Buffer","$a7f267d960e237f5$var$OurUint8Array","$a7f267d960e237f5$var$debug","$gfQbM","debuglog","$a7f267d960e237f5$var$getHighWaterMark","getHighWaterMark","codes","$a7f267d960e237f5$var$ERR_INVALID_ARG_TYPE","$a7f267d960e237f5$require$_require$codes","ERR_INVALID_ARG_TYPE","$a7f267d960e237f5$var$ERR_STREAM_PUSH_AFTER_EOF","ERR_STREAM_PUSH_AFTER_EOF","$a7f267d960e237f5$var$ERR_METHOD_NOT_IMPLEMENTED","ERR_METHOD_NOT_IMPLEMENTED","$a7f267d960e237f5$var$ERR_STREAM_UNSHIFT_AFTER_END_EVENT","ERR_STREAM_UNSHIFT_AFTER_END_EVENT","$a7f267d960e237f5$var$StringDecoder","$a7f267d960e237f5$var$createReadableStreamAsyncIterator","$a7f267d960e237f5$var$from","$aJhrI","$a7f267d960e237f5$var$errorOrDestroy","$fH6fL","errorOrDestroy","$a7f267d960e237f5$var$kProxyEvents","isDuplex","objectMode","readableObjectMode","highWaterMark","$7BdQ1","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","paused","emitClose","autoDestroy","destroyed","defaultEncoding","awaitDrain","readingMore","decoder","_readableState","_read","_destroy","$a7f267d960e237f5$var$readableAddChunk","addToFront","skipChunkCheck","$a7f267d960e237f5$var$emitReadable","$a7f267d960e237f5$var$emitReadable_","$a7f267d960e237f5$var$onEofChunk","$a7f267d960e237f5$require$Buffer","$a7f267d960e237f5$var$chunkInvalid","$a7f267d960e237f5$var$_uint8ArrayToBuffer","$a7f267d960e237f5$var$addChunk","$a7f267d960e237f5$var$maybeReadMore","_undestroy","undestroy","isPaused","setEncoding","enc","head","$a7f267d960e237f5$var$MAX_HWM","$a7f267d960e237f5$var$howMuchToRead","$a7f267d960e237f5$var$computeNewHighWaterMark","$a7f267d960e237f5$var$flow","$a7f267d960e237f5$var$maybeReadMore_","$a7f267d960e237f5$var$updateReadableListening","self1","$a7f267d960e237f5$var$nReadingNextTick","$a7f267d960e237f5$var$resume_","$a7f267d960e237f5$var$fromList","consume","$a7f267d960e237f5$var$endReadable","$a7f267d960e237f5$var$endReadableNT","wState","_writableState","$a7f267d960e237f5$var$indexOf","xs","nOrig","doRead","pipeOpts","endFn","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onfinish","cleanedUp","needDrain","$a7f267d960e237f5$var$pipeOnDrain","$a7f267d960e237f5$var$prependListener","dests","$a7f267d960e237f5$var$resume","wrap","asyncIterator","_fromList","iterable","$5886b911472f9472$var$ownKeys","$5886b911472f9472$var$_objectSpread","$5886b911472f9472$var$_defineProperty","$5886b911472f9472$var$_toPrimitive","$5886b911472f9472$var$_toPropertyKey","$5886b911472f9472$var$Buffer","$5886b911472f9472$var$inspect","$5886b911472f9472$var$custom","custom","tail","hasStrings","_getString","_getBuffer","nb","depth","customInspect","$b6cfb8eddc3bd0a2$var$emitErrorAndCloseNT","$b6cfb8eddc3bd0a2$var$emitErrorNT","$b6cfb8eddc3bd0a2$var$emitCloseNT","readableDestroyed","writableDestroyed","errorEmitted","ending","finalCalled","prefinished","rState","$fab483b875c0b628$var$ERR_INVALID_OPT_VALUE","ERR_INVALID_OPT_VALUE","duplexKey","hwm","$fab483b875c0b628$var$highWaterMarkFrom","$8d281eb695127b59$export$e45cb6485273080e","$8d281eb695127b59$var$codes","$8d281eb695127b59$var$createErrorType","Base","NodeError","_Base","subClass","arg1","arg2","arg3","getMessage","__proto__","$8d281eb695127b59$var$oneOf","expected","determiner","this_len","$8d281eb695127b59$var$endsWith","$8d281eb695127b59$var$includes","$d34a4af1c2714df3$var$objectKeys","$d34a4af1c2714df3$var$Duplex","$epYB5","$lhfKS","$d34a4af1c2714df3$var$v","allowHalfOpen","$d34a4af1c2714df3$var$onend","$d34a4af1c2714df3$var$onEndNT","getBuffer","$f7d76821f49f42e8$var$Duplex","$f7d76821f49f42e8$var$CorkedRequest","finish","corkReq","pendingcb","corkedRequestsFree","$f7d76821f49f42e8$var$onCorkedFinish","$f7d76821f49f42e8$var$Writable","WritableState","$f7d76821f49f42e8$var$WritableState","$f7d76821f49f42e8$var$internalUtil","deprecate","$f7d76821f49f42e8$var$OurUint8Array","$f7d76821f49f42e8$var$getHighWaterMark","$f7d76821f49f42e8$var$ERR_INVALID_ARG_TYPE","$f7d76821f49f42e8$require$_require$codes","$f7d76821f49f42e8$var$ERR_METHOD_NOT_IMPLEMENTED","$f7d76821f49f42e8$var$ERR_MULTIPLE_CALLBACK","ERR_MULTIPLE_CALLBACK","$f7d76821f49f42e8$var$ERR_STREAM_CANNOT_PIPE","ERR_STREAM_CANNOT_PIPE","$f7d76821f49f42e8$var$ERR_STREAM_DESTROYED","ERR_STREAM_DESTROYED","$f7d76821f49f42e8$var$ERR_STREAM_NULL_VALUES","ERR_STREAM_NULL_VALUES","$f7d76821f49f42e8$var$ERR_STREAM_WRITE_AFTER_END","ERR_STREAM_WRITE_AFTER_END","$f7d76821f49f42e8$var$ERR_UNKNOWN_ENCODING","ERR_UNKNOWN_ENCODING","$f7d76821f49f42e8$var$errorOrDestroy","$f7d76821f49f42e8$var$nop","writableObjectMode","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writecb","writelen","$f7d76821f49f42e8$var$onwriteStateUpdate","$f7d76821f49f42e8$var$finishMaybe","$f7d76821f49f42e8$var$onwriteError","$f7d76821f49f42e8$var$needFinish","bufferedRequest","$f7d76821f49f42e8$var$clearBuffer","$f7d76821f49f42e8$var$afterWrite","$f7d76821f49f42e8$var$onwrite","lastBufferedRequest","bufferedRequestCount","$f7d76821f49f42e8$var$realHasInstance","_write","writev","_writev","final","_final","$f7d76821f49f42e8$var$doWrite","$f7d76821f49f42e8$var$onwriteDrain","holder","allBuffers","isBuf","$f7d76821f49f42e8$var$callFinal","need","$f7d76821f49f42e8$var$prefinish","hasInstance","$f7d76821f49f42e8$require$Buffer","$f7d76821f49f42e8$var$_uint8ArrayToBuffer","$f7d76821f49f42e8$var$writeAfterEnd","$f7d76821f49f42e8$var$validChunk","newChunk","$f7d76821f49f42e8$var$decodeChunk","$f7d76821f49f42e8$var$writeOrBuffer","cork","uncork","setDefaultEncoding","$f7d76821f49f42e8$var$endWritable","$c9350b7e6b7672af$var$config","localStorage","$b3cff28e2ef33ead$export$63a7aa211a91ed69","$b3cff28e2ef33ead$var$isEncoding","$b3cff28e2ef33ead$require$Buffer","$b3cff28e2ef33ead$var$StringDecoder","nenc","retried","$b3cff28e2ef33ead$var$_normalizeEncoding","$b3cff28e2ef33ead$var$normalizeEncoding","$b3cff28e2ef33ead$var$utf16Text","$b3cff28e2ef33ead$var$utf16End","fillLast","$b3cff28e2ef33ead$var$utf8FillLast","$b3cff28e2ef33ead$var$base64Text","$b3cff28e2ef33ead$var$base64End","$b3cff28e2ef33ead$var$simpleWrite","$b3cff28e2ef33ead$var$simpleEnd","lastNeed","lastTotal","lastChar","$b3cff28e2ef33ead$var$utf8CheckByte","byte","$b3cff28e2ef33ead$var$utf8CheckExtraBytes","total","$b3cff28e2ef33ead$var$utf8CheckIncomplete","$kFATv","$dfba39cd620cd3d7$var$Buffer","$dfba39cd620cd3d7$var$copyProps","$dfba39cd620cd3d7$var$SafeBuffer","SlowBuffer","$c06401b201a81e15$var$kLastResolve","$c06401b201a81e15$var$kLastReject","$c06401b201a81e15$var$kError","$c06401b201a81e15$var$kEnded","$c06401b201a81e15$var$kLastPromise","$c06401b201a81e15$var$kHandlePromise","$c06401b201a81e15$var$kStream","$c06401b201a81e15$var$createIterResult","$c06401b201a81e15$var$readAndResolve","$c06401b201a81e15$var$onReadable","$c06401b201a81e15$var$AsyncIteratorPrototype","$c06401b201a81e15$var$ReadableStreamAsyncIteratorPrototype","lastPromise","$c06401b201a81e15$var$wrapForNext","return","$aVFmL","$7f4f50ba6458f349$var$ERR_STREAM_PREMATURE_CLOSE","ERR_STREAM_PREMATURE_CLOSE","$7f4f50ba6458f349$var$noop","$7f4f50ba6458f349$var$eos","called","$7f4f50ba6458f349$var$once","onlegacyfinish","writableEnded","readableEnded","onrequest","req","setHeader","$7f4f50ba6458f349$var$isRequest","$616a5597e0e8dbe7$var$Transform","$616a5597e0e8dbe7$var$ERR_METHOD_NOT_IMPLEMENTED","$616a5597e0e8dbe7$require$_require$codes","$616a5597e0e8dbe7$var$ERR_MULTIPLE_CALLBACK","$616a5597e0e8dbe7$var$ERR_TRANSFORM_ALREADY_TRANSFORMING","ERR_TRANSFORM_ALREADY_TRANSFORMING","$616a5597e0e8dbe7$var$ERR_TRANSFORM_WITH_LENGTH_0","ERR_TRANSFORM_WITH_LENGTH_0","$616a5597e0e8dbe7$var$afterTransform","ts","_transformState","transforming","writechunk","rs","$i8GX9","afterTransform","needTransform","writeencoding","transform","_transform","_flush","$616a5597e0e8dbe7$var$prefinish","$616a5597e0e8dbe7$var$done","err2","$5f49f8dd32fa15dd$var$PassThrough","$8mxsG","$60d6cb13a152758d$var$eos","$60d6cb13a152758d$var$ERR_MISSING_ARGS","$60d6cb13a152758d$require$_require$codes","ERR_MISSING_ARGS","$60d6cb13a152758d$var$ERR_STREAM_DESTROYED","$60d6cb13a152758d$var$noop","$60d6cb13a152758d$var$call","$60d6cb13a152758d$var$pipe","streams","$60d6cb13a152758d$var$popCallback","destroys","$60d6cb13a152758d$var$once","$60d6cb13a152758d$var$isRequest","$60d6cb13a152758d$var$destroyer","prefixMatch","firstCharLowerCase","stripPrefix","parseNumbers","parseFloat","parseBooleans","$f21a19ee99ca1b6c$var$scope","$f21a19ee99ca1b6c$var$apply","$f21a19ee99ca1b6c$var$Timeout","clearFn","_id","_clearFn","setInterval","clearInterval","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","global1","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","attachTo","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","documentElement","onreadystatechange","attachEvent","task","$5a2c22163a18c545$export$562ee62be4e3a039","$5a2c22163a18c545$export$eabc8e241f53527e","$5a2c22163a18c545$export$10c52914be32466e","$5a2c22163a18c545$export$65d01d0723d16e7","$5a2c22163a18c545$export$899f14ba2be7581a","$5a2c22163a18c545$export$59e051695c21d6a0","$5a2c22163a18c545$export$8186074483b6468","$5a2c22163a18c545$export$702dd1129c4aa79","$5a2c22163a18c545$export$a72bcbd5fbbe59ae","$5a2c22163a18c545$export$2f77f76e3aa4cf32","$5a2c22163a18c545$export$3ddb0e40bd6e6962","ABOUT_ME","$0c24893f0012782e$var$LOCAL_STORAGE_KEY","$0c24893f0012782e$export$14faa19a0f3bbeb2","Theme","$0c24893f0012782e$var$initialState","theme","LIGHTMODE","transitioning","classList","$0c24893f0012782e$var$localStorageState","getItem","$0c24893f0012782e$export$2e49b867b7a0847c","$0c24893f0012782e$export$2e2bcd8739ae039","setItem","$lKtKv","$2d0f7fb41b4563d0$export$b89a827e9254211a","aspect","loading","jsxs","$9sY3z","$36zSY","frame","hidden","jsx","viewBox","$242dc4c2fe344c17$export$2cef06c20297c17d","$242dc4c2fe344c17$export$73920f18ca706874","$1eb955e7add2f3a2$export$60332b2344f7fe41","primary","secondary","tertiary","$hkyTG","card","card_clickable","$8uSVe","Image","$0c58f7c4ef4d940b$export$3e431a229df88919","alt","setLoading","$gHXkF","Frame","onLoad","$c9df5fc6f1cdaed0$export$aa3e815946b80764","$c9df5fc6f1cdaed0$export$be07e4fb18b23c63","import","$kOvc0","bundle","existingLinks","link","rel","onload","$f270ac624d09cfe8$var$cachedBundles","$f270ac624d09cfe8$var$cachedPreloads","$f270ac624d09cfe8$var$cachedPrefetches","$f270ac624d09cfe8$var$getCache","register","$900cab997d37145e$export$2e2bcd8739ae039","width","height","stroke","$b8b47e5069b2642d$export$2e2bcd8739ae039","iconName","iconNode","color","strokeWidth","attrs","$ad8545cca99e9538$export$2e2bcd8739ae039","x1","y1","x2","y2","$62bb555c854575c4$export$f1d48043bfe61397","$57fe889c272fa4a1$export$c25acd513dcc8062","buttonProps","$62bb555c854575c4$exports","icon_button","$345dbbeba685b1eb$export$2e2bcd8739ae039","$271378175d6cc353$export$2e2bcd8739ae039","cx","cy","$f1c5e097a4f43d50$export$c50dd126ad3d038c","$fcfa59f26f651310$export$173e0a822059eddc","$hTxeE","useAppDispatch","useAppSelector","DARKMODE","$f1c5e097a4f43d50$exports","theme_toggle","setTheme","dispatchSetTheme","$c02288d2bafa3ca8$export$b3219800bda33a1f","$c02288d2bafa3ca8$export$db3c28d99448dcff","$c02288d2bafa3ca8$export$1f32967c720dcf38","$c02288d2bafa3ca8$export$97aac956da55dae9","$c02288d2bafa3ca8$export$52105d146316f63c","$c02288d2bafa3ca8$export$8c8baa483d5a7ab9","$b667f2106399fa36$export$c84671f46d6a1ca","$hvI8U","expanded","setExpanded","comparePaths","$c02288d2bafa3ca8$exports","layout","menu_button","logo","navlink","$490e4442775b2475$export$92a576f896a9bf72","$490e4442775b2475$var$Turbulence","baseFrequency","numOctaves","seed","in","in2","scale","$476f0f16cc5b2433$export$f4c5de44377d2946","$502611f0970d3bff$export$3b0d6d7590275603","$476f0f16cc5b2433$exports","$8305f5545719a0b2$export$9f723b75f1efe23a","LARGER_THAN_XS","LARGER_THAN_SM","LARGER_THAN_MD","MOBILE","$8305f5545719a0b2$export$32d5543ab307c01","query","setMatches","matchMedia","mediaQuery","$fff468f16ece809d$export$2cef06c20297c17d","$cc3c13fd7138118c$export$b32b5f1ee4493319","mobileAspect","isLargerThanSM","shouldUseMobileAspect","$fff468f16ece809d$exports","$1d831b210d16a211$export$43a727a089b38f7d","$1d831b210d16a211$export$32bec1ec95b0cb0e","$114f66a389fc0b16$export$6ada6b37d6c07d52","svg","$1d831b210d16a211$exports","svg_overlay","image_svg_overlay","$b312eb443621743b$export$2a67bdfb23584fb8","$b312eb443621743b$export$662c0913931e272f","$99e7cec40943ca9d$export$598a505b27fc62a8","$b312eb443621743b$exports","homepage_image","IMAGE_URLS","homepage_image_svg","xmlnsXlink","xmlSpace","$c1f868c3d1441242$export$2e2bcd8739ae039","points","$9e23739222425783$export$2e2bcd8739ae039","$af55c4669585b12a$export$2e2bcd8739ae039","$9229f2f2b73b8cce$export$9c206ddddb32a9b","$9229f2f2b73b8cce$export$1ca1ec8b29a4ce27","$9229f2f2b73b8cce$export$a7db06668cad9adb","$cb8260eb9ba22231$export$dd7301757b50d467","icon","$9229f2f2b73b8cce$exports","paragraph","$ce7a3957da801814$export$55ed1319047b5866","$ce7a3957da801814$export$ed3e8ff874a94a0b","$ce7a3957da801814$export$e1ab7b7136d5dfef","$ce7a3957da801814$export$d468f410f4b6486c","$ce7a3957da801814$export$bd8d34ea60e8ae74","$05a4af278ae2e7e8$export$16186c86e82ce0ef","$ce7a3957da801814$exports","theme_control","lightmode_button","current_theme","greenish_button","GREENISH","bluish_button","BLUISH","$1d461a3851a098b2$export$9d87dd974b47ea18","$1d461a3851a098b2$export$250491b34cd8be67","$95ef4119bd089268$export$cee9c37d7f5dcfd9","$1d461a3851a098b2$exports","homepage_about","GITHUB_SITE_PROJECT_URL","theme_buttons","RESUME_URL","GITHUB_URL","$4a47fea7b4e9bf64$export$4cec2234a9c7ce6d","$ba77b2fc1790d9f8$export$2e2bcd8739ae039","$4a47fea7b4e9bf64$exports","homepage","$ecafe195931867fd$exports","$c8807feba177d047$exports","$02d6594e97d665f2$exports","$a3c1e9fc01edb7ac$exports","$7a012511e6323874$export$39babdfab504f3da","$8f45bb2b893f0747$export$2e2bcd8739ae039","$7a012511e6323874$exports","projects","$la7Ay","Card","DEFAULT_ROOT_MARGIN","DEFAULT_THRESHOLD","useTrackVisibility","useIntersectionObserver","rootMargin","_args$rootMargin","threshold","_args$threshold","nodeRef","rootRef","observerRef","setEntry","unobserve","currentObserver","disconnect","observe","IntersectionObserver","newEntry","initializeObserver","refCallback","rootRefCallback","rootNode","isVisible","_result$entry","isIntersecting","wasEverVisible","setWasEverVisible","$d0fe6fecd8455dd4$var$_extends","DEFAULT_DELAY_IN_MS","hasNextPage","onLoadMore","disabled","delayInMs","shouldLoadMore","timer","$cc67e880eba7d43c$var$_typeof","$cc67e880eba7d43c$var$_defineProperties","$cc67e880eba7d43c$var$_setPrototypeOf","$cc67e880eba7d43c$var$_createSuper","Derived","hasNativeReflectConstruct","construct","sham","$cc67e880eba7d43c$var$_isNativeReflectConstruct","Super","$cc67e880eba7d43c$var$_getPrototypeOf","NewTarget","ReferenceError","$cc67e880eba7d43c$var$_assertThisInitialized","$cc67e880eba7d43c$var$_possibleConstructorReturn","$cc67e880eba7d43c$export$2e2bcd8739ae039","_Component","$cc67e880eba7d43c$var$_inherits","StyleInjector","Constructor","protoProps","staticProps","instance","$cc67e880eba7d43c$var$_classCallCheck","css","$cc67e880eba7d43c$var$appendStyle","$cc67e880eba7d43c$export$39d5fe74396b389c","imageBackgroundColor","$3dd16e3e709aef6e$export$418cedbcfc990387","$3dd16e3e709aef6e$export$fbd55a4c69e8e024","$3dd16e3e709aef6e$export$4e54df4252b4a99c","$3dd16e3e709aef6e$export$cae179f078f4b4a4","$3dd16e3e709aef6e$export$fe708d541030d854","$3dd16e3e709aef6e$export$f48a22e8beb69262","$3129472ee69871ea$var$crossOriginDownload","hostname","$3129472ee69871ea$var$isSameOrigin","ok","blob","tmpAnchor","createObjectURL","click","$3129472ee69871ea$export$2e2bcd8739ae039","zoomed","toggleZoom","toggleRotate","onClose","enableDownload","enableZoom","enableRotate","download","$93c8c7edf6102aac$var$_typeof","$93c8c7edf6102aac$var$_defineProperties","$93c8c7edf6102aac$var$_setPrototypeOf","$93c8c7edf6102aac$var$_createSuper","$93c8c7edf6102aac$var$_isNativeReflectConstruct","$93c8c7edf6102aac$var$_getPrototypeOf","$93c8c7edf6102aac$var$_assertThisInitialized","$93c8c7edf6102aac$var$_possibleConstructorReturn","$93c8c7edf6102aac$var$_defineProperty","$93c8c7edf6102aac$export$2e2bcd8739ae039","$93c8c7edf6102aac$var$_inherits","$93c8c7edf6102aac$var$_classCallCheck","contextMenu","_this$props","handleDoubleClick","handleOnLoad","onDoubleClick","onContextMenu","handleOnContextMenu","$e86d7fee14bd8bcc$var$_typeof","$e86d7fee14bd8bcc$var$_defineProperties","$e86d7fee14bd8bcc$var$_setPrototypeOf","$e86d7fee14bd8bcc$var$_createSuper","$e86d7fee14bd8bcc$var$_isNativeReflectConstruct","$e86d7fee14bd8bcc$var$_getPrototypeOf","$e86d7fee14bd8bcc$var$_assertThisInitialized","$e86d7fee14bd8bcc$var$_possibleConstructorReturn","$e86d7fee14bd8bcc$var$_defineProperty","$e86d7fee14bd8bcc$export$2e2bcd8739ae039","$e86d7fee14bd8bcc$var$_inherits","Lightbox","$e86d7fee14bd8bcc$var$_classCallCheck","move","moveStart","rotationDeg","keyCode","point","changedTouches","dim","contentEl","getBoundingClientRect","clientX","left","clientY","top","touches","coords","getCoordinatesIfOverImg","prevState","handleKeyDown","hideDownload","hideZoom","showRotate","_this$props$imageBack","_this$state","onMouseDown","handleMouseDownOrTouchStart","onMouseUp","handleMouseUpOrTouchEnd","onMouseMove","handleMouseMoveOrTouchMove","onTouchStart","onTouchEnd","onTouchMove","WebkitTransform","MsTransform","$4d0c90cf2f4fa6cf$export$294ac50475523757","$4d0c90cf2f4fa6cf$export$dbd07fce1f97166e","$e20a876894bde945$export$e82c9ba1414a40bb","opened","setOpened","$4d0c90cf2f4fa6cf$exports","image_lightbox","interactive","hideClose","$800d7a77dd7c700d$export$3b2217e45a573556","$800d7a77dd7c700d$export$524e8e9a7451037d","$800d7a77dd7c700d$export$3c17558da18e4d75","$1c34e30771aece31$export$2e2bcd8739ae039","photos","numberOfPhotosVisible","setNumberOfPhotosVisible","sentryRef","$596e271c76f964b1$export$2e2bcd8739ae039","fetchPhotos","$800d7a77dd7c700d$exports","photoSet","tile","photo","$abd845aad2d7e704$var$Posts","$abd845aad2d7e704$var$PostsContent","$abd845aad2d7e704$var$Shaders","$abd845aad2d7e704$var$Pixijs","PIXIJS_URL","$abd845aad2d7e704$export$cd891b82501bb412","BABYLONJS_URL","BEVERAGE_URL","$abd845aad2d7e704$export$704b754fa01fdaed","baseRoute","DOCUMENT_TITLE_ROOT","renderRoutes","renderedRoutes","fullPath","$b2ec325d366241ee$export$2e2bcd8739ae039","$gIIvP","$4Yl7V"],"version":3,"file":"index.00e0a25b.js.map"}